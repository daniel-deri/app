{"version":3,"sources":["pages/Retired/Retired.js","utils/DeriNumberFormat.js","pages/Pool/img/staked.svg","pages/Pool/Card.js"],"names":["inject","observer","lang","wallet","poolManager","useState","curTabPool","curOpen","poolTitle","setPoolTitle","nowPool","setNowPool","setStakedAmmList","setStakedLpList","getStakedPools","a","filterPools","ammPools","lpPools","Promise","all","map","item","params","chainId","address","detail","account","apiProxy","request","isStaked","arr","filter","p","ammArr","type","lpArr","useEffect","isConnected","load","retiredPools","pools","className","rel","target","href","index","pool","Wrapper","styled","NumberFormat","props","width","LoadLine","div","test","height","DeriNumberFormat","renderablity","setRenderablity","firstTime","setFirstTime","isValidate","allowZero","value","undefined","isNaN","Math","abs","defaultValue","others","bg","toFixed","decimalScale","countDecimal","toPlainString","displayType","fixedDecimalScale","thousandSeparator","closeShowLoadingEffectAfterLoaded","timeout","window","setTimeout","clearTimeout","suffix","Card","history","useHistory","poolInfo","setPoolinfo","setIsStaked","xvsNum","setXvsNum","getPoolInfo","res","getVenusEarned","version","getIsStaked","onImgError","event","src","errorimg","url","onClick","push","staking","classNames","v3","isAllV3","alt","BSC","POLYGON","ETH","networkLogo","zone","chain","toUpperCase","isLp","bTokens","bTokenSymbol","onError","length","apy","liquidity","stakedLogo","disabled","outline","label"],"mappings":"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","file":"static/js/14.34854a55.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport { inject, observer } from 'mobx-react';\r\nimport Card from \"../../pages/Pool/Card\"\r\nimport apiProxy from '../../model/ApiProxy'\r\nimport selectIcon from '../../assets/img/arrow-down.svg'\r\nimport '../../pages/Pool/pool.less'\r\nimport './retired.less'\r\nfunction Retired({ lang, wallet = {}, poolManager }) {\r\n  const [curTabPool, setCurTabPool] = useState('amm');\r\n  const [curOpen, setCurOpen] = useState(false);\r\n  const [poolTitle, setPoolTitle] = useState(lang['deri-pool-title'])\r\n  const [nowPool, setNowPool] = useState([]);\r\n  const [checkedStaked, setCheckedStaked] = useState(false)\r\n  const [stakedAmmList, setStakedAmmList] = useState([])\r\n  const [stakedLpList, setStakedLpList] = useState([])\r\n\r\n\r\n  const getStakedPools = async () => {\r\n    let filterPools = [...poolManager.ammPools, ...poolManager.lpPools];\r\n    let arr = await Promise.all(filterPools.map(async (item) => {\r\n      let params = [item.chainId, item.address, wallet.detail.account]\r\n      let res = await apiProxy.request('getUserStakeInfo', params)\r\n      if (res.isStaked) {\r\n        return item\r\n      } else {\r\n        return false\r\n      }\r\n    }))\r\n    arr = arr.filter(p => p)\r\n    let ammArr = arr.filter(p => p.type !== 'lp')\r\n    let lpArr = arr.filter(p => p.type === 'lp')\r\n    setStakedAmmList(ammArr)\r\n    setStakedLpList(lpArr)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (wallet.isConnected()) {\r\n      getStakedPools()\r\n    }\r\n  }, [wallet.detail, poolManager, curTabPool])\r\n\r\n  useEffect(() => {\r\n    if (curOpen) {\r\n      setPoolTitle(lang['open-pool-title'])\r\n    } else {\r\n      setPoolTitle(lang['deri-pool-title'])\r\n    }\r\n  }, [curOpen])\r\n  useEffect(() => {\r\n    poolManager.load()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setNowPool(poolManager.retiredPools)\r\n  }, [poolManager.pools])\r\n  return (\r\n    <div className='pool-box'>\r\n      <div className='pool-info'>\r\n        <div className='left'>\r\n          <div className='left-header-info'>\r\n            <div className='pool-title'>\r\n              <div className='pool-title-text'>\r\n                {poolTitle}\r\n              </div>\r\n              <div className='pool-title-select-text'>\r\n                {!curOpen && <>\r\n                  <div className='pool-test-des'>\r\n                    {lang['pool-title-des-one']}\r\n                  </div>\r\n                  <div className='pool-test-des'>\r\n                    {lang['pool-title-des-two']}\r\n                  </div>\r\n                </>}\r\n                {curOpen && <>\r\n                  <div className='pool-test-des'>\r\n                    {lang['open-pool-title-des-one']}\r\n                  </div>\r\n                  <div className='pool-test-des'>\r\n                    {lang['open-pool-title-des-two']}\r\n                  </div>\r\n                </>}\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n          <div className='pool-card-claim-bg'>\r\n            <div className='retired-hint'>\r\n              <div>Several V2 markets ( <a rel=\"noreferrer\" target=\"_blank\" href=\"https://app.deri.finance/#/trade/options/retired\">Options</a> , <a rel=\"noreferrer\" target=\"_blank\" href=\"https://app.deri.finance/#/trade/futures/retired\">Fut Main &amp; Fut Inno-BUSD </a> pools) are no longer supported, please close position and remove your collaterals.\r\n<br></br> For V1 and Premining markets, please visit <a rel=\"noreferrer\" target=\"_blank\" href='https://v2app.deri.finance/#/retired'>here</a>  to close position and remove your collaterals.</div>\r\n            </div>\r\n\r\n            <div className='pool-card'>\r\n              {nowPool.map((item, index) => <Card wallet={wallet} lang={lang} pool={item} key={index} />)}\r\n            </div>\r\n            <div className></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default inject('wallet', 'poolManager')(observer(Retired))","import React,{useState,useEffect,useRef} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport NumberFormat from 'react-number-format'\r\nimport { inject, observer } from 'mobx-react';\r\nimport styled from 'styled-components';\r\nimport { toPlainString,countDecimal } from './utils';\r\nimport { bg } from '../lib/web3js';\r\nconst Wrapper = styled(NumberFormat)`\r\n  width : ${props => props.width}px;\r\n`\r\nconst LoadLine = styled.div`\r\n  width : ${props => /px$/.test(props.width) ? props.width : `${props.width}px`};\r\n  height : ${props => /px$/.test(props.height) ? props.height : `${props.height}px`};\r\n`\r\nfunction DeriNumberFormat(props){\r\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\r\n  const [firstTime, setFirstTime] = useState(true)\r\n  const isValidate = () => {\r\n    const {allowZero} = props \r\n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && !isNaN(props.value) && props.value !== 'NaN') \r\n          || ((Math.abs(props.value)) === 0 && allowZero === true )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {allowZero,wallet,defaultValue = '--',...others} = props \r\n    if(isValidate()) {\r\n      //如果精度截取之后为0，则动态获取精度，取到不为0为止\r\n      if(!allowZero && others.value && /\\d+\\.0*[1-9]+/.test(others.value)  && (+bg(others.value).toFixed((+others.decimalScale || 2))) === 0){\r\n        others.decimalScale = countDecimal(Math.abs(others.value)) + 1\r\n      }\r\n      others.value = toPlainString(others.value)\r\n      if(others.value && /\\d+.9{6}/.test(others.value)){\r\n        others.value = (+others.value).toFixed(5)\r\n      }\r\n      setRenderablity(<Wrapper {...others}  displayType = 'text'  fixedDecimalScale={true} thousandSeparator={true}/>)\r\n    } else if(firstTime){\r\n      setRenderablity(<LoadLine className='loading-line' {...props}></LoadLine>)\r\n      if(props.closeShowLoadingEffectAfterLoaded){\r\n        setFirstTime(false)\r\n      }\r\n    } \r\n    const timeout = window.setTimeout(() => {\r\n      // && wallet && (!wallet.isConnected() || !wallet.supportChain)\r\n      if(!isValidate()){\r\n        setRenderablity(defaultValue)\r\n      }\r\n    },30000)\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    };\r\n  }, [props.value,props.decimalScale,props.suffix]);\r\n\r\n  return renderablity;\r\n}\r\nexport default DeriNumberFormat\r\n// export default inject('wallet')(observer(DeriNumberFormat))","export default __webpack_public_path__ + \"static/media/staked.46571832.svg\";","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\"\r\nimport Button from '../../components/Button/Button'\r\nimport BSC from '../../assets/img/bsc-logo.svg'\r\nimport POLYGON from '../../assets/img/polygon-logo.svg'\r\nimport ETH from '../../assets/img/ethereum.svg'\r\nimport stakedLogo from './img/staked.svg'\r\nimport errorimg from '../../assets/img/ErrorImg.png'\r\nimport classNames from 'classnames'\r\nimport './card.less'\r\nexport default function Card({ lang, pool, wallet }) {\r\n  const history = useHistory();\r\n  // const [textLink,setTextLink] = useState('')\r\n  const [poolInfo, setPoolinfo] = useState({})\r\n  const [isStaked, setIsStaked] = useState(false)\r\n  const [xvsNum,setXvsNum] = useState()\r\n  const getPoolInfo = async () => {\r\n    setPoolinfo({})\r\n    let res = await pool.getPoolInfo(wallet, pool)\r\n    setPoolinfo(res)\r\n  }\r\n  const getVenusEarned = async ()=>{\r\n    if(pool && (pool.version ==='v3' || pool.version === 'v3_lite')){\r\n      let res =  await pool.getVenusEarned(wallet, pool.address)\r\n      setXvsNum(res)\r\n    }\r\n  }\r\n  const getIsStaked = async () => {\r\n    let res = await pool.getIsStaked(wallet, pool)\r\n    setIsStaked(res.isStaked)\r\n  }\r\n  const onImgError = (event) => {\r\n    event.target.src = errorimg\r\n  }\r\n  useEffect(() => {\r\n    getPoolInfo()\r\n    if (wallet.isConnected()) {\r\n      getIsStaked()\r\n      getVenusEarned()\r\n    }\r\n  }, [pool, wallet.detail.account])\r\n  const networkLogo = (chainId) => {\r\n    let src;\r\n    if (chainId === \"56\" || chainId === \"97\") {\r\n      src = BSC\r\n    } else if (chainId === \"137\") {\r\n      src = POLYGON\r\n    } else if (chainId === \"1\") {\r\n      src = ETH\r\n    }\r\n    return src\r\n  }\r\n  const staking = (url) => {\r\n    if (pool.version === 'v2_lite_open') {\r\n      return\r\n    }\r\n    history.push(url)\r\n  }\r\n  const url = `/pool/${pool.version || 'v1'}/${pool.chainId}/${pool.type}/${pool.address}`\r\n  return (\r\n    <div className={pool.version === 'v2_lite_open' ? 'card-list open-list' : 'card-list'} onClick={() => { staking(url) }} >\r\n      <div className={classNames('card-header',{v3 : pool.isAllV3})}>\r\n        <div className='pool-network-type'>\r\n          <div className='network-logo'>\r\n            <img alt='' src={networkLogo(pool.chainId)} />\r\n          </div>\r\n          <div className='pool-type-network-text'>\r\n            <div className='pool-type-text'>\r\n              {lang[pool.type]} {lang[pool.zone]}\r\n            </div>\r\n            <div className='pool-network-text'>\r\n              {pool.chain.toUpperCase()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='base-token-logo'>\r\n          {pool.isLp && <>\r\n            <div className='lp-base-token-bg'>\r\n              <div className={`basa-token-bg ${pool.bTokens[0].bTokenSymbol}`}></div>\r\n              <span className='lp-con'>+</span>\r\n              <div className={`basa-token-bg ${pool.bTokens[1].bTokenSymbol}`}></div>\r\n            </div>\r\n          </>}\r\n          {!pool.isLp && pool.version !== 'v3' && pool.version !== \"v3_lite\" && <>\r\n            {pool.bTokens.map((item, index) => <div key={index} className='base-token-box-bg'>\r\n              <div className={`basa-token-bg ${item.bTokenSymbol}`}>\r\n                {pool.version === 'v2_lite_open' && <>\r\n                  <img alt='' onError={onImgError} src={`https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/${item.bTokenSymbol}.png`} />\r\n                </>}\r\n              </div>\r\n            </div>)}\r\n          </>}\r\n          {(pool.version === \"v3\" || pool.version === \"v3_lite\") && <>\r\n            <div className='base-token-box-bg'>\r\n              <div className={`basa-token-bg ${pool.bTokens[0].bTokenSymbol}`}>\r\n              </div>\r\n            </div>\r\n            <div className='base-token-box-bg'>\r\n              <div className={`basa-token-bg ${pool.bTokens[1].bTokenSymbol}`}>\r\n              </div>\r\n            </div>\r\n            <div className='base-token-box-bg'>\r\n              <div className={`basa-token-bg ${pool.bTokens[2].bTokenSymbol}`}>\r\n              </div>\r\n            </div>\r\n            <div className='base-token-box-bg'>\r\n              <div className={`basa-token-bg`}>\r\n                {pool.bTokens.length - 3} +\r\n                </div>\r\n            </div>\r\n          </>\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className='card-content'>\r\n        <div className='max-apy'>\r\n          {pool.version !== 'v2_lite_open' && <>\r\n            <div className='max-apy-title'>\r\n              {(pool.version === 'v2' || pool.version === \"v3_lite\" || pool.version === \"v3\") ? lang['max-apy'] : lang['apy']}\r\n            </div>\r\n            <div className='max-apy-num'>\r\n              <DeriNumberFormat value={poolInfo.apy} suffix='%' displayType='text' allowZero={true} decimalScale={2} />\r\n            </div>\r\n          </>}\r\n        </div>\r\n        <div className='total-pool-liquidity'>\r\n          <div className='total-liquidity-title'>\r\n            {lang['total-pool-liquidity']}\r\n          </div>\r\n          <div className='total-liquidity-num'>\r\n            <DeriNumberFormat value={poolInfo.liquidity} displayType='text' thousandSeparator={true} decimalScale={pool.type === 'lp' ? 7 : 0} />\r\n          </div>\r\n        </div>\r\n        <div className='your-deri-epoch'>\r\n          {isStaked && <div className='staked-box'>\r\n            <img src={stakedLogo} alt='' />\r\n            {lang['staked']}\r\n          \r\n          </div>  }\r\n          {(+xvsNum > 0) && (pool.version === 'v3' || pool.version === 'v3_lite') && <span className='xvs-collectable'><div className='staked-box'><DeriNumberFormat width='50px' value={xvsNum} displayType='text' thousandSeparator={true} decimalScale={2} /> &nbsp; XVS  {lang['collectable']}</div></span> }\r\n        </div>\r\n        <div className='stake-button'>\r\n          <Button disabled={pool.version === 'v2_lite_open' ? true : false} className='button' outline label={pool.version === 'v2_lite_open' ? lang['operating'] : lang['stake']} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"sourceRoot":""}