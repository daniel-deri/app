(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[9],{614:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var i=c(4),a=c(13);function s({btnText:e,className:t,disabled:c,click:s,afterClick:n,checkApprove:l,wallet:r,spec:o,lang:d}){const[j,b]=Object(i.useState)(c?"disabled":"enabled"),[A,u]=Object(i.useState)(!0),[m,O]=Object(i.useState)(!1),[p,x]=Object(i.useState)(e),g=Object(i.useRef)(null),h=()=>{b("disabled"),O(!0),g.current&&(g.current.style.display="inline-block")},f=()=>{g.current&&(g.current.style.display="none"),b("enabled"),O(!1)};return Object(i.useEffect)((()=>((async()=>{if(l&&r&&r.detail.account){const e=await r.isApproved(o.pool,o.bTokenId);u(e)}})(),()=>{})),[r,o,l]),Object(i.useEffect)((()=>(e&&x(e),()=>{})),[e]),Object(a.jsxs)("button",{className:t,onClick:()=>{A?(async()=>{if("enabled"!==j)return;h(),await s()&&n&&n(),f()})():(async()=>{h(),(await r.approve(o.pool,o.bTokenId)).success?u(!0):(u(!1),alert(d["approve-failed"])),f()})()},children:[Object(a.jsx)("span",{className:"btn-loading-wrap",children:Object(a.jsx)("span",{ref:g,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),m?d.pending:A?p:d.approve]})}},616:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c(4),a=c(621),s=c(13);function n(e){const[t,c]=Object(i.useState)(Object(s.jsx)("span",{className:"loading-line"}));return Object(i.useEffect)((()=>{const{allowZero:t,...i}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&c(Object(s.jsx)(a.a,{...i,displayType:"text"})),()=>{}}),[e.value]),t}},624:function(e,t,c){"use strict";var i=c(4),a=c(13);t.a=function(e){const t=Object(i.useRef)(null);return Object(i.useEffect)((()=>{const e=t.current;if(e){e.querySelectorAll("[tip]").forEach((t=>{let c=null;t.addEventListener("mouseover",(e=>{const t=e.currentTarget.getAttribute("tip");if(t){const i=`hover-box-${(new Date).getTime()}`;c=document.body.querySelector(`#${i}`),c=document.createElement("div"),c.style.cssText=`z-index : 9;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`,document.body.appendChild(c),c.innerText=t,c.id=i,c.style.display="block";const a=e.currentTarget.getBoundingClientRect();if(c.style.top=`${a.y+a.height+window.document.documentElement.scrollTop}px`,c.offsetWidth+e.pageX>window.screen.width)if(e.pageX-c.offsetWidth>=0)c.style.left=e.pageX-c.offsetWidth+"px";else{const t=e.pageX-c.offsetWidth/2>0?e.pageX-c.offsetWidth/2:0;c.style.left=`${t}px`}else c.style.left=`${e.pageX}px`}})),e.addEventListener("mouseout",(e=>{c&&c.remove()}))}))}return()=>{t.current=null}}),[e.title]),e.block?Object(a.jsx)("div",{ref:t,children:e.children}):Object(a.jsx)("span",{ref:t,children:e.children})}},647:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c(4);function a(e){return Object(i.useEffect)((()=>(document.querySelector("body").style.overflow="hidden",()=>{e||(document.querySelector("body").style.overflow="auto")})),[]),null}},655:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var i=c(4),a=c(8),s=c(621),n=c(614),l=c(647),r=c(13);function o({wallet:e,spec:t={},onClose:c,balance:o,afterDeposit:d,nested:j,lang:b}){const[A,u]=Object(i.useState)(""),[m,O]=Object(i.useState)(""),[p,x]=Object(i.useState)(""),[g,h]=Object(i.useState)(!1);Object(l.a)(j);return Object(i.useEffect)((()=>((()=>{if(o){const e=(+o).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";u(o),O(t)}})(),()=>{})),[o]),Object(r.jsx)("div",{className:"modal fade",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(r.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{g||c()},children:Object(r.jsx)("span",{children:"\xd7"})})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("div",{className:"margin-box-info",children:[Object(r.jsx)("div",{children:b["wallet-balance"]}),Object(r.jsxs)("div",{className:"money",children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{className:"bt-balance",children:[Object(r.jsx)(s.a,{value:A,displayType:"text",decimalScale:0}),".",Object(r.jsx)("span",{style:{fontSize:"12px"},children:m})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(r.jsx)("span",{className:"add"})]}),Object(r.jsxs)("div",{className:"enter-margin",children:[Object(r.jsx)("div",{className:"input-margin",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"amount",style:{display:""!==p?"block":"none"},children:b.amount}),Object(r.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:p,onChange:e=>{const{value:t}=e.target;x(t)}})]})}),Object(r.jsx)("div",{children:t.bTokenSymbol})]}),Object(r.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(r.jsx)("span",{className:"max-num",children:o}),Object(r.jsx)("span",{className:"max-btn-left",onClick:()=>{x(o)},children:b["add-all"]})]}),Object(r.jsx)("div",{className:"add-margin-btn",children:Object(r.jsx)(n.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:t,lang:b,click:()=>(async i=>{const s=Object(a.g)(o);if(Object(a.g)(i).gt(s))return void alert(b["insufficient-balance-in-wallet"]);if(+i<=0||isNaN(i))return void alert(b["it-has-to-be-greater-than-zero-tip"]);h(!0),(await Object(a.l)(e.detail.chainId,t.pool,e.detail.account,i,t.bTokenId)).success?(d(),c()):alert(b["deposit-failed"]),h(!1)})(p)})})]})})]})})})}},656:function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var i=c(4),a=c(8),s=c(614),n=c(616),l=c(23),r=c(647),o=c(13);function d({wallet:e,spec:t={},position:c,onClose:d,afterWithdraw:j,availableBalance:b,nested:A,lang:u}){const[m,O]=Object(i.useState)(""),[p,x]=Object(i.useState)(""),[g,h]=Object(i.useState)(""),[f,v]=Object(i.useState)(!1);Object(r.a)(A);return Object(i.useEffect)((()=>((async()=>{if(e.isConnected()&&b){const e=b;O(e);const t=e.indexOf(".");x(t>0?e.substring(t+1,t+3):"00")}})(),()=>{})),[e.detail.account,c.margin,c.unrealizedPnl]),Object(o.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:u["withdraw-margin"]}),Object(o.jsx)("div",{className:"close",onClick:()=>{f||d()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:u["available-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsx)("span",{children:Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(n.a,{value:m,thousandSeparator:!0,decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:p})]})}),Object(o.jsx)("span",{className:"remove"})]}),Object(o.jsxs)("div",{className:"enter-margin remv",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==g?"block":"none"},children:u.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",value:g,onChange:e=>{const{value:t}=e.target;h(t)},placeholder:u.amount})]})}),Object(o.jsx)("div",{children:t.baseToken})]}),0===+c.marginHeld&&Object(o.jsxs)("div",{className:"max",children:[u.max,": ",Object(o.jsx)("span",{className:"max-num",children:m||c.margin}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{h(b)},children:u["remove-all"]})]}),+c.volume>0&&Object(o.jsxs)("div",{className:"max",children:[Object(o.jsx)("span",{className:"max-num"}),Object(o.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(s.a,{className:"margin-btn",btnText:u.withdraw,lang:u,click:async()=>{const c=Object(l.a)(m);if(Object(l.a)(g).gt(c))return void alert(u["under-margin"]);if(+g<=0||isNaN(g))return void alert(u["it-has-to-be-greater-than-zero-tip"]);v(!0);const i=c.eq(g),s=await Object(a.zb)(e.detail.chainId,t.pool,e.detail.account,g,t.bTokenId,i);if(s.success)j(),d();else{const e="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message;alert(e)}v(!1)},checkApprove:!0,wallet:e,spec:t})})]})})]})})})}},657:function(e,t,c){"use strict";t.a="data:image/png;base64,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"},690:function(e,t,c){"use strict";c.d(t,"a",(function(){return m}));var i=c(4),a=c(141),s=c(655),n=c(656),l=c(699),r=c(700),o=c(616),d=c(8),j=c(647),b=c(13);const A=Object(a.a)(s.a),u=Object(a.a)(n.a);function m({wallet:e,spec:t,afterDepositAndWithdraw:c,position:a,onClose:s,lang:n}){const[m,O]=Object(i.useState)([]),p=parseInt((document.body.offsetHeight-140)/54),[x,g]=Object(i.useState)(Array.from({length:p})),[h,f]=Object(i.useState)(!1),[v,N]=Object(i.useState)(!1),[w,y]=Object(i.useState)(""),[k,C]=Object(i.useState)(""),[S,D]=Object(i.useState)(""),[I,B]=Object(i.useState)("");Object(j.a)();const M=async()=>{if(e.detail.account&&t){const c=await Object(d.E)(e.detail.chainId,t.pool,e.detail.account,t.symbolId);O(c),c.length<p&&g(Array.from({length:p-c.length}))}};return Object(i.useEffect)((()=>(M(),window.scrollTo(0,0),()=>{})),[e.detail.account,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modal fade",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:n["balance-in-contract-uppercase"]}),Object(b.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{c(),s()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"balance-list",children:[Object(b.jsxs)("div",{className:"row header",children:[Object(b.jsx)("span",{className:"btoken pc",children:n["base-token"]}),Object(b.jsx)("span",{className:"btoken mobile",children:n["base-token"]}),Object(b.jsx)("span",{className:"w-balance pc",children:n["wallet-balance"]}),Object(b.jsx)("span",{className:"w-balance mobile",children:n["wallet-balance"]}),Object(b.jsx)("span",{className:"avail-balance pc",children:n["available-balance"]}),Object(b.jsx)("span",{className:"avail-balance mobile",children:n["available-balance"]})]}),m.map(((e,t)=>Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(b.jsx)("span",{className:"w-balance",children:Object(b.jsx)(o.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsx)("span",{className:"avail-balance",children:Object(b.jsx)(o.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsxs)("span",{className:"action",children:[Object(b.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:()=>((e,t,c)=>{y(e),D(t),B(c),f(!0)})(e.walletBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:l.a,alt:n["add-margin"]})," ",n.add]}),Object(b.jsxs)("span",{className:"remove-margin",onClick:()=>((e,t,c)=>{C(e),D(t),B(c),N(!0)})(e.availableBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:r.a,alt:n["remove-margin"]})," ",n.remove]})]})]},t))),x.map(((e,t)=>Object(b.jsx)("div",{className:"row"},t)))]})})]})})}),Object(b.jsx)(A,{wallet:e,onClose:()=>f(!1),balance:w,spec:{...t,bTokenId:S,bTokenSymbol:I},position:a,modalIsOpen:h,afterDeposit:()=>{f(!1),M()},className:"trading-dialog",nested:!0,lang:n}),Object(b.jsx)(u,{wallet:e,onClose:()=>N(!1),spec:{...t,bTokenId:S,bTokenSymbol:I},position:a,modalIsOpen:v,afterWithdraw:()=>{N(!1),M()},availableBalance:k,className:"trading-dialog",nested:!0,lang:n})]})}},699:function(e,t,c){"use strict";t.a=c.p+"static/media/remove-margin.1ccb58c4.svg"},700:function(e,t,c){"use strict";t.a=c.p+"static/media/add-margin.8b496dd1.svg"},741:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},742:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},743:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMtJREFUKFNjZACCR35JUoxM/1L//2cMY2Rk0AKJYQP//zNcY2T8v+r/P6bZcpvmPWMEaWRg/LcKqGkPy3/GVZIb51/Dpfm5f6LWH8b/YUBDXBj+M4UxPg5IqAcqZpTdsKABlyZ0cZgexkf+iVdZGRhC8dmIrhnkgt8MDKuBNif+l90wn5FYW2HqQPoGkWaQc3B5Adl7WJ0NDEkH3JoXHBgkfqYwnilJYYi0vRuYtlcTkbZDgWnbFZy2kXJVGjBXhRKRq1YDc9UsUK4CANLUkGF0vLC1AAAAAElFTkSuQmCC"},744:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMNJREFUKFNjZAAC6yOGUsy/2VP///8fxsjIqAUSwwaA8teA8qv+sv6cfdTm/DNGkEamX+yrGBkZ9vxn/r/qsN3Ja7g02x4y12L8yxj2/z+Dyz+2n2GMdvst6oGKGQ85nmjApQldHKaH0Xaf+VUGFoZQfDaiawa5gOEPw2qQzf+BtjJis5WQ3CDSDHIqroBD9h5I3SByNrKTCYY2pfFMfgpDStu7gWl7NRFpOxSYtl3BaRspV6UBc00oEblqNTBXzQLlKgA5rqOIANC/1gAAAABJRU5ErkJggg=="},745:function(e,t,c){"use strict";var i=c(14),a=c(4),s=(c(776),c(613)),n=c.n(s),l=c(41),r=c(13);t.a=Object(l.b)("version","wallet","type")(Object(l.c)((function(e){var t=e.lang,c=e.version,s=e.wallet,l=e.type,o=Object(a.useState)("main"),d=Object(i.a)(o,2),j=d[0],b=d[1],A=n()("area-picker-wrapper",j),u=Object(a.useState)({}),m=Object(i.a)(u,2),O=m[0],p=m[1],x=function(e){b(e),"innovation"===e?c.setCurrent("v2_lite"):"main"===e?c.setCurrent("v2"):"open"===e&&c.setCurrent("v2_lite_open")};return Object(a.useEffect)((function(){return c.isV2Lite?x("innovation"):c.isV2?x("main"):c.isOpen&&s.supportOpen&&x("open"),s.supportOpen?p({width:"".concat(100/3,"%")}):p({width:"".concat(50,"%")}),function(){}}),[s.detail]),(c.isV2||c.isV2Lite||c.isOpen)&&s.supportInnovation&&!l.isOption?Object(r.jsx)("div",{className:"area-picker",children:Object(r.jsxs)("div",{className:A,children:[Object(r.jsx)("span",{className:"left",style:O,onClick:function(){return x("main")},children:t["main-zone"]}),Object(r.jsx)("span",{className:"middle",style:O,onClick:function(){return x("innovation")},children:t["innovation-zone"]}),s.supportOpen&&Object(r.jsx)("span",{className:"right",style:O,onClick:function(){return x("open")},children:t["open-zone"]})]})}):null})))},768:function(e,t,c){"use strict";var i=c(4),a=c(8),s=c(613),n=c.n(s),l=c(141),r=c(655),o=c(656),d=c(616),j=c(23),b=c(41),A=c(690),u=c(700),m=c(699),O=c(741),p=c(742),x=c.p+"static/media/close-position-icon.6e2b1ee2.svg",g=c(624),h=c(13);const f=Object(l.a)(r.a),v=Object(l.a)(o.a),N=Object(l.a)(A.a);function w({trading:e,wallet:t,lang:c}){const[a,s]=Object(i.useState)(Object(h.jsx)("span",{}));return Object(i.useEffect)((()=>{let i="";t.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?i=Object(h.jsxs)("span",{children:[Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?i=Object(h.jsxs)("span",{children:[Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-three"],children:" ? "})}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(i=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-three"],children:" ? "})})]})):i=Object(h.jsxs)("span",{children:[Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-three"],children:" ? "})}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-three"],children:" ? "})})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?i=Object(h.jsxs)("span",{children:[Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?i=Object(h.jsxs)("span",{children:[Object(h.jsxs)(g.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-two"],children:" -- "})]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(i=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)(g.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-two"],children:" -- "})]})]})):i=Object(h.jsxs)("span",{children:[Object(h.jsxs)(g.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-two"],children:" -- "})]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)(g.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-two"],children:" -- "})]})]}),s(i))}),[e.position,t.detail]),Object(h.jsx)("span",{children:a})}var y=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e,trading:t,version:c,lang:s,type:l}){const[r,o]=Object(i.useState)(!1),[b,A]=Object(i.useState)(""),[y,k]=Object(i.useState)(""),[C,S]=Object(i.useState)(""),[D,I]=Object(i.useState)(!1),[B,M]=Object(i.useState)(!1),[Q,E]=Object(i.useState)(!1),[T,F]=Object(i.useState)(""),R=async()=>{if(e.isConnected()&&t.config){const c=await Object(a.Z)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.error("load balance error,maybe network is wrong")));c&&F(c)}},P=()=>{t.refresh(),R()},Y=n()("Direction","info-num",{LONG:+t.position.volume>0,SHORT:+t.position.volume<0});return Object(i.useEffect)((()=>(R(),()=>{})),[e.detail.account,t.config]),Object(i.useEffect)((()=>{if(t.position){const{position:e}=t,c=+e.volume>0?s.long:Object(j.e)(e.volume,0)||!e.volume?"--":s.short;A(c),k(Object(a.g)(e.margin).plus(e.unrealizedPnl).toString()),S(Object(a.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(h.jsxs)("div",{className:"position-info",children:[Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:s.position}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),Object(h.jsx)("div",{className:"info-right",children:Object(h.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{o(!0);const c=await Object(a.h)(e.detail.chainId,t.config.pool,e.detail.account,t.config.symbolId).finally((()=>o(!1)));c.success?P():"string"===typeof c.error?alert(c.error||s["close-position-failed"]):"object"===typeof c.error?alert(c.error.errorMessage||s["close-position-failed"]):alert(s["close-position-failed"])},children:[Object(h.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:r?"block":"none"}}),Object(h.jsx)("img",{src:x})," ",s.close]})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:s["average-entry-price"]}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:t.position.averageEntryPrice,decimalScale:2})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text balance-con",children:c.isV1||c.isV2Lite||l.isOption?Object(h.jsxs)(h.Fragment,{children:[s["balance-in-contract"],Object(h.jsx)("br",{})," (",s["dynamic-balance"],")"]}):s["dynamic-effective-balance"]}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{decimalScale:2,allowZero:!0,value:y})})]}),Object(h.jsx)("div",{className:`info-right action ${c.current}`,children:c.isV1||c.isV2Lite||l.isOption||c.isOpen?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>M(!0),children:[Object(h.jsx)("img",{src:m.a,alt:"add margin"})," ",s.add]}),Object(h.jsxs)("div",{className:"remove-margin",onClick:()=>E(!0),children:[Object(h.jsx)("img",{src:u.a,alt:"add margin"})," ",s.remove]})]}):Object(h.jsxs)("div",{onClick:()=>I(!0),children:[Object(h.jsx)("img",{src:O.a,alt:"Remove margin"})," ",s.detail]})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:s.direction}),Object(h.jsx)("div",{className:Y,children:b})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:s.margin}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:t.position.marginHeld,decimalScale:2})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)("div",{className:"title-text",children:s["unrealized-pnl"]}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsxs)("span",{className:"pnl-list",children:[Object(h.jsx)(d.a,{value:t.position.unrealizedPnl,decimalScale:8}),(t.position.unrealizedPnlList?(c.isV2||c.isV2Lite||c.isOption)&&t.position.unrealizedPnlList.length:c.isV2||c.isV2Lite)&&Object(h.jsx)("img",{src:p.a,alt:"unrealizePnl"}),(c.isV2||c.isV2Lite||c.isOption)&&Object(h.jsx)("div",{className:"pnl-box",children:t.position.unrealizedPnlList&&t.position.unrealizedPnlList.map(((e,t)=>Object(h.jsxs)("div",{className:"unrealizePnl-item",children:[Object(h.jsx)("span",{children:e[0]}),Object(h.jsx)("span",{children:Object(h.jsx)(d.a,{value:e[1],decimalScale:8})})]},t)))})]})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsxs)("div",{className:"info",children:[l.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)(g.a,{children:Object(h.jsx)("div",{className:"title-text  funding-fee",tip:s["funding-fee-tip"],children:s["funding-fee"]})}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:-t.position.fundingFee,decimalScale:8})})]}),Object(h.jsx)("div",{className:"info-right"})]}),l.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsx)(g.a,{children:Object(h.jsx)("div",{className:"title-text  funding-fee",tip:s["funding-fee-tip"],children:s["funding-fee"]})}),Object(h.jsx)("div",{className:"info-num",children:Object(h.jsx)(d.a,{value:-t.position.premiumFundingAccrued,decimalScale:8})})]}),Object(h.jsx)("div",{className:"info-right"})]})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info-left",children:[Object(h.jsxs)("div",{className:"title-text",children:[Object(h.jsx)("span",{}),l.isOption?Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-one"],children:s["liquidation-price"]})}):Object(h.jsx)("span",{children:s["liquidation-price"]})]}),Object(h.jsx)("div",{className:"info-num",children:l.isOption?Object(h.jsx)(w,{trading:t,wallet:e,lang:s}):Object(h.jsx)(d.a,{decimalScale:4,value:t.position.liquidationPrice})})]}),Object(h.jsx)("div",{className:"info-right"})]}),Object(h.jsx)(f,{wallet:e,modalIsOpen:B,onClose:()=>{M(!1)},spec:t.config,afterDeposit:()=>{M(!1),P()},balance:T,className:"trading-dialog",lang:s}),Object(h.jsx)(v,{wallet:e,modalIsOpen:Q,onClose:()=>{E(!1)},spec:t.config,afterWithdraw:()=>{E(!1),P()},position:t.position,availableBalance:C,className:"trading-dialog",lang:s}),Object(h.jsx)(N,{wallet:e,modalIsOpen:D,onClose:()=>{I(!1)},spec:t.config,afterDepositAndWithdraw:()=>{P()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:s})]})}))),k=c(643),C=c.n(k),S=c(621);var D=c(58),I=c(657);const B=D[a.a.get()].chainInfo;function M({wallet:e,his:t}){const[c,a]=Object(i.useState)(!1),s=()=>{a(!0)},l=()=>{a(!1)},r=n()("view",{hover:c});return Object(h.jsxs)("span",{className:r,onMouseOut:l,children:[Object(h.jsx)("span",{className:"view-space",onMouseOver:s,children:Object(h.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${B[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",B[e.detail.chainId].viewUrl]})}),Object(h.jsx)("span",{className:"right-arrow",onMouseOver:s,children:Object(h.jsx)("img",{alt:"",src:I.a})}),Object(h.jsx)("span",{className:"view-arrow",onMouseOver:s,onMouseOut:l,children:Object(h.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${B[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(h.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var Q=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:t,lang:c,type:a}){const[s,n]=Object(i.useState)([]);return Object(i.useEffect)((()=>(async function(){if(e.isConnected()&&t.configs&&t.config&&t.contract){const e=t.history.map((e=>{e.directionText=c["long-buy"],"SHORT"===e.direction?e.directionText=c["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=c.liquidation);const i=t.config;return i&&(e.symbol=e.symbol?e.symbol:i.symbol,e.baseTokenText=e.baseToken?` ${e.symbol} / ${e.baseToken}`:e.symbol),e}));n(e)}}(),()=>{})),[e.detail,t.configs,t.config,t.history]),Object(h.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[s.map(((t,i)=>Object(h.jsxs)("div",{className:"history-box",children:[Object(h.jsxs)("div",{className:"direction-bToken-price",children:[Object(h.jsxs)("span",{className:"direction",children:[Object(h.jsxs)("span",{className:`${t.direction}`,children:[" ",t.directionText]}),Object(h.jsx)("span",{className:"basetoken",children:t.baseTokenText}),Object(h.jsx)(M,{wallet:e,his:t})]}),Object(h.jsx)("span",{className:"history-text time",children:C.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))})]}),Object(h.jsxs)("div",{className:"time-price-volume",children:[Object(h.jsxs)("div",{className:"history-price",children:[Object(h.jsxs)("div",{className:"history-title",children:[" ",a.isOption?c["volume-notional-price"]:c["volume-price"]]}),Object(h.jsxs)("div",{className:"history-text",children:[t.volume," @ ",Object(h.jsx)(d.a,{value:t.price,decimalScale:4,displayType:"text"})]})]}),Object(h.jsxs)("div",{className:"notional",children:[Object(h.jsxs)("div",{className:"history-title",children:[" ",a.isOption?c["contract-value"]:c.notional]}),Object(h.jsx)("div",{className:"history-text",children:Object(h.jsx)(d.a,{value:t.notional,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"history-fee",children:[Object(h.jsx)("div",{className:"history-title pc",children:c["transaction-fee"]}),Object(h.jsx)("div",{className:"history-title mobile",children:c["transaction-fee"]}),Object(h.jsx)("div",{className:"history-text",children:Object(h.jsx)(d.a,{value:t.transactionFee,decimalScale:4})})]})]})]},i))),0===+s.length?Object(h.jsx)("div",{className:"no-data",children:c["no-data"]}):""]})}))),E=c(20);var T=Object(b.b)("wallet","trading","type")(Object(b.c)((function(e){e.wallet;var t=e.trading,c=e.lang,i=e.type;return Object(h.jsxs)("div",{className:"contract-box",children:[Object(h.jsx)("div",{className:"contract-header"}),Object(h.jsxs)("div",{className:"contract-info",children:[Object(h.jsx)("div",{className:"conntract-header",children:c["contract-info"]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["base-token"]}),Object(h.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map((function(e,a){return E.a.isV2&&i.isFuture?Object(h.jsx)(g.a,{children:Object(h.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(h.jsxs)("span",{className:"multiplier",tip:c["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[a],"x"]}),")"]})},a):Object(h.jsx)("span",{className:"btoken-symbol",children:e},a)}))})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"title",children:[i.isOption&&c["symbol-option"],i.isFuture&&c.symbol]}),Object(h.jsx)("div",{className:"text",children:t.contract.symbol})]}),i.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"title",children:[" ",Object(h.jsxs)("span",{children:[c["min-trade-volume"]," ( ",c.notional," )"]})," "]}),Object(h.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["funding-rate-coefficient"]}),Object(h.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["min-initial-margin-ratio"]}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["min-maintenance-margin-ratio"]}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),i.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c.underlier}),Object(h.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c.strike}),Object(h.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["option-type"]}),Object(h.jsx)("div",{className:"text",children:"C"===t.contract.optionType?"".concat(c.call):"".concat(c.put)})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"title",children:[" ",Object(h.jsxs)("span",{children:[c["min-trade-volume"]," ( ",c.notional," )"]})," "]}),Object(h.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{tip:t.initialMarginRatioTip,className:"margin-per",children:c["initial-margin-ratio"]})})}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"title",children:[" ",Object(h.jsx)(g.a,{block:!1,children:Object(h.jsxs)("span",{tip:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",c["maintenance-margin-ratio"]]})})," "]}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(h.jsxs)("div",{className:"info",children:[i.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"title",children:c["transaction-fee"]})}),i.isOption&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"title",children:Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"margin-per",tip:t.TransactionFeeTip,children:c["transaction-fee"]})})})}),Object(h.jsxs)("div",{className:"text",children:[i.isOption&&Object(h.jsxs)(h.Fragment,{children:["C"===t.contract.optionType&&Object(h.jsxs)(h.Fragment,{children:[t.contract.strike>=t.index&&Object(h.jsxs)(h.Fragment,{children:[c["eo-mark-price"]," * ",Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike<t.index&&Object(h.jsxs)(h.Fragment,{children:[t.contract.underlier," ",c.price," * ",Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==t.contract.optionType&&Object(h.jsxs)(h.Fragment,{children:[t.contract.strike<t.index&&Object(h.jsxs)(h.Fragment,{children:[c["eo-mark-price"]," * ",Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike>=t.index&&Object(h.jsxs)(h.Fragment,{children:[t.contract.underlier," ",c.price," * ",Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),i.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),t.contract.indexConstituents&&t.contract.indexConstituents.tokens.length>0&&Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("div",{className:"title",children:c["index-constituent"]}),Object(h.jsx)("div",{className:"text",children:t.contract.indexConstituents.tokens.join(" | ")})]})]})]})}))),F=c(0),R=c.n(F),P=c(1),Y=c(14),J=c(988);c(914),c(775);const{Handle:G}=J.b;function H(e){const{value:t,dragging:c,index:i,...a}=e;return Object(h.jsx)(J.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(h.jsx)(G,{value:t,...a})},i)}function L({max:e="--",start:t,onValueChange:c,freeze:s,currentSymbolMarginHeld:l,originMarginHeld:r,setStopCalculate:o}){const[d,j]=Object(i.useState)(0),[b,A]=Object(i.useState)(0),[u,m]=Object(i.useState)(!1),[O,p]=Object(i.useState)({}),[x,g]=Object(i.useState)(!1),[f,v]=Object(i.useState)(!1);Object(i.useEffect)((()=>(m(s),0===Math.abs(e)&&m(!0),()=>{})),[s,e]),Object(i.useEffect)((()=>{const t=e;return 0!==Math.abs(e)&&"--"!==e||(e=100),isNaN(t)&&j(""),e&&p((e=>{const t={},c=+e/10;for(let i=0;i<=10;i++)if(0===i||10===i){const e={top:"-16px",position:"relative"};10===i&&(e.width=100,e.left="-10px",e.paddingRight="10px"),t[i*c]=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:e,children:10===i?(i*c).toFixed(2):i*c}),Object(h.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[i*c]="l";return t})(e)),j(+e),"--"!==t&&g(!0),0!==Math.abs(e)&&0!==Math.abs(t)||g(!1),()=>{}}),[e]),Object(i.useEffect)((()=>(f||(isNaN(t)?A(0):A(t)),()=>{})),[t]);const N=n()("deri-slider",{controlled:x});return Object(h.jsx)(J.b,{handle:H,className:N,start:t,min:0,max:d,value:b,onChange:e=>{v(!0),o(!0),A(e),c(e,!1)},onAfterChange:e=>{if(l){const t=Object(a.g)(r).minus(l);Object(a.g)(e).lt(t)&&(A(t),c(t))}v(!1),o(!1)},disabled:u,overlay:b,step:.01,marks:O})}var q=c(614),Z=c(19);var z=c.p+"static/media/arrow-down.5e5e4213.svg",U=c.p+"static/media/arrow-up.d36fae6d.svg";function V({symbol:e,trading:t,onSelect:c,index:a,version:s,type:l}){const[r,o]=Object(i.useState)(0),d=n()("sub-menu",{show:a===r});return Object(h.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(h.jsxs)("div",{className:"catalog",onClick:()=>(e=>{o(r===e?-1:e)})(a),children:[e,Object(h.jsx)("span",{className:"sub-memu-icon",children:r===a?Object(h.jsx)("img",{src:U,alt:""}):Object(h.jsx)("img",{src:z,alt:""})})]}),Object(h.jsx)("div",{className:d,children:Array.isArray(t.optionsConfigs[e])&&t.optionsConfigs[e].map(((e,t)=>Object(h.jsx)("div",{className:"dropdown-item",onClick:()=>c(e),children:Object(h.jsx)(W,{spec:e,version:s,type:l})},t)))},a)]},a)}function W({version:e,spec:t,type:c}){return c.isOption?`${t&&t.symbol||"BTCUSD-70000-C"}`:e.isV1||e.isV2Lite||e.isOpen?`${t&&t.symbol||"BTCUSD"} / ${t&&t.bTokenSymbol||"BUSD"} (10X)`:`${t&&t.symbol||"BTCUSD"} (10X)`}var K=Object(b.b)("trading","version","loading","type")(Object(b.c)((function({trading:e,version:t,loading:c,type:a}){const[s,l]=Object(i.useState)(!1),r=n()("dropdown-menu",{show:s}),o=t=>{t&&(c.loading(),e.pause(),e.onSymbolChange(t,(()=>c.loaded()),a.isOption),l(!1))};return Object(i.useEffect)((()=>{const e=e=>{document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&l(!1)};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[]),Object(h.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(h.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),l(!s)},className:"btn chec",children:[Object(h.jsx)(W,{spec:e.config,version:t,type:a}),Object(h.jsx)("span",{className:"check-base-down",children:s?Object(h.jsx)("img",{src:U,alt:""}):Object(h.jsx)("img",{src:z,alt:""})})]}),Object(h.jsx)("div",{className:r,children:a.isFuture?e.configs.map(((e,c)=>Object(h.jsx)("div",{className:"dropdown-item",onClick:t=>o(e),children:Object(h.jsx)(W,{spec:e,version:t,type:a})},c))):Object.keys(e.optionsConfigs).map(((c,i)=>Object(h.jsx)(V,{index:i,symbol:c,trading:e,onSelect:o,version:t,type:a},i)))})]})}))),X=c(743),$=c(744),_=Object(l.a)((function(e){var t=e.wallet,c=e.spec,s=e.onClose,n=e.direction,l=e.volume,r=e.position,o=void 0===r?0:r,d=e.indexPrice,j=e.leverage,b=e.afterLeverage,A=e.transFee,u=e.afterTrade,m=e.lang,O=e.markPriceAfter,p=e.trading,x=e.liquidationPrice,g=Object(i.useState)(!1),f=Object(Y.a)(g,2),v=f[0],N=f[1],w=function(){var e=Object(P.a)(R.a.mark((function e(){var i,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),l=Object(a.g)(l).div(Object(a.g)(p.contract.multiplier)).toString(),l="long"===n?l:-+l,e.next=5,Object(a.tb)(t.detail.chainId,c.pool,t.detail.account,l,c.symbolId);case 5:(i=e.sent).success?(u(),s()):(r="string"===typeof i.error?i.error:i.error.errorMessage||i.error.message,alert(r)),N(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){v||s()},k="long"===n?Object(a.g)(l).plus(Object(a.g)(o)).toString():Object(a.g)(o).minus(Object(a.g)(l)).toString();return Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("div",{className:"title",children:m.confirm}),Object(h.jsx)("div",{className:"close","data-dismiss":"modal",onClick:y,children:Object(h.jsx)("span",{children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"contract-box-info",children:[Object(h.jsxs)("div",{className:"top",children:[Object(h.jsxs)("div",{className:"text",children:[Object(h.jsxs)("div",{className:"text-title",children:["# ",m["of-contracts"]]}),Object(h.jsx)("div",{className:"text-num",children:"long"===n?l:"-".concat(l)})]}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m["position-after-execution"]}),Object(h.jsx)("div",{className:"text-num",children:k})]}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m.direction}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)("span",{className:n,children:m[n.toLowerCase()]})})]}),Z.a.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"text",children:[Object(h.jsxs)("div",{className:"text-title",children:[c.symbol," ",m["trade-price-estimated"]]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(S.a,{value:d,decimalScale:2,displayType:"text"})})]})}),Z.a.isOption&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m["trade-price"]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(S.a,{value:O,decimalScale:2,displayType:"text"})})]})}),Z.a.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m["cur-pos-leverage"]}),Object(h.jsxs)("div",{className:"text-num",children:[j,"X"]})]}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m["leverage-after-execution"]}),Object(h.jsxs)("div",{className:"text-num",children:[b,"X"]})]})]}),Z.a.isFuture&&Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m["liquidation-price"]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(S.a,{value:x,decimalScale:2,displayType:"text"})})]}),Object(h.jsxs)("div",{className:"text",children:[Object(h.jsx)("div",{className:"text-title",children:m["transaction-fee"]}),Object(h.jsx)("div",{className:"text-num",children:Object(h.jsx)(S.a,{value:A,decimalScale:2,suffix:" ".concat(c.bTokenSymbol),displayType:"text"})})]})]}),Object(h.jsx)("div",{className:"modal-footer",children:Object(h.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(h.jsx)("button",{className:"cancel",onClick:y,children:m.cancel}),Object(h.jsx)(q.a,{className:"confirm",btnText:m.ok,click:w,lang:m})]})})]})})]})})})),ee=Object(l.a)(r.a),te=Object(l.a)(o.a),ce=Object(l.a)(A.a);function ie(e){var t=e.hasConnectWallet,c=e.wallet,s=e.spec,n=e.volume,l=e.available,r=e.baseToken,o=e.leverage,d=e.indexPrice,j=e.position,b=e.transFee,A=e.afterTrade,u=e.direction,m=e.trading,O=e.version,p=e.lang,x=e.type,g=e.markPriceAfter,f=e.afterLeverage,v=e.liquidationPrice,N=Object(i.useState)(!0),w=Object(Y.a)(N,2),y=w[0],k=w[1],C=Object(i.useState)(!0),S=Object(Y.a)(C,2),D=S[0],I=S[1],B=Object(i.useState)(!1),M=Object(Y.a)(B,2),Q=M[0],E=M[1],T=Object(i.useState)(!1),F=Object(Y.a)(T,2),J=F[0],G=F[1],H=Object(i.useState)(""),L=Object(Y.a)(H,2),Z=L[0],z=L[1],U=function(){var e=Object(P.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.approve(s.pool,s.bTokenId);case 2:e.sent.success?(k(!0),K()):(k(!1),alert(p["approve-failed"]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(P.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.refresh(),G(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){m.refresh(),G(!1)},K=function(){var e=Object(P.a)(R.a.mark((function e(){var i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!s){e.next=5;break}return e.next=3,c.isApproved(s.pool,s.bTokenId);case 3:i=e.sent,k(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(P.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!s){e.next=5;break}return e.next=3,Object(a.Z)(c.detail.chainId,s.pool,c.detail.account,s.bTokenId).catch((function(e){return console.error("getWalletBalance was error,maybe network is Wrong")}));case 3:(t=e.sent)&&z(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return t()&&s&&X(),function(){}}),[c.detail.account,s,l]),Object(i.useEffect)((function(){return I(!n),function(){}}),[n]),Object(i.useEffect)((function(){return s&&K(),function(){}}),[c.detail.isApproved,s]);var $=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_,{wallet:c,className:"trading-dialog",spec:s,modalIsOpen:Q,onClose:function(){return E(!1)},leverage:o,baseToken:r,volume:n,position:j.volume,indexPrice:d,transFee:b,afterTrade:A,direction:u,lang:p,markPriceAfter:g,afterLeverage:f,liquidationPrice:v,trading:m}),Object(h.jsx)("button",{className:"short-submit",onClick:function(){return E(!0)},children:p.trade})]});return t()?y?!l||+l<=0?$=Object(h.jsxs)(h.Fragment,{children:[O.isV2&&!x.isOption?Object(h.jsx)(ce,{wallet:c,modalIsOpen:J,onClose:W,spec:s,afterDepositAndWithdraw:W,position:m.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:p}):Object(h.jsx)(ee,{wallet:c,modalIsOpen:J,onClose:function(){return G(!1)},spec:s,balance:Z,afterDeposit:V,className:"trading-dialog",lang:p}),Object(h.jsx)("div",{className:"noMargin-text",children:0!==+m.position.margin&&m.position.margin?p["not-enough-margin-tip"]:p["no-margin-tip"]}),Object(h.jsx)("button",{className:"short-submit",onClick:function(){return G(!0)},children:p.deposit})]}):D&&($=Object(h.jsx)("button",{className:"btn btn-danger short-submit",children:p["enter-volume"]})):$=Object(h.jsx)(q.a,{className:"approve",btnText:p.approve,click:U,lang:p}):$=Object(h.jsx)(q.a,{className:"btn btn-danger connect",btnText:p["connect-wallet"],click:function(){c.connect()},lang:p}),Object(h.jsx)("div",{className:"submit-btn",children:$})}var ae=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function(e){var t=e.wallet,c=void 0===t?{}:t,s=e.trading,l=e.version,r=e.lang,o=e.type,j=Object(i.useState)("long"),b=Object(Y.a)(j,2),A=b[0],u=b[1],m=Object(i.useState)(),O=Object(Y.a)(m,2),p=O[0],x=O[1],f=Object(i.useState)({}),v=Object(Y.a)(f,2),N=v[0],w=v[1],y=Object(i.useState)(""),k=Object(Y.a)(y,2),C=k[0],S=k[1],D=Object(i.useState)(""),I=Object(Y.a)(D,2),B=I[0],M=I[1],Q=Object(i.useState)(""),E=Object(Y.a)(Q,2),T=E[0],F=E[1],J=Object(i.useState)(""),G=Object(Y.a)(J,2),H=G[0],q=G[1],Z=Object(i.useState)({}),z=Object(Y.a)(Z,2),U=z[0],V=z[1],W=Object(i.useState)("rise"),_=Object(Y.a)(W,2),ae=_[0],se=_[1],ne=Object(i.useState)("rise"),le=Object(Y.a)(ne,2),re=le[0],oe=le[1],de=Object(i.useState)("0.000"),je=Object(Y.a)(de,2),be=je[0],Ae=je[1],ue=Object(i.useState)(""),me=Object(Y.a)(ue,2),Oe=me[0],pe=me[1],xe=Object(i.useState)(!0),ge=Object(Y.a)(xe,2),he=ge[0],fe=ge[1],ve=Object(i.useState)(!1),Ne=Object(Y.a)(ve,2),we=Ne[0],ye=Ne[1],ke=Object(i.useState)(!1),Ce=Object(Y.a)(ke,2),Se=Ce[0],De=Ce[1],Ie=Object(i.useState)(!1),Be=Object(Y.a)(Ie,2),Me=Be[0],Qe=Be[1],Ee=Object(i.useState)(!1),Te=Object(Y.a)(Ee,2),Fe=Te[0],Re=Te[1],Pe=Object(i.useState)(!1),Ye=Object(Y.a)(Pe,2),Je=Ye[0],Ge=Ye[1],He=Object(i.useState)(!1),Le=Object(Y.a)(He,2),qe=Le[0],Ze=Le[1],ze=Object(i.useState)(""),Ue=Object(Y.a)(ze,2),Ve=Ue[0],We=Ue[1],Ke=Object(i.useRef)(),Xe=Object(i.useRef)(),$e=n()("checked-long","check-long-short"," long-short",{"checked-short":"short"===A}),_e=n()("contrant-input",{inputFamliy:""!==s.volume}),et=function(){tt()},tt=function(){ct(),s.refresh()},ct=function(){var e=Object(P.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!s.config){e.next=5;break}return e.next=3,Object(a.Z)(c.detail.chainId,s.config.pool,c.detail.account,s.config.bTokenId).catch((function(e){return console.log(e)}));case 3:(t=e.sent)&&pe(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=et,at=function(){return c&&c.detail&&c.detail.account},st=function(e){s.setVolume(""),u(e)},nt=function(){var e=Object(P.a)(R.a.mark((function e(){var t,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(at()&&s.config&&s.volumeDisplay)){e.next=6;break}return t=lt(s.volumeDisplay),e.next=4,Object(a.r)(c.detail.chainId,s.config.pool,Math.abs(t),s.config.symbolId);case 4:i=e.sent,isNaN(i)||q((+i).toFixed(2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(e){return Object(a.g)(e).div(Object(a.g)(s.contract.multiplier)).toString()},rt=function(){var e=Object(P.a)(R.a.mark((function e(){var t,i,n,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(at()&&s.config&&s.volumeDisplay&&o.isFuture)){e.next=10;break}return t=c.detail,i="long"===A?s.volumeDisplay:-s.volumeDisplay,e.next=5,Object(a.y)(t.chainId,s.config.pool,s.config.symbolId);case 5:return n=e.sent,e.next=8,Object(a.u)(t.chainId,s.config.pool,i,s.config.symbolId);case 8:l=e.sent,n&&l&&V({curLiqUsed:n.liquidityUsed0,afterLiqUsed:l.liquidityUsed1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(P.a)(R.a.mark((function e(){var t,i,n,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(at()&&s.config&&s.volumeDisplay)){e.next=7;break}return t=lt(s.volumeDisplay),i="long"===A?t:-t,e.next=5,Object(a.s)(c.detail.chainId,s.config.pool,i,s.config.symbolId);case 5:(n=e.sent)&&(l=o.isOption?n.deltaFunding1:n.fundingRate1,S(l));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(P.a)(R.a.mark((function e(){var t,i,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(at()&&s.config&&s.volumeDisplay)){e.next=7;break}return t=lt(s.volumeDisplay),i="long"===A?t:-t,e.next=5,Object(a.v)(c.detail.chainId,s.config.pool,i,s.config.symbolId);case 5:(n=e.sent)&&M(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(P.a)(R.a.mark((function e(){var t,i,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(at()&&s.config&&s.volumeDisplay)){e.next=7;break}return t=lt(s.volumeDisplay),i="long"===A?t:-t,e.next=5,Object(a.t)(c.detail.chainId,s.config.pool,c.detail.account,i,s.config.symbolId);case 5:(n=e.sent)&&F(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e;return s.position&&s.position.volume&&(e=+s.position.volume,u(e>=0?"long":"short")),function(){}}),[s.position.volume]),Object(i.useEffect)((function(){return Me||""===s.volumeDisplay?c.detail.account&&s.resume():(s.pause(),ot(),o.isOption&&dt(),rt(),nt(),jt()),function(){}}),[s.volumeDisplay,Me]),Object(i.useEffect)((function(){return ct(),function(){}}),[c.detail.account,s.config,s.amount.dynBalance]),Object(i.useEffect)((function(){if(Ke.current>s.index?se("fall"):se("rise"),Ke.current=s.index,s.index){var e=s.index.toLocaleString(void 0,{minimumFractionDigits:2}),t=s.config&&s.config.symbol.split("-")[0];document.querySelector("head title").innerText="$".concat(e," ").concat(t,".deri")}return function(){document.querySelector("head title").innerText="deri"}}),[s.index,s.config]),Object(i.useEffect)((function(){if(s.position){var e=s.position;We(Object(a.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[s.position.volume,s.position.margin,s.position.unrealizedPnl]),Object(i.useEffect)((function(){if(o.isOption){var e=s.position.markPrice;Xe.current>e?oe("fall"):oe("rise"),Xe.current=e,x(e)}}),[s.index,s.position]),Object(i.useEffect)((function(){return s.config&&w(s.config),function(){}}),[s.config]),Object(i.useEffect)((function(){return s.margin&&s.direction&&u(s.direction),function(){}}),[s.margin]),Object(i.useEffect)((function(){var e="0.000";"0.0001"===s.contract.multiplier?e="0.0000":"0.001"===s.contract.multiplier?e="0.000":"0.01"===s.contract.multiplier?e="0.00":"0.1"===s.contract.multiplier?e="0.0":"1"===s.contract.multiplier&&(e="0"),Ae(e)}),[s.contract]),Object(i.useEffect)((function(){return s.index&&c.isConnected()&&c.supportChain&&fe(!1),function(){}}),[c.detail.account,s.index]),Object(i.useEffect)((function(){return we||(s.position.volume>0?s.volume<0?u("short"):u("long"):s.position.volume<0&&(s.volume>0?u("short"):u("long"))),function(){}}),[s.volume,we]),Object(i.useEffect)((function(){return s.setUserSelectedDirection(A),function(){}}),[A]),Object(h.jsx)("div",{className:"trade-info",children:Object(h.jsxs)("div",{className:"trade-peration",children:[Object(h.jsxs)("div",{className:"check-baseToken",children:[Object(h.jsx)(K,{setSpec:w,spec:s.config,isOption:o.isOption}),Object(h.jsxs)("div",{className:o.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[o.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"index-prcie",children:[r["index-price"],": ",Object(h.jsxs)("span",{className:ae,children:["\xa0 ",Object(h.jsx)(d.a,{value:s.index,decimalScale:2})]})]})}),o.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"mark-price",children:[r["eo-mark-price"]," : ",Object(h.jsxs)("span",{className:re,children:["\xa0 ",Object(h.jsx)(d.a,{value:p,decimalScale:4})]})]}),Object(h.jsxs)("div",{className:"index-prcie",children:[s.config&&o.isOption?s.config.symbol.split("-")[0]:""," : ",Object(h.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(d.a,{value:s.index,decimalScale:2})]}),Object(h.jsx)("span",{className:"vol",children:" | "}),r.vol," : ",Object(h.jsx)(d.a,{value:s.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(h.jsxs)("div",{className:"funding-rate",children:[o.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate"]," : \xa0"]}),Object(h.jsx)(g.a,{block:!1,tip:s.optionFundingRateTip,children:Object(h.jsx)("span",{className:"funding-per",tip:s.optionFundingRateTip||"",children:Object(h.jsx)(d.a,{value:s.fundingRate.premiumFunding0,decimalScale:4})})})]}),o.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate-annual"]," : \xa0"]}),Object(h.jsx)(g.a,{block:!1,tip:s.fundingRateTip,children:Object(h.jsx)("span",{className:"funding-per",tip:s.fundingRateTip||"",children:Object(h.jsx)(d.a,{value:s.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]}),Object(h.jsxs)("div",{className:o.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[o.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"index-prcie",children:[r.index,": ",Object(h.jsxs)("span",{className:ae,children:["\xa0 ",Object(h.jsx)(d.a,{value:s.index,decimalScale:2})]})]})}),o.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"mark-price",children:[r["eo-mark-price"]," : ",Object(h.jsxs)("span",{className:re,children:["\xa0 ",Object(h.jsx)(d.a,{value:p,decimalScale:2})]})]}),Object(h.jsxs)("div",{className:"index-prcie",children:[s.config&&o.isOption?s.config.symbol.split("-")[0]:"",": ",Object(h.jsxs)("span",{className:ae,children:["\xa0 ",Object(h.jsx)(d.a,{value:s.index,decimalScale:2})]})]}),Object(h.jsxs)("div",{className:"index-prcie",children:[r.vol,": ",Object(h.jsx)(d.a,{value:s.position.volatility,decimalScale:2})]})]}),Object(h.jsxs)("div",{className:"funding-rate",children:[o.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate"]," : \xa0"]}),Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",tip:s.optionFundingRateTip||"",children:Object(h.jsx)(d.a,{value:s.fundingRate.premiumFunding0,decimalScale:4})})})]}),o.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:[r["funding-rate-annual"]," : \xa0"]}),Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",tip:s.fundingRateTip||"",children:Object(h.jsx)(d.a,{value:s.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]})]}),Object(h.jsxs)("div",{className:$e,children:[Object(h.jsx)("div",{className:"check-long",onClick:function(){return st("long")},children:r["long-buy"]}),Object(h.jsx)("div",{className:"check-short",onClick:function(){return st("short")},children:r["short-sell"]})]}),Object(h.jsxs)("div",{className:"the-input",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsxs)("div",{className:"current-position",children:[Object(h.jsx)("span",{children:r["current-position"]}),Object(h.jsx)("span",{className:"position-text",children:Object(h.jsx)(d.a,{value:s.position.volume,allowZero:!0})})]}),Object(h.jsx)("div",{className:"contrant option-input",children:Object(h.jsxs)("div",{className:"bg-input",children:[Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"number",step:s.contract.multiplier,onFocus:function(e){e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:function(e){var t=e.target,c=s.contract.multiplier.indexOf("."),i=s.contract.multiplier.slice(c).length,a=t.value;-1!==t.value.indexOf(".")&&(a=t.value.substring(0,t.value.indexOf(".")+i),De(0===+(a="0"===a?"":a)),s.setVolume(a)),""===t.value&&t.setAttribute("class","contrant-input")},onKeyPress:function(e){46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},disabled:!s.index||0===Math.abs(s.position.margin),onChange:function(e){return function(e){var t=e.target.value;s.setVolume(t),ye(!0)}(e)},value:s.volumeDisplay,className:_e,placeholder:be})}),Object(h.jsx)("div",{className:"option-unit",children:s.config&&s.config.unit})]})}),Se&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"min-quantity",children:[r["option-input-min-quantity"],"\xa0 ",s.contract.multiplier," \xa0",s.config&&s.config.unit]})})]}),Object(h.jsx)("div",{className:"right-info",children:Object(h.jsxs)("div",{className:"contrant-info ".concat(l.current),children:[Object(h.jsxs)("div",{className:"balance-contract",children:[l.isV1&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{className:"balance-contract-text pc v1",children:[r["balance-in-contract"],Object(h.jsx)("br",{}),"(",r["dynamic-balance"],")"]}),Object(h.jsxs)("span",{className:"balance-contract-text mobile v1",children:[r["balance-in-contract"],Object(h.jsx)("br",{}),"(",r["dynamic-balance"],")"]})]}),(l.isV2||l.isV2Lite||o.isOption||l.isOpen)&&Object(h.jsxs)(g.a,{block:!1,children:[Object(h.jsx)("span",{className:"balance-contract-text pc",tip:r["dynamic-effective-balance-title"],children:r["dynamic-effective-balance"]}),Object(h.jsx)("span",{className:"balance-contract-text mobile",tip:r["dynamic-effective-balance-title"],children:r["dynamic-effective-balance"]})]}),Object(h.jsxs)("span",{className:"balance-contract-num ".concat(l.current),children:[l.isV1||l.isV2Lite||o.isOption||l.isOpen?Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:function(){return Ge(!0)},tip:r["remove-margin"],children:Object(h.jsx)("img",{src:X.a,alt:"add margin"})})}):Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"open-add",id:"openAddMargin",tip:r["remove-margin"],onClick:function(){return Ze(!0)},children:Object(h.jsx)("img",{src:X.a,alt:"add margin"})})}),Object(h.jsx)(d.a,{value:s.amount.dynBalance,allowZero:!0,decimalScale:2}),l.isV1||l.isV2Lite||o.isOption||l.isOpen?Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"open-remove",onClick:function(){return Re(!0)},tip:r["add-margin"],children:Object(h.jsx)("img",{src:$.a,alt:"add margin"})})}):Object(h.jsx)(g.a,{block:!1,children:Object(h.jsx)("span",{className:"open-remove",onClick:function(){return Ze(!0)},tip:r["add-margin"],children:Object(h.jsx)("img",{src:$.a,alt:"add margin"})})})]})]}),l.isV1&&Object(h.jsxs)("div",{className:"box-margin",children:[Object(h.jsx)("span",{children:r.margin}),Object(h.jsx)("span",{className:"margin",children:Object(h.jsx)(d.a,{value:s.amount.margin,allowZero:!0,decimalScale:2})})]}),(l.isV2||l.isV2Lite||o.isOption||l.isOpen)&&Object(h.jsxs)(g.a,{block:!1,children:[Object(h.jsx)("div",{className:"box-margin",children:r.margin}),Object(h.jsxs)("div",{className:"box-margin",children:[Object(h.jsxs)("span",{className:"total-held",tip:r["total-held-title"],children:["\xa0- ",r["total-held"]]}),Object(h.jsx)("span",{className:"margin",children:Object(h.jsx)(d.a,{value:s.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(h.jsxs)("div",{className:"margin-held-pos",children:[Object(h.jsxs)("span",{className:"pos-held",tip:r["for-this-pos-title"],children:["\xa0- ",r["for-this-pos"]," "]}),Object(h.jsx)("span",{className:"margin",children:Object(h.jsx)(d.a,{value:s.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(h.jsx)(g.a,{block:!0,children:Object(h.jsxs)("div",{className:"available-balance",children:[Object(h.jsxs)("span",{className:"pc",tip:r["available-balance-title"],children:[" ",r["available-balance"]," "]}),Object(h.jsx)("span",{className:"mobile",tip:r["available-balance-title"],children:r["available-balance"]}),Object(h.jsx)("span",{className:"available-balance-num",children:Object(h.jsx)(d.a,{value:s.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(h.jsx)("div",{className:"slider mt-13",children:Object(h.jsx)(L,{max:s.amount.dynBalance,onValueChange:function(e,t){s.setSlideMargin(e),ye(!1),t&&u("long"===A?"short":"long")},start:s.amount.margin,freeze:he,currentSymbolMarginHeld:s.position.marginHeldBySymbol,originMarginHeld:s.position.marginHeld,setStopCalculate:function(e){return Qe(e)}})}),Object(h.jsx)("div",{className:"title-margin",children:r.margin}),Object(h.jsx)("div",{className:"enterInfo",children:!!s.volumeDisplay&&Object(h.jsxs)(h.Fragment,{children:[o.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["trade-price"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:s.index,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["pool-liquidity"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:s.fundingRate.liquidity,decimalScale:2,suffix:" ".concat(N.bTokenSymbol)})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["liquidity-used"]}),Object(h.jsxs)("div",{className:"text-enter",children:[Object(h.jsx)(d.a,{value:U.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(h.jsx)(d.a,{value:U.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["funding-rate-impact"]}),Object(h.jsxs)("div",{className:"text-enter",children:[Object(h.jsx)(d.a,{value:s.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(h.jsx)(d.a,{value:C,decimalScale:4,suffix:"%"})]})]})]}),o.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["mark-price"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:p,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["trade-price"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:B,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter pool",children:r["pool-liquidity"]}),Object(h.jsx)("div",{className:"text-enter poolL",children:Object(h.jsx)(d.a,{value:s.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:" ".concat(s.config.bTokenSymbol)})})]})]}),Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["transaction-fee"]}),Object(h.jsx)("div",{className:"text-enter",children:Object(h.jsx)(d.a,{value:H,allowZero:!0,decimalScale:2,suffix:" ".concat(s.config.bTokenSymbol)})})]}),o.isFuture&&Object(h.jsxs)("div",{className:"text-info",children:[Object(h.jsx)("div",{className:"title-enter",children:r["liquidation-price"]}),Object(h.jsx)("div",{className:"text-enter",children:T>0?Object(h.jsx)(d.a,{value:T,decimalScale:2}):"--"})]})]})}),Object(h.jsx)(ie,{hasConnectWallet:at,transFee:H,wallet:c,spec:s.config,indexPrice:s.index,available:s.amount.available,volume:s.volumeDisplay,direction:A,leverage:s.amount.leverage,afterLeverage:s.amount.afterLeverage,afterTrade:function(){s.setVolume(""),s.refresh(),c.refresh()},position:s.position,trading:s,version:l,lang:r,type:o,markPriceAfter:B,liquidationPrice:T}),Object(h.jsx)(ee,{wallet:c,modalIsOpen:Fe,onClose:function(){return Re(!1)},spec:s.config,afterDeposit:it,balance:Oe,className:"trading-dialog",lang:r}),Object(h.jsx)(te,{wallet:c,modalIsOpen:Je,onClose:function(){return Ge(!1)},spec:s.config,afterWithdraw:et,availableBalance:Ve,position:s.position,className:"trading-dialog",lang:r}),Object(h.jsx)(ce,{wallet:c,modalIsOpen:qe,onClose:function(){return Ze(!1)},spec:s.config,afterDepositAndWithdraw:function(){tt()},position:s.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:r})]})})})));t.a=Object(b.b)("wallet","trading","loading","version","type")(Object(b.c)((function({wallet:e,trading:t,isPro:c,lang:a,loading:s,version:l,type:r}){const[o,d]=Object(i.useState)("trade"),j=e=>d(e),b=n()("trade-position",o);return Object(i.useEffect)((()=>(e.detail.account&&(s.loading(),t.init(e,(()=>{s.loaded()}))),()=>{t.clean()})),[e.detail.account,l.current]),Object(h.jsxs)("div",{className:b,children:[Object(h.jsx)("div",{className:"header-top",children:Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("span",{className:"trade",onClick:()=>j("trade"),children:a.trade}),!c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"pc position",onClick:()=>j("position"),children:a["my-position"]}),Object(h.jsx)("span",{className:"mobile position",onClick:()=>j("position"),children:a["my-position"]}),Object(h.jsx)("span",{className:"history",onClick:()=>j("history"),children:a.history})]})]})}),Object(h.jsx)(ae,{lang:a}),Object(h.jsx)(y,{lang:a}),Object(h.jsx)(Q,{wallet:e,spec:t.config,specs:t.configs,lang:a}),Object(h.jsx)(T,{lang:a})]})})))},775:function(e,t,c){},776:function(e,t,c){}}]);
//# sourceMappingURL=9.14aeb640.chunk.js.map