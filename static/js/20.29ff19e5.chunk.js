/*! For license information please see 20.29ff19e5.chunk.js.LICENSE.txt */
(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[20,9],{1006:function(t,e){},1007:function(t,e){},1008:function(t,e){},1009:function(t,e){},1010:function(t,e){},1011:function(t,e){},1158:function(t){t.exports=JSON.parse('{"container_id":"tv-container","library_path":"/charting_library/","custom_css_url":"/style/tradingview-overide.css","disabled_features":["header_widget","timeframes_toolbar","go_to_date"],"fullscreen":false,"autosize":true,"overrides":{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","scalesProperties.textColor":"#aaa","mainSeriesProperties.candleStyle.upColor":"#4bffb5","mainSeriesProperties.candleStyle.downColor":"#d75442","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#4bffb5","mainSeriesProperties.candleStyle.borderDownColor":"#ff4976","mainSeriesProperties.candleStyle.wickUpColor":"#4bffb5","mainSeriesProperties.candleStyle.wickDownColor":"#ff4976"},"studies_overrides":{"Overlay.lineStyle.color":"#569bda"},"toolbar_bg":"#212327","session":"24x7"}')},1159:function(t,e,i){},1160:function(t,e,i){},1161:function(t,e,i){},1458:function(t,e,i){"use strict";i.r(e);var n=i(12),s=i(688),r=i.n(s),o=i(74),a=i(37),c=i(32),l=i(200),h=i(0),u=i.n(h),d=i(2),f=i(16),p=i(723),v=i.n(p),b=i(986),m=i(711),j=i.n(m),g=i(44),y=i(194),O=i(31);var x=Object(o.b)("intl","trading")(Object(o.c)((function(t){var e=t.interval,i=void 0===e?"1":e,s=t.displayCandleData,o=t.mixedChart,a=t.lang,h=t.showLoad,p=t.preload,m=t.trading,x=Object(n.useRef)(null),A=Object(n.useRef)(null),w=Object(n.useRef)(null),N=Object(n.useRef)(null),M=Object(n.useRef)(null),C=Object(n.useRef)(null),S=Object(n.useRef)([]),k=Object(n.useRef)([]),_=Object(n.useState)(!1),D=Object(f.a)(_,2),I=D[0],T=D[1],P=r()("scroll-mask",{show:I}),B=function(){var t=Object(d.a)(u.a.mark((function t(e,n,s,r){var o,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n&&s?[n,s]:Object(g.b)(i),a="".concat("https://oracle4.deri.finance","/get_kline?symbol=").concat(e,"&time_type=").concat(g.o[i],"&from=").concat(o[0],"&to=").concat(o[1]),!r&&h(!0),t.next=5,j.a.get(a);case 5:return c=t.sent,h(!1),t.abrupt("return",c.data&&Array.isArray(c.data.data)?c.data.data:[]);case 8:case"end":return t.stop()}}),t)})));return function(e,i,n,s){return t.apply(this,arguments)}}(),R=function(){var t=Object(d.a)(u.a.mark((function t(e,n,r){var o,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!e){t.next=8;break}return o=M.current=e.addCandlestickSeries({priceScaleId:r,upColor:"#4bffb5",downColor:"#ff4976",borderDownColor:"#ff4976",borderUpColor:"#4bffb5",wickDownColor:"#ff4976",wickUpColor:"#4bffb5",priceFormat:{}}),t.next=4,B(n);case 4:(a=t.sent)&&Array.isArray(a)&&a.length>0&&(o.setData(a),w.current=a[0],k.current=a),s({data:a[a.length-1]}),y.a.subscribe("get_kline_update",{symbol:n,time_type:g.o[i]},(function(t){o.update(t)}));case 8:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),E=function(){var t=Object(d.a)(u.a.mark((function t(e,n,s){var r,o,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!n){t.next=10;break}return e.applyOptions({leftPriceScale:{title:n,visible:!0,borderColor:"rgba(197, 203, 206, 1)"}}),r=C.current=e.addLineSeries({priceScaleId:s,topColor:"#569bda",bottomColor:"#569bda",lineColor:"#569bda",lineWidth:2}),t.next=5,B(n);case 5:o=t.sent,a=o.map((function(t){return{time:t.time,value:t.close}})),r.setData(a),S.current=a,y.a.subscribe("get_kline_update",{symbol:n,time_type:g.o[i]},(function(t){var e={time:t.time,value:t.close};r.update(e)}));case 10:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),F=function(t){t.point&&"function"===typeof s&&t.seriesPrices.forEach((function(e){if(e&&e.open&&e.close&&e.high&&e.low){var i={time:t.time,data:e};s(i)}}))},L=function(t,e){if(t.applyOptions({visible:!t.options().visible}),x.current){var i=x.current;i.applyOptions(Object(l.a)({},"".concat(e,"PriceScale"),{visible:!i.options()["".concat(e,"PriceScale")].visible}))}};return Object(n.useEffect)((function(){var t,e=[];if(m.config&&p){var n=m.config.symbol;t=x.current=function(t){if(A.current&&t&&i){var e=Object(b.b)(A.current,{localization:{timeFormatter:function(t){return v()(t,"yyyy-mm-dd HH:MM")}},width:"1198",height:478,timezone:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",timeScale:{rightOffset:3,timeVisible:!0,borderColor:"#fff",tickMarkFormatter:function(t,e,n){var s="1W"===i||"1D"===i?"yyyy-mm-dd":"HH:MM";return v()(t,s)}},priceScale:{borderColor:"#fff",mode:1},crosshair:{mode:b.a.Normal,vertLine:{color:"#fff",labelBackgroundColor:"#569bda"},horzLine:{color:"#fff",labelBackgroundColor:"#569bda"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#aaa",fontSize:12}});return e.subscribeCrosshairMove(F),e}}(n),o?(E(t,Object(g.j)(n),"left"),e.push(Object(g.j)(n)),R(t,Object(g.j)("".concat(n,"-MARKPRICE")),"right"),e.push(Object(g.j)("".concat(n,"-MARKPRICE")))):(R(t,Object(g.j)("".concat(n,"-MARKPRICE")),"right"),e.push(Object(g.j)("".concat(n,"-MARKPRICE")))),N.current=e}var s=null;return t&&t.timeScale().subscribeVisibleLogicalRangeChange((function(){null!=s||I||(s=setTimeout(Object(d.a)(u.a.mark((function e(){var n,r,a,l,h,d,f,p,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.timeScale().getVisibleLogicalRange(),!(null!==(r=M.current&&M.current.barsInLogicalRange(n))&&r.barsBefore<-10)){e.next=17;break}return T(!0),a=Math.floor((k.current[0].time-1*g.u[i])/1e3,0),l=a-(Math.abs(Math.floor(r.barsBefore,0))-1)*g.u[i],h=Object(g.j)("".concat(m.config.symbol,"-MARKPRICE")),e.next=9,B(h,l,a,!0);case 9:if(d=e.sent,k.current&&M.current&&d.length>0&&(f=[].concat(Object(c.a)(d),Object(c.a)(k.current)),M.current.setData(f),k.current=f),!(o&&d.length>0)){e.next=16;break}return e.next=14,B(Object(g.j)("".concat(m.config.symbol)),l,a,!0);case 14:p=e.sent,S.current&&C.current&&p.length>0&&(v=p.map((function(t){return{time:t.time,value:t.close}})),f=[].concat(Object(c.a)(v),Object(c.a)(S.current)),C.current.setData(f),S.current=f);case 16:T(!1);case 17:s=null;case 18:case"end":return e.stop()}}),e)}))),500))})),function(){N.current&&N.current.forEach((function(t){return y.a.unsubscribe("un_get_kline",{symbol:t,time_type:g.o[i]})})),t&&(M.current&&t.removeSeries(M.current),C.current&&t.removeSeries(C.current),t.remove()),M.current=null,C.current=null}}),[i,p,m.config]),Object(O.jsxs)("div",{className:"ligth-chart-container",id:"ligth-chart-container",ref:A,children:[Object(O.jsx)("div",{className:P}),o&&Object(O.jsxs)("div",{className:"legend",children:[Object(O.jsxs)("div",{onClick:function(){return L(M.current,"right")},children:[Object(O.jsx)("span",{className:"legend-option-left",children:" "}),Object(O.jsx)("span",{className:"legend-option-right",children:" "}),a.option]}),Object(O.jsxs)("div",{onClick:function(){return L(C.current,"left")},children:[Object(O.jsx)("span",{className:"legend-index"}),m.config&&Object(g.y)("".concat(m.config.symbol))]})]})]})}))),A=i(69),w=function(){return(w=Object.assign||function(t){for(var e,i=arguments,n=1,s=arguments.length;n<s;n++)for(var r in e=i[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function N(t,e){var i=w({},t);for(var n in e)"object"!=typeof t[n]||null===t[n]||Array.isArray(t[n])?void 0!==e[n]&&(i[n]=e[n]):i[n]=N(t[n],e[n]);return i}var M={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},C={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var S=function(){function t(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=N(C,t),t.preset){var e=M[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then((function(){return t._innerWindow().headerReady()}))},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.getLanguage=function(){return this._options.locale},t.prototype.setSymbol=function(t,e,i){this._innerAPI().changeSymbol(t,e,i)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,i){this._innerAPI().saveChartToServer(t,e,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=N(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t,e){this._innerWindow().changeTheme(t,e)},t.prototype.getTheme=function(){return this._innerWindow().getTheme()},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.drawOnAllCharts=function(t){this._innerAPI().drawOnAllCharts(t)},t.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},t.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype.setIntervalLinkingEnabled=function(t){this._innerAPI().setIntervalLinkingEnabled(t)},t.prototype.setTimeFrame=function(t){this._innerAPI().setTimeFrame(t)},t.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},t.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},t.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},t.prototype.timeSync=function(){return this._innerAPI().timeSync()},t.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},t.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},t.prototype.undo=function(){return this._innerAPI().undo()},t.prototype.redo=function(){return this._innerAPI().redo()},t.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},t.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},t.prototype.takeClientScreenshot=function(t){return this._innerAPI().takeClientScreenshot(t)},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),i=document.getElementById(this._options.container_id);if(null===i)throw new Error("There is no such element - #"+this._options.container_id);i.innerHTML=e,this._iFrame=i.querySelector("#"+this._id);var n=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(n.style.width="100%",this._options.fullscreen||(n.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(t){n.addEventListener("load",(function e(){n.removeEventListener("load",e,!1),t()}),!1)})),this._innerWindowLoaded.then((function(){t._innerWindow().widgetReady((function(){t._ready=!0;for(var e=0,i=t._readyHandlers;e<i.length;e++){var n=i[e];try{n.call(t)}catch(s){console.error(s)}}t._innerWindow().initializationFinished()}))}))},t.prototype._render=function(){var t=window;if(t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)t[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(t[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var e=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var k,_=i(1158),D=i(38),I=["1","5","15","30","60","240","1D","5D","1W","1M"],T="".concat("https://oracle4.deri.finance","/get_kline"),P={};var B=Object(o.b)("intl","type")(Object(o.c)((function(t){var e=t.interval,i=t.showLoad,s=t.intl,r=t.preload,o=t.config,c=t.type,l=Object(n.useRef)(null),h=Object(n.useRef)(null),f=Object(n.useRef)({onReady:function(t){setTimeout((function(){return t({supported_resolutions:I})}),0)},getBars:function(t,e,i,n,s,r,a){return p(t,e,i,n,s,r,a,o)},resolveSymbol:function(t,e){return m(t,e)},subscribeBars:function(t,e,i,n,s){return v(t,e,i,n,s)},unsubscribeBars:function(t){return b(t)}}),p=function(){var t=Object(d.a)(u.a.mark((function t(e,n,s,r,o,a,c,l){var d,f,p,v;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=e.name.indexOf("-INDEX"),f=d>-1?e.name.substring(0,d):e.config.markpriceSymbolFormat||e.name,t.next=4,j.a.get(T,{params:{symbol:Object(g.j)(f),time_type:g.o[n],from:s,to:r}});case 4:(p=t.sent)&&200===p.status&&Array.isArray(p.data.data)&&p.data.data.length>0?(v=p.data.data,i(!1),o(v),h.current=v[v.length-1]):o([],{noData:!0});case 6:case"end":return t.stop()}}),t)})));return function(e,i,n,s,r,o,a,c){return t.apply(this,arguments)}}(),v=function(t,e,i,n,s){var r=t.name.indexOf("-INDEX"),o=r>-1?t.name.substring(0,r):t.config.markpriceSymbolFormat||t.name;y.a.subscribe("get_kline_update",{symbol:Object(g.j)(o),time_type:g.o[e]},(function(t){t&&h.current&&t.time>=h.current.time&&(P[n]=o,i(t),h.current=t)}))},b=function(t){P[t]&&y.a.unsubscribe("un_get_kline",{symbol:P[t],time_type:g.o[e]})},m=function(t,e){setTimeout((function(){return e({name:t,ticker:t,description:c.isFuture&&!D.a.isOpen?"".concat(t,"-MARK"):t,pricescale:100,config:k,type:"index",minmov:1,has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,has_no_volume:!0,has_daily:!0,timezone:"UTC",session:"24x7",supported_resolutions:I})}),0)};return Object(n.useEffect)((function(){return o&&o.symbol&&e&&r&&(k=o,function(){var t=Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",n=Object(A.a)({symbol:o.symbol,datafeed:f.current,interval:e,locale:s.locale,timezone:t},_);l.current=new S(n),l.current.onChartReady((function(){i&&i(!1),!a.a.isFuture||D.a.isOpen||D.a.isV1||l.current.chart().createStudy("Overlay",!0,!1,["".concat(o.symbol,"-INDEX")],null,{priceScale:"as-series",color:"#aaa"})}))}()),function(){l.current&&l.current.remove(),b()}}),[e,r,o,c.current]),Object(O.jsx)("div",{id:"tv-container"})})));var R=Object(o.b)("intl","trading")(Object(o.c)((function({symbol:t,lang:e,trading:i}){const[s,o]=Object(n.useState)(!0),[c,l]=Object(n.useState)("one"),[h,u]=Object(n.useState)(""),[d,f]=Object(n.useState)("1"),[p,v]=Object(n.useState)(""),b=r()("btn",c),m=r()("switcher",h),j=(t,e)=>{l(e),f(t)},y=t=>{u(t)},A=t=>{if(t&&t.data){const{data:i}=t,n=i.close-i.open>0?"rise":"down";i.open&&i.close&&i.high&&i.low&&v(Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:e.open}),Object(O.jsx)("span",{className:n,children:i.open.toFixed(2)}),Object(O.jsx)("span",{children:e.high})," ",Object(O.jsxs)("span",{className:n,children:[" ",i.high.toFixed(2)]}),Object(O.jsx)("span",{children:e.low}),Object(O.jsx)("span",{className:n,children:i.low.toFixed(2)}),Object(O.jsx)("span",{children:e.closed}),Object(O.jsx)("span",{className:n,children:i.close.toFixed(2)})]}))}};return Object(n.useEffect)((()=>(a.a.isOption?u("mark-price"):u("index-price"),()=>{})),[]),Object(O.jsxs)("div",{id:"tradingview",children:[a.a.isOption&&Object(O.jsxs)("div",{className:m,children:[Object(O.jsx)("span",{className:"mark-price-c",onClick:()=>y("mark-price"),children:e["option-mark-price"]}),Object(O.jsx)("span",{className:"index-price-c",onClick:()=>y("index-price"),children:Object(g.y)(t)||e.index}),Object(O.jsx)("span",{className:"option-index-c",onClick:()=>y("option-index"),children:`${e.option} + ${Object(g.y)(t)||e.index}`})]}),Object(O.jsxs)("div",{className:b,children:[Object(O.jsxs)("span",{className:"candle-data-area",children:[Object(O.jsx)("span",{className:"symbol-value",style:{display:"mark-price"===h||"option-index"===h?"inline-block":"none"},children:p&&t}),Object(O.jsx)("span",{className:"candle-data",style:{display:"mark-price"===h||"option-index"===h?"inline-block":"none"},children:p})]}),Object(O.jsxs)("span",{className:"interval",children:[Object(O.jsxs)("span",{className:"tab-btn one",onClick:()=>j("1","one"),children:["1",e.min]}),Object(O.jsxs)("span",{className:"tab-btn five",onClick:()=>j("5","five"),children:["5",e.min]}),Object(O.jsxs)("span",{className:"tab-btn fifteen",onClick:()=>j("15","fifteen"),children:["15",e.min]}),Object(O.jsxs)("span",{className:"tab-btn thirty",onClick:()=>j("30","thirty"),children:["30",e.min]}),Object(O.jsxs)("span",{className:"tab-btn sixty",onClick:()=>j("60","sixty"),children:["1",e.hour]}),Object(O.jsxs)("span",{className:"tab-btn one-day",onClick:()=>j("1D","one-day"),children:["1",e.day]}),Object(O.jsxs)("span",{className:"tab-btn one-week",onClick:()=>j("1W","one-week"),children:["1",e.week]})]})]}),Object(O.jsx)("div",{className:"loading",style:{display:s?"block":"none"},children:Object(O.jsx)("div",{className:"spinner-border",role:"status",children:Object(O.jsx)("span",{className:"sr-only"})})}),Object(O.jsx)("div",{style:{display:"index-price"===h?"block":"none"},children:Object(O.jsx)(B,{symbol:t,config:i.config,interval:d,showLoad:t=>o(t),preload:"index-price"===h})}),a.a.isOption&&Object(O.jsx)("div",{id:"lightweight-chart",style:{display:"mark-price"===h?"block":"none"},children:Object(O.jsx)(x,{symbol:t,interval:d,displayCandleData:A,showLoad:t=>o(t),lang:e,preload:"mark-price"===h})}),a.a.isOption&&Object(O.jsx)("div",{id:"lightweight-chart",style:{display:"option-index"===h?"block":"none"},children:Object(O.jsx)(x,{symbol:t,interval:d,displayCandleData:A,showLoad:t=>o(t),lang:e,mixedChart:!0,preload:"option-index"===h})})]})}))),E=i(690),F=i(18),L=i(700);var Q=Object(o.b)("trading","version","type")(Object(o.c)((function({version:t,trading:e,lang:i,type:s}){const[r,o]=Object(n.useState)("rise"),[a,c]=Object(n.useState)("rise"),[l,h]=Object(n.useState)(),[u,d]=Object(n.useState)(""),f=Object(n.useRef)(),p=Object(n.useRef)();return Object(n.useEffect)((()=>(f.current&&(f.current>e.index?o("fall"):o("rise")),f.current=e.index,()=>{})),[e.index]),Object(n.useEffect)((()=>{let t=e.position.markPrice;p.current>t?c("fall trade-dashboard-value"):c("rise trade-dashboard-value"),p.current=t,h(t)}),[e.index,e.position]),Object(n.useEffect)((()=>{if(e.fundingRate.funding0&&e.position.markPrice){let t=Object(F.g)(e.fundingRate.funding0).div(Object(F.g)(e.position.markPrice)).times(Object(F.g)(100)).toString();d(t)}}),[e.fundingRate,e.position]),Object(O.jsxs)("div",{id:"trading-view",children:[Object(O.jsxs)("div",{className:"right-top",children:[Object(O.jsx)("div",{className:"symbol-basetoken-text",children:s.isOption?`${e.config?e.config.symbol:""}`:t.isV1||t.isV2Lite||t.isOpen?`${e.config?e.config.symbol:"BTCUSD"} / ${e.config?e.config.bTokenSymbol:""}  (10X)`:`${e.config?e.config.symbol:"BTCUSD"} (10X)`}),s.isFuture&&Object(O.jsxs)(O.Fragment,{children:[!t.isOpen&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsx)("div",{className:"trade-dashboard-title",children:i["mark-price"]}),Object(O.jsx)("div",{className:a,children:Object(O.jsx)(E.a,{value:l,decimalScale:2})})]})}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsx)("div",{className:"trade-dashboard-title",children:i["index-price"]}),Object(O.jsx)("div",{className:r,children:Object(O.jsx)(E.a,{value:e.index,decimalScale:2})})]}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[(t.isOpen||t.isV1)&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"trade-dashboard-title",children:[Object(O.jsx)("span",{children:i["funding-rate-annual"]}),"  "]}),Object(O.jsx)("div",{className:"trade-dashboard-value",children:Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"funding-per",tip:e.fundingRateTip||"",children:Object(O.jsx)(E.a,{value:e.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})})]}),!t.isOpen&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"trade-dashboard-title",children:[Object(O.jsx)("span",{children:i["funding-rate"]}),"  "]}),Object(O.jsxs)("div",{className:"trade-dashboard-value",children:[Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"funding-per",tip:e.dpmmFundingRateTip||"",children:Object(O.jsx)(E.a,{value:e.fundingRate.funding0,decimalScale:4})})}),Object(O.jsxs)(L.a,{block:!1,children:["\xa0  ",Object(O.jsxs)("span",{className:"funding-per",tip:e.rateTip||"",children:["(",Object(O.jsx)(E.a,{value:u,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsx)("div",{className:"trade-dashboard-title",children:i["total-net-position"]}),Object(O.jsx)("div",{className:"trade-dashboard-value",children:Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"funding-per",tip:e.TotalNetPositionTip||"",children:Object(O.jsx)(E.a,{value:e.fundingRate.tradersNetVolume})})})})]})]}),s.isOption&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price option-price-weight",children:[Object(O.jsx)("div",{className:"trade-dashboard-title",children:i["eo-mark-price"]}),Object(O.jsx)("div",{className:a,children:Object(O.jsx)(E.a,{value:l,decimalScale:4})})]}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsx)("div",{className:"trade-dashboard-title option-symbol",children:e.config&&s.isOption?e.config.symbol.split("-")[0]:""}),Object(O.jsxs)("div",{className:"trade-dashboard-value",children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(E.a,{value:e.index,decimalScale:2})," "]}),Object(O.jsx)("span",{className:"vol",children:" | "}),i.vol," : ",Object(O.jsx)(E.a,{value:e.position.volatility,decimalScale:2,suffix:"%"})]})]}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsxs)("div",{className:"trade-dashboard-title",children:[Object(O.jsx)("span",{children:i["funding-rate"]}),"  "]}),Object(O.jsx)("div",{className:"trade-dashboard-value",children:Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"funding-per",tip:e.optionFundingRateTip||"",children:Object(O.jsx)(E.a,{value:e.fundingRate.premiumFunding0,decimalScale:4})})})})]}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsx)("div",{className:"trade-dashboard-title",children:i["total-net-position"]}),Object(O.jsx)("div",{className:"trade-dashboard-value",children:Object(O.jsx)(E.a,{value:Object(F.g)(e.fundingRate.tradersNetVolume).times(e.contract.multiplier).toString(),decimalScale:4})})]})]}),Object(O.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(O.jsx)("div",{className:"trade-dashboard-title",children:i["pool-total-liquidity"]}),Object(O.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(O.jsx)(E.a,{allowLeadingZeros:!0,thousandSeparator:!0,value:e.fundingRate.liquidity,decimalScale:2})," ",e.config&&e.config.bTokenSymbol]})]})]}),Object(O.jsx)("div",{className:"tradingview",children:Object(O.jsx)(R,{symbol:e.config&&e.config.symbol,lang:i,version:t})})]})}))),H=i(75),z=i(201),J=i(732),U=i(733),G=i(827),W=i(828),q=(i(818),i(767)),V=(i(819),Object(z.a)(J.a)),Y=Object(z.a)(U.a),X=Object(z.a)(q.a);function K(t){var e=t.wallet,i=t.trading,s=t.lang,r=Object(n.useState)(Object(O.jsx)("span",{})),o=Object(f.a)(r,2),a=o[0],c=o[1];return Object(n.useEffect)((function(){if(e.isConnected()&&i.positions)if(i.positions.length&&i.positions.length>0){if(i.positions[0].liquidationPrice&&i.positions[0].liquidationPrice.length){var t=i.positions[0].liquidationPrice.map((function(t,e){var i=function(t,e){var i=Object(O.jsx)("span",{children:"--"},e);return t.numPositions>1?(t.price1&&t.price2?i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsx)(E.a,{decimalScale:2,value:t.price1}),Object(O.jsx)("span",{children:" / "}),Object(O.jsx)(E.a,{decimalScale:2,value:t.price2})]}),"\xa0"]},e):t.price1||t.price2?!t.price1&&t.price2?i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-three"],children:" ? "}),"  "]}),Object(O.jsx)("span",{children:" / "}),Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(E.a,{decimalScale:2,value:t.price2})," "]})]}),"\xa0"]},e):t.price1&&!t.price2&&(i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(E.a,{decimalScale:2,value:t.price1})," "]}),Object(O.jsx)("span",{children:" / "}),Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},e)):i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-three"],children:" ? "})]}),Object(O.jsx)("span",{children:" / "}),Object(O.jsxs)(L.a,{block:!1,children:["   ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},e),i):(t.price1&&t.price2?i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsx)(E.a,{decimalScale:2,value:t.price1}),Object(O.jsx)("span",{children:" / "}),Object(O.jsx)(E.a,{decimalScale:2,value:t.price2})]}),"\xa0"]},e):t.price1||t.price2?!t.price1&&t.price2?i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-two"],children:" -- "})]}),Object(O.jsx)("span",{children:" / "}),Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(E.a,{decimalScale:2,value:t.price2})," "]})]}),"\xa0"]},e):t.price1&&!t.price2&&(i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(E.a,{decimalScale:2,value:t.price1})," "]}),Object(O.jsx)("span",{children:" / "}),Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},e)):i=Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[t.underlier,": "]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-two"],children:" -- "})]}),Object(O.jsx)("span",{children:" / "}),Object(O.jsxs)(L.a,{block:!1,children:[" ",Object(O.jsx)("span",{className:"funding-fee",tip:s["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},e),i)}(t,e);return i}));c(t)}}else c("")}),[e,i.positions]),Object(O.jsx)("span",{children:a})}var Z=Object(o.b)("wallet","trading","version","type","loading")(Object(o.c)((function(t){var e=t.wallet,i=t.trading,s=t.version,r=t.lang,o=t.type,a=t.loading,c=Object(n.useState)("LONG"),l=Object(f.a)(c,2),h=(l[0],l[1]),p=Object(n.useState)(!1),v=Object(f.a)(p,2),b=v[0],m=v[1],j=Object(n.useState)(null),y=Object(f.a)(j,2),x=y[0],A=y[1],w=Object(n.useState)(!1),N=Object(f.a)(w,2),M=N[0],C=N[1],S=Object(n.useState)(!1),k=Object(f.a)(S,2),_=k[0],D=k[1],I=Object(n.useState)(!1),T=Object(f.a)(I,2),P=T[0],B=T[1],R=Object(n.useState)(""),Q=Object(f.a)(R,2),z=Q[0],J=Q[1],U=Object(n.useState)(""),q=Object(f.a)(U,2),Z=q[0],$=q[1],tt=Object(n.useState)(""),et=Object(f.a)(tt,2),it=et[0],nt=et[1],st=Object(n.useState)([]),rt=Object(f.a)(st,2),ot=rt[0],at=rt[1];Object(n.useEffect)((function(){e.isConnected()&&i.positions&&at(i.positions)}),[e.detail.account,i.positions]);var ct=function(){ht()},lt=ct,ht=function(){ut(),i.refresh()},ut=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnected()||!i.config){t.next=5;break}return t.next=3,Object(F.Z)(e.detail.chainId,i.config.pool,e.detail.account,i.config.bTokenId).catch((function(t){return console.log(t)}));case 3:(n=t.sent)&&J(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),dt=function(){var t=Object(d.a)(u.a.mark((function t(n,s,o){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),A(o),t.next=4,Object(F.h)(e.detail.chainId,i.config.pool,e.detail.account,n).finally((function(){m(!1),A(null)}));case 4:(a=t.sent).success?ht():"string"===typeof a.error?alert(a.error||r["close-position-failed"]):"object"===Object(H.a)(a.error)?alert(a.error.errorMessage||r["close-position-failed"]):alert(r["close-position-failed"]);case 6:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(i.position){var t=i.position,e=+t.volume>0?"LONG":t.volume&&!Object(g.e)(t.volume,0)&&t.volume?"SHORT":"--";h(e),$(Object(F.g)(t.margin).plus(t.unrealizedPnl).toString()),nt(Object(F.g)(t.margin).plus(t.unrealizedPnl).minus(t.marginHeld).toString())}return function(){}}),[i.position.volume,i.position.margin,i.position.unrealizedPnl]),Object(n.useEffect)((function(){return ut(),function(){}}),[e.detail.account,i.config,i.amount.dynBalance]),Object(O.jsxs)("div",{className:"position-box",children:[Object(O.jsxs)("div",{className:"p1-box theader",children:[Object(O.jsxs)("div",{className:"dyn-eff-bal",children:[r["dynamic-effective-balance"]," : \xa0",Object(O.jsxs)("span",{children:[s.isV1||s.isV2Lite||o.isOption||s.isOpen?Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:function(){return D(!0)},tip:r["remove-margin"],children:Object(O.jsx)("img",{src:G.a,alt:"add margin"})})}):Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"open-add",id:"openAddMargin",tip:r["remove-margin"],onClick:function(){return B(!0)},children:Object(O.jsx)("img",{src:G.a,alt:"add margin"})})}),Object(O.jsx)(E.a,{allowZero:!0,value:Z,decimalScale:2}),s.isV1||s.isV2Lite||o.isOption||s.isOpen?Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"open-remove",onClick:function(){return C(!0)},tip:r["add-margin"],children:Object(O.jsx)("img",{src:W.a,alt:"add margin"})})}):Object(O.jsx)(L.a,{block:!1,children:Object(O.jsx)("span",{className:"open-remove",onClick:function(){return B(!0)},tip:r["add-margin"],children:Object(O.jsx)("img",{src:W.a,alt:"add margin"})})})]})]}),o.isOption&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsxs)("div",{className:"liquidation-price",children:[Object(O.jsx)(L.a,{block:!1,children:Object(O.jsxs)("span",{className:"funding-fee",tip:r["liq-price-hover-one"],children:[r["liquidation-price"],"  "]})}),": ",Object(O.jsx)(K,{wallet:e,trading:i,lang:r})]})]})]}),Object(O.jsxs)("div",{className:"p-box theader",children:[Object(O.jsx)("div",{className:"position-symbol",children:r.symbol}),Object(O.jsx)("div",{className:"position",children:r.position}),Object(O.jsx)("div",{className:"ave-entry-price",children:r["average-entry-price"]}),Object(O.jsx)("div",{className:"direction",children:r.direction}),Object(O.jsx)("div",{className:"margin",children:r.margin}),Object(O.jsx)("div",{className:"unrealized-pnl",children:r["unrealized-pnl"]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(L.a,{children:Object(O.jsx)("span",{className:"funding-fee",tip:r["funding-fee-tip"],children:r["funding-fee"]})})," "]}),o.isFuture&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"unrealized-pnl",children:[r["liquidation-price"]," "]})})]}),ot.map((function(t,e){return Object(O.jsxs)("div",{className:"p-box tbody",children:[Object(O.jsx)("div",{className:"position-symbol",onClick:function(){return function(t){var e=i.configs.find((function(e){return e.pool===i.config.pool&&t===e.symbolId}));e&&(a.loading(),i.pause(),i.setConfig(e),i.onSymbolChange(e,(function(){return a.loaded()}),o.isOption))}(t.symbolId)},children:t.symbol}),Object(O.jsxs)("div",{className:"position",children:[Object(O.jsx)(E.a,{value:t.volume,allowZero:!0}),Object(O.jsxs)("span",{className:"close-position",children:[Object(O.jsx)("img",{style:{display:x!==e?"inline-block":"none"},src:"data:image/png;base64,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",onClick:function(){dt(t.symbolId,t.volume,e)}}),Object(O.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:b&&x===e?"block":"none"}})]})]}),Object(O.jsx)("div",{className:"ave-entry-price",children:Object(O.jsx)(E.a,{value:t.averageEntryPrice,decimalScale:4})}),Object(O.jsx)("div",{className:t.direction,children:r[t.direction.toLowerCase()]||t.direction}),Object(O.jsx)("div",{className:"margin",children:Object(O.jsx)(E.a,{value:t.marginHeldBySymbol,decimalScale:2})}),Object(O.jsx)("div",{className:"pnl",children:Object(O.jsx)("span",{className:"pnl-list unrealized-pnl",children:Object(O.jsx)(E.a,{value:t.unrealizedPnl,decimalScale:6})})}),o.isOption&&Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{value:-t.premiumFundingAccrued,decimalScale:8})}),o.isFuture&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{value:-t.fundingFee,decimalScale:8})}),Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{value:t.liquidationPrice,decimalScale:4})})]})]},e)})),ot.length?"":Object(O.jsx)("div",{className:"no-data",children:r["no-data"]}),Object(O.jsx)(V,{wallet:e,modalIsOpen:M,onClose:function(){return C(!1)},spec:i.config,afterDeposit:lt,balance:z,className:"trading-dialog",lang:r}),Object(O.jsx)(Y,{wallet:e,modalIsOpen:_,onClose:function(){return D(!1)},spec:i.config,afterWithdraw:ct,availableBalance:it,position:i.position,className:"trading-dialog",lang:r}),Object(O.jsx)(X,{wallet:e,modalIsOpen:P,onClose:function(){return B(!1)},spec:i.config,afterDepositAndWithdraw:function(){ht()},position:i.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:r})]})}))),$=i(724),tt=i.n($),et=(i(697),i(98)),it=i(768),nt=et[F.a.get()].chainInfo;function st(t){var e=t.wallet,i=t.his,s=Object(n.useState)(!1),o=Object(f.a)(s,2),a=o[0],c=o[1],l=function(){c(!0)},h=function(){c(!1)},u=r()("view",{hover:a});return Object(O.jsxs)("span",{className:u,onMouseOut:h,children:[Object(O.jsx)("span",{className:"view-space",onMouseOver:l,children:Object(O.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(nt[e.detail.chainId].viewUrl,"tx/").concat(i.transactionHash),children:["View at ",nt[e.detail.chainId].viewUrl]})}),Object(O.jsx)("span",{className:"right-arrow",onMouseOver:l,children:Object(O.jsx)("img",{alt:"",src:it.a})}),Object(O.jsx)("span",{className:"view-arrow",onMouseOver:l,onMouseOut:h,children:Object(O.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(nt[e.detail.chainId].viewUrl,"tx/").concat(i.transactionHash),children:Object(O.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var rt=Object(o.b)("wallet","trading","type")(Object(o.c)((function(t){var e=t.wallet,i=t.trading,s=t.lang,r=t.type,o=Object(n.useState)([]),a=Object(f.a)(o,2),c=a[0],l=a[1];function h(){return(h=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isConnected()&&i.config&&(n=i.history.map((function(t){return t.directionText=s["long-buy"],"SHORT"===t.direction?t.directionText=s["short-sell"]:"liquidation"===t.direction.toLowerCase()&&(t.directionText=s.liquidation),t})),l(n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(){h.apply(this,arguments)}(),function(){}}),[e.detail.account,i.config,i.history]),Object(O.jsxs)("div",{className:"history-box",children:[Object(O.jsxs)("div",{className:"p-box theader",children:[Object(O.jsx)("div",{className:"td",children:s.time}),Object(O.jsx)("div",{children:s.direction}),Object(O.jsxs)("div",{children:[r.isOption&&s["symbol-option"],r.isFuture&&s.symbol]}),Object(O.jsx)("div",{children:s.price}),Object(O.jsxs)("div",{children:[s.volume,"  ",r.isOption?"( ".concat(s.notional," )"):""," "]}),Object(O.jsx)("div",{children:r.isOption?s["contract-value"]:s.notional}),Object(O.jsx)("div",{children:s["transaction-fee"]})]}),c.map((function(t,i){return Object(O.jsxs)("div",{className:"p-box tbody",children:[Object(O.jsx)("div",{className:"td",children:tt.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))}),Object(O.jsxs)("div",{className:t.direction,children:[t.directionText,Object(O.jsx)(st,{wallet:e,his:t})]}),Object(O.jsx)("div",{children:t.symbol||"--"}),Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{value:t.price,decimalScale:4})}),Object(O.jsx)("div",{children:t.volume}),Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{value:t.notional,decimalScale:4})}),Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{value:t.transactionFee,decimalScale:4})})]},i)})),0===c.length?Object(O.jsx)("div",{className:"no-data",children:s["no-data"]}):""]})})));var ot=function(t){var e=t.lang,i=(t.type,Object(n.useState)("position")),s=Object(f.a)(i,2),o=s[0],a=s[1],c=function(t){a(t)},l=r()("position-info",o);return Object(O.jsxs)("div",{className:l,children:[Object(O.jsxs)("div",{className:"position-header",children:[Object(O.jsxs)("div",{className:"position-title",children:[Object(O.jsx)("span",{className:"position-info-title",children:e["position-info"]}),Object(O.jsx)("span",{className:"history-info-title",children:e["trade-history"]})]}),Object(O.jsxs)("div",{className:"check-position-history ",children:[Object(O.jsx)("div",{className:"btn-position",onClick:function(){return c("position")},children:e["current-position"]}),Object(O.jsx)("div",{className:"btn-history",onClick:function(){return c("history")},children:e["trade-history"]})]})]}),Object(O.jsxs)("div",{className:"pos-his-info ",children:[Object(O.jsx)(Z,{lang:e}),Object(O.jsx)(rt,{lang:e})]})]})},at=i(844),ct=i(870),lt=(i(871),i(872),i(873),i(1159),i(1160),i(1161),i(829)),ht=i(731);e.default=Object(o.b)("wallet","type","version")(Object(o.c)((function({wallet:t,lang:e,type:i,version:s}){return Object(ht.useLocation)().pathname.split("/")[3]&&s.setCurrent("v1"),Object(n.useEffect)((()=>(document.querySelector(".desktop").style.minWidth="1903px",()=>{document.querySelector(".desktop").style.minWidth=""})),[t.detail.account]),Object(O.jsxs)("div",{className:"trade-container",children:[Object(O.jsx)(lt.a,{lang:e}),Object(O.jsxs)("div",{className:"trade-body",children:[Object(O.jsx)(ct.a,{lang:e}),Object(O.jsxs)("div",{className:"trade-pro",children:[Object(O.jsx)("div",{className:"left",children:Object(O.jsx)(at.a,{isPro:!0,lang:e})}),Object(O.jsxs)("div",{className:"right",children:[Object(O.jsx)(Q,{wallet:t,lang:e}),Object(O.jsx)(ot,{lang:e,type:i})]})]})]})]})})))},159:function(t,e,i){"use strict";i.r(e);e.default=function(t,e){}},689:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i(0),s=i.n(n),r=i(2),o=i(16),a=i(12),c=i(31);function l(t){var e=t.btnText,i=t.className,n=t.disabled,l=t.click,h=t.afterClick,u=t.checkApprove,d=t.wallet,f=t.spec,p=t.lang,v=Object(a.useState)(n?"disabled":"enabled"),b=Object(o.a)(v,2),m=b[0],j=b[1],g=Object(a.useState)(!0),y=Object(o.a)(g,2),O=y[0],x=y[1],A=Object(a.useState)(!1),w=Object(o.a)(A,2),N=w[0],M=w[1],C=Object(a.useState)(e),S=Object(o.a)(C,2),k=S[0],_=S[1],D=Object(a.useRef)(null),I=function(){var t=Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("enabled"===m){t.next=2;break}return t.abrupt("return");case 2:return T(),t.next=5,l();case 5:t.sent&&h&&h(),P();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){j("disabled"),M(!0),D.current&&(D.current.style.display="inline-block")},P=function(){D.current&&(D.current.style.display="none"),j("enabled"),M(!1)},B=function(){var t=Object(r.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u&&d&&d.detail.account)){t.next=5;break}return t.next=3,d.isApproved(f.pool,f.bTokenId);case 3:e=t.sent,x(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(),t.next=3,d.approve(f.pool,f.bTokenId);case 3:t.sent.success?x(!0):(x(!1),alert(p["approve-failed"])),P();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){return B(),function(){}}),[d,f,u]),Object(a.useEffect)((function(){return e&&_(e),function(){}}),[e]),Object(c.jsxs)("button",{className:i,onClick:function(){O?I():R()},children:[Object(c.jsx)("span",{className:"btn-loading-wrap",children:Object(c.jsx)("span",{ref:D,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),N?p.pending:O?k:p.approve]})}},690:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i(69),s=i(75),r=i(698),o=i(16),a=i(12),c=i(697),l=i(31),h=["allowZero"];function u(t){var e=Object(a.useState)(Object(l.jsx)("span",{className:"loading-line"})),i=Object(o.a)(e,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=t.allowZero,i=Object(r.a)(t,h);return("object"!==Object(s.a)(t.value)&&void 0!==t.value&&""!==t.value&&"NaN"!==t.value||0===(isNaN(t.value)&&Math.abs(t.value))&&!0===e)&&d(Object(l.jsx)(c.a,Object(n.a)(Object(n.a)({},i),{},{displayType:"text"}))),function(){}}),[t.value]),u}},700:function(t,e,i){"use strict";var n=i(12),s=i(31);e.a=function(t){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=e.current;t&&t.querySelectorAll("[tip]").forEach((function(e){var i=null;e.addEventListener("mouseover",(function(t){var e=t.currentTarget.getAttribute("tip");if(e){var n="hover-box-".concat((new Date).getTime());i=document.body.querySelector("#".concat(n)),(i=document.createElement("div")).style.cssText="z-index : 9;min-width : 100px;max-width : ".concat(window.screen.width,"px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;"),document.body.appendChild(i),i.innerText=e,i.id=n,i.style.display="block";var s=t.currentTarget.getBoundingClientRect();if(i.style.top="".concat(s.y+s.height+window.document.documentElement.scrollTop,"px"),i.offsetWidth+t.pageX>window.screen.width)if(t.pageX-i.offsetWidth>=0)i.style.left="".concat(t.pageX-i.offsetWidth,"px");else{var r=t.pageX-i.offsetWidth/2>0?t.pageX-i.offsetWidth/2:0;i.style.left="".concat(r,"px")}else i.style.left="".concat(t.pageX,"px")}})),t.addEventListener("mouseout",(function(t){i&&i.remove()}))}));return function(){e.current=null}}),[t.title]),t.block?Object(s.jsx)("div",{ref:e,children:t.children}):Object(s.jsx)("span",{ref:e,children:t.children})}},722:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i(12);function s(t){return Object(n.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){t||(document.querySelector("body").style.overflow="auto")}}),[]),null}},723:function(t,e,i){"use strict";var n;function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}!function(r){var o=arguments,a=function(){var t=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g;return function(n,s,r,f){if(1!==o.length||"string"!==d(n)||/\d/.test(n)||(s=n,n=void 0),(n=n||0===n?n:new Date)instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");var p=(s=String(a.masks[s]||s||a.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(s=s.slice(4),r=!0,"GMT:"===p&&(f=!0));var v=function(){return r?"getUTC":"get"},b=function(){return n[v()+"Date"]()},m=function(){return n[v()+"Day"]()},j=function(){return n[v()+"Month"]()},g=function(){return n[v()+"FullYear"]()},y=function(){return n[v()+"Hours"]()},O=function(){return n[v()+"Minutes"]()},x=function(){return n[v()+"Seconds"]()},A=function(){return n[v()+"Milliseconds"]()},w=function(){return r?0:n.getTimezoneOffset()},N=function(){return h(n)},M={d:function(){return b()},dd:function(){return c(b())},ddd:function(){return a.i18n.dayNames[m()]},DDD:function(){return l({y:g(),m:j(),d:b(),_:v(),dayName:a.i18n.dayNames[m()],short:!0})},dddd:function(){return a.i18n.dayNames[m()+7]},DDDD:function(){return l({y:g(),m:j(),d:b(),_:v(),dayName:a.i18n.dayNames[m()+7]})},m:function(){return j()+1},mm:function(){return c(j()+1)},mmm:function(){return a.i18n.monthNames[j()]},mmmm:function(){return a.i18n.monthNames[j()+12]},yy:function(){return String(g()).slice(2)},yyyy:function(){return c(g(),4)},h:function(){return y()%12||12},hh:function(){return c(y()%12||12)},H:function(){return y()},HH:function(){return c(y())},M:function(){return O()},MM:function(){return c(O())},s:function(){return x()},ss:function(){return c(x())},l:function(){return c(A(),3)},L:function(){return c(Math.floor(A()/10))},t:function(){return y()<12?a.i18n.timeNames[0]:a.i18n.timeNames[1]},tt:function(){return y()<12?a.i18n.timeNames[2]:a.i18n.timeNames[3]},T:function(){return y()<12?a.i18n.timeNames[4]:a.i18n.timeNames[5]},TT:function(){return y()<12?a.i18n.timeNames[6]:a.i18n.timeNames[7]},Z:function(){return f?"GMT":r?"UTC":(String(n).match(e)||[""]).pop().replace(i,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(w()>0?"-":"+")+c(100*Math.floor(Math.abs(w())/60)+Math.abs(w())%60,4)},p:function(){return(w()>0?"-":"+")+c(Math.floor(Math.abs(w())/60),2)+":"+c(Math.floor(Math.abs(w())%60),2)},S:function(){return["th","st","nd","rd"][b()%10>3?0:(b()%100-b()%10!=10)*b()%10]},W:function(){return N()},WW:function(){return c(N())},N:function(){return u(n)}};return s.replace(t,(function(t){return t in M?M[t]():t.slice(1,t.length-1)}))}}();a.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var c=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},l=function(t){var e=t.y,i=t.m,n=t.d,s=t._,r=t.dayName,o=t.short,a=void 0!==o&&o,c=new Date,l=new Date;l.setDate(l[s+"Date"]()-1);var h=new Date;h.setDate(h[s+"Date"]()+1);return c[s+"FullYear"]()===e&&c[s+"Month"]()===i&&c[s+"Date"]()===n?a?"Tdy":"Today":l[s+"FullYear"]()===e&&l[s+"Month"]()===i&&l[s+"Date"]()===n?a?"Ysd":"Yesterday":h[s+"FullYear"]()===e&&h[s+"Month"]()===i&&h[s+"Date"]()===n?a?"Tmw":"Tomorrow":r},h=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var i=new Date(e.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var n=e.getTimezoneOffset()-i.getTimezoneOffset();e.setHours(e.getHours()-n);var s=(e-i)/6048e5;return 1+Math.floor(s)},u=function(t){var e=t.getDay();return 0===e&&(e=7),e},d=function(t){return null===t?"null":void 0===t?"undefined":"object"!==s(t)?s(t):Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()};void 0===(n=function(){return a}.call(e,i,e,t))||(t.exports=n)}(void 0)},731:function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var s=i(41),r=n(i(12)),o=i(57);i(84),i(159);var a=n(i(62));function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),h(t.prototype.constructor=t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(null==t)return{};var i,n,s={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],0<=e.indexOf(i)||(s[i]=t[i]);return s}var d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).history=o.createBrowserHistory(e.props),e}return l(e,t),e.prototype.render=function(){return r.createElement(s.Router,{history:this.history,children:this.props.children})},e}(r.Component),f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).history=o.createHashHistory(e.props),e}return l(e,t),e.prototype.render=function(){return r.createElement(s.Router,{history:this.history,children:this.props.children})},e}(r.Component),p=function(t,e){return"function"==typeof t?t(e):t},v=function(t,e){return"string"==typeof t?o.createLocation(t,null,null,e):t},b=function(t){return t},m=r.forwardRef;void 0===m&&(m=b);var j=m((function(t,e){var i=t.innerRef,n=t.navigate,s=t.onClick,o=u(t,["innerRef","navigate","onClick"]),a=o.target,l=c({},o,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e)||(e.preventDefault(),n())}});return l.ref=b!==m&&e||i,r.createElement("a",l)})),g=m((function(t,e){var i=t.component,n=void 0===i?j:i,l=t.replace,h=t.to,d=t.innerRef,f=u(t,["component","replace","to","innerRef"]);return r.createElement(s.__RouterContext.Consumer,null,(function(t){t||a(!1);var i=t.history,s=v(p(h,t.location),t.location),u=s?i.createHref(s):"",j=c({},f,{href:u,navigate:function(){var e=p(h,t.location),n=o.createPath(t.location)===o.createPath(v(e));(l||n?i.replace:i.push)(e)}});return b!==m?j.ref=e||d:j.innerRef=d,r.createElement(n,j)}))})),y=function(t){return t},O=r.forwardRef;void 0===O&&(O=y);var x=O((function(t,e){var i=t["aria-current"],n=void 0===i?"page":i,o=t.activeClassName,l=void 0===o?"active":o,h=t.activeStyle,d=t.className,f=t.exact,b=t.isActive,m=t.location,j=t.sensitive,x=t.strict,A=t.style,w=t.to,N=t.innerRef,M=u(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(s.__RouterContext.Consumer,null,(function(t){t||a(!1);var i=m||t.location,o=v(p(w,i),i),u=o.pathname,C=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=C?s.matchPath(i.pathname,{path:C,exact:f,sensitive:j,strict:x}):null,k=!!(b?b(S,i):S),_="function"==typeof d?d(k):d,D="function"==typeof A?A(k):A;k&&(_=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter((function(t){return t})).join(" ")}(_,l),D=c({},D,h));var I=c({"aria-current":k&&n||null,className:_,style:D,to:o},M);return y!==O?I.ref=e||N:I.innerRef=N,r.createElement(g,I)}))}));Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return s.MemoryRouter}}),Object.defineProperty(e,"Prompt",{enumerable:!0,get:function(){return s.Prompt}}),Object.defineProperty(e,"Redirect",{enumerable:!0,get:function(){return s.Redirect}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return s.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return s.Router}}),Object.defineProperty(e,"StaticRouter",{enumerable:!0,get:function(){return s.StaticRouter}}),Object.defineProperty(e,"Switch",{enumerable:!0,get:function(){return s.Switch}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return s.generatePath}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return s.matchPath}}),Object.defineProperty(e,"useHistory",{enumerable:!0,get:function(){return s.useHistory}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return s.useLocation}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return s.useParams}}),Object.defineProperty(e,"useRouteMatch",{enumerable:!0,get:function(){return s.useRouteMatch}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return s.withRouter}}),e.BrowserRouter=d,e.HashRouter=f,e.Link=g,e.NavLink=x},732:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i(0),s=i.n(n),r=i(2),o=i(16),a=i(12),c=i(18),l=i(697),h=i(689),u=i(722),d=i(31);function f(t){var e=t.wallet,i=t.spec,n=void 0===i?{}:i,f=t.onClose,p=t.balance,v=t.afterDeposit,b=t.nested,m=t.lang,j=Object(a.useState)(""),g=Object(o.a)(j,2),y=g[0],O=g[1],x=Object(a.useState)(""),A=Object(o.a)(x,2),w=A[0],N=A[1],M=Object(a.useState)(""),C=Object(o.a)(M,2),S=C[0],k=C[1],_=Object(a.useState)(!1),D=Object(o.a)(_,2),I=D[0],T=D[1];Object(u.a)(b);var P=function(){var t=Object(r.a)(s.a.mark((function t(i){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(c.g)(p),!Object(c.g)(i).gt(r)){t.next=5;break}return alert(m["insufficient-balance-in-wallet"]),t.abrupt("return");case 5:if(!(+i<=0||isNaN(i))){t.next=8;break}return alert(m["it-has-to-be-greater-than-zero-tip"]),t.abrupt("return");case 8:return T(!0),t.next=11,Object(c.l)(e.detail.chainId,n.pool,e.detail.account,i,n.bTokenId);case 11:t.sent.success?(v(),f()):alert(m["deposit-failed"]),T(!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){if(p){var t=(+p).toFixed(2),e=t.indexOf(".")>0?t.substring(t.indexOf(".")+1,t.length):"0";O(p),N(e)}}(),function(){}}),[p]),Object(d.jsx)("div",{className:"modal fade",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("div",{className:"title",children:m["deposit-margin"]}),Object(d.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){I||f()},children:Object(d.jsx)("span",{children:"\xd7"})})]}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsxs)("div",{className:"margin-box-info",children:[Object(d.jsx)("div",{children:m["wallet-balance"]}),Object(d.jsxs)("div",{className:"money",children:[Object(d.jsxs)("span",{children:[Object(d.jsxs)("span",{className:"bt-balance",children:[Object(d.jsx)(l.a,{value:y,displayType:"text",decimalScale:0}),".",Object(d.jsx)("span",{style:{fontSize:"12px"},children:w})]}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:n.bTokenSymbol})]}),Object(d.jsx)("span",{className:"add"})]}),Object(d.jsxs)("div",{className:"enter-margin",children:[Object(d.jsx)("div",{className:"input-margin",children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsx)("div",{className:"amount",style:{display:""!==S?"block":"none"},children:m.amount}),Object(d.jsx)("input",{type:"number",className:"margin-value",placeholder:m.amount,value:S,onChange:function(t){var e=t.target.value;k(e)}})]})}),Object(d.jsx)("div",{children:n.bTokenSymbol})]}),Object(d.jsxs)("div",{className:"max",children:[m["max-add"],": ",Object(d.jsx)("span",{className:"max-num",children:p}),Object(d.jsx)("span",{className:"max-btn-left",onClick:function(){k(p)},children:m["add-all"]})]}),Object(d.jsx)("div",{className:"add-margin-btn",children:Object(d.jsx)(h.a,{className:"margin-btn",btnText:m.deposit,checkApprove:!0,wallet:e,spec:n,lang:m,click:function(){return P(S)}})})]})})]})})})}},733:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i(0),s=i.n(n),r=i(2),o=i(16),a=i(12),c=i(18),l=i(689),h=i(690),u=i(44),d=i(722),f=i(31);function p(t){var e=t.wallet,i=t.spec,n=void 0===i?{}:i,p=t.position,v=t.onClose,b=t.afterWithdraw,m=t.availableBalance,j=t.nested,g=t.lang,y=Object(a.useState)(""),O=Object(o.a)(y,2),x=O[0],A=O[1],w=Object(a.useState)(""),N=Object(o.a)(w,2),M=N[0],C=N[1],S=Object(a.useState)(""),k=Object(o.a)(S,2),_=k[0],D=k[1],I=Object(a.useState)(!1),T=Object(o.a)(I,2),P=T[0],B=T[1];Object(d.a)(j);var R=function(){var t=Object(r.a)(s.a.mark((function t(){var i,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isConnected()&&m&&(A(i=m),n=i.indexOf("."),C(n>0?i.substring(n+1,n+3):"00"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(r.a)(s.a.mark((function t(){var i,r,o,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(u.a)(x),!Object(u.a)(_).gt(i)){t.next=5;break}return alert(g["under-margin"]),t.abrupt("return");case 5:if(!(+_<=0||isNaN(_))){t.next=8;break}return alert(g["it-has-to-be-greater-than-zero-tip"]),t.abrupt("return");case 8:return B(!0),r=i.eq(_),t.next=12,Object(c.Ab)(e.detail.chainId,n.pool,e.detail.account,_,n.bTokenId,r);case 12:(o=t.sent).success?(b(),v()):(a="string"===typeof o.error?o.error:o.error.errorMessage||o.error.message,alert(a)),B(!1);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){return R(),function(){}}),[e.detail.account,p.margin,p.unrealizedPnl]),Object(f.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("div",{className:"title",children:g["withdraw-margin"]}),Object(f.jsx)("div",{className:"close",onClick:function(){P||v()},children:Object(f.jsx)("span",{children:"\xd7"})})]}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("div",{className:"margin-box-info",children:[Object(f.jsx)("div",{children:g["available-balance"]}),Object(f.jsxs)("div",{className:"money",children:[Object(f.jsx)("span",{children:Object(f.jsxs)("span",{className:"bt-balance",children:[Object(f.jsx)(h.a,{value:x,thousandSeparator:!0,decimalScale:0}),".",Object(f.jsx)("span",{style:{fontSize:"12px"},children:M})]})}),Object(f.jsx)("span",{className:"remove"})]}),Object(f.jsxs)("div",{className:"enter-margin remv",children:[Object(f.jsx)("div",{className:"input-margin",children:Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("div",{className:"amount",style:{display:""!==_?"block":"none"},children:g.amount}),Object(f.jsx)("input",{type:"number",className:"margin-value",value:_,onChange:function(t){var e=t.target.value;D(e)},placeholder:g.amount})]})}),Object(f.jsx)("div",{children:n.baseToken})]}),0===+p.marginHeld&&Object(f.jsxs)("div",{className:"max",children:[g.max,": ",Object(f.jsx)("span",{className:"max-num",children:x||p.margin}),Object(f.jsx)("span",{className:"max-btn-left",onClick:function(){D(m)},children:g["remove-all"]})]}),+p.volume>0&&Object(f.jsxs)("div",{className:"max",children:[Object(f.jsx)("span",{className:"max-num"}),Object(f.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(f.jsx)("div",{className:"add-margin-btn",children:Object(f.jsx)(l.a,{className:"margin-btn",btnText:g.withdraw,lang:g,click:E,checkApprove:!0,wallet:e,spec:n})})]})})]})})})}},767:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i(69),s=i(0),r=i.n(s),o=i(2),a=i(16),c=i(12),l=i(201),h=i(732),u=i(733),d=i(775),f=i(776),p=i(690),v=i(18),b=i(722),m=i(31),j=Object(l.a)(h.a),g=Object(l.a)(u.a);function y(t){var e=t.wallet,i=t.spec,s=t.afterDepositAndWithdraw,l=t.position,h=t.onClose,u=t.lang,y=Object(c.useState)([]),O=Object(a.a)(y,2),x=O[0],A=O[1],w=parseInt((document.body.offsetHeight-140)/54),N=Object(c.useState)(Array.from({length:w})),M=Object(a.a)(N,2),C=M[0],S=M[1],k=Object(c.useState)(!1),_=Object(a.a)(k,2),D=_[0],I=_[1],T=Object(c.useState)(!1),P=Object(a.a)(T,2),B=P[0],R=P[1],E=Object(c.useState)(""),F=Object(a.a)(E,2),L=F[0],Q=F[1],H=Object(c.useState)(""),z=Object(a.a)(H,2),J=z[0],U=z[1],G=Object(c.useState)(""),W=Object(a.a)(G,2),q=W[0],V=W[1],Y=Object(c.useState)(""),X=Object(a.a)(Y,2),K=X[0],Z=X[1];Object(b.a)();var $=function(){var t=Object(o.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.detail.account||!i){t.next=6;break}return t.next=3,Object(v.E)(e.detail.chainId,i.pool,e.detail.account,i.symbolId);case 3:n=t.sent,A(n),n.length<w&&S(Array.from({length:w-n.length}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return $(),window.scrollTo(0,0),function(){}}),[e.detail.account,i]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"modal fade",children:Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("div",{className:"title",children:u["balance-in-contract-uppercase"]}),Object(m.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){s(),h()},children:Object(m.jsx)("span",{children:"\xd7"})})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("div",{className:"balance-list",children:[Object(m.jsxs)("div",{className:"row header",children:[Object(m.jsx)("span",{className:"btoken pc",children:u["base-token"]}),Object(m.jsx)("span",{className:"btoken mobile",children:u["base-token"]}),Object(m.jsx)("span",{className:"w-balance pc",children:u["wallet-balance"]}),Object(m.jsx)("span",{className:"w-balance mobile",children:u["wallet-balance"]}),Object(m.jsx)("span",{className:"avail-balance pc",children:u["available-balance"]}),Object(m.jsx)("span",{className:"avail-balance mobile",children:u["available-balance"]})]}),x.map((function(t,e){return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("span",{className:"btoken",children:t.bTokenSymbol}),Object(m.jsx)("span",{className:"w-balance",children:Object(m.jsx)(p.a,{value:t.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(m.jsx)("span",{className:"avail-balance",children:Object(m.jsx)(p.a,{value:t.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(m.jsxs)("span",{className:"action",children:[Object(m.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:function(){return function(t,e,i){Q(t),V(e),Z(i),I(!0)}(t.walletBalance,t.bTokenId,t.bTokenSymbol)},children:[Object(m.jsx)("img",{src:d.a,alt:u["add-margin"]})," ",u.add]}),Object(m.jsxs)("span",{className:"remove-margin",onClick:function(){return function(t,e,i){U(t),V(e),Z(i),R(!0)}(t.availableBalance,t.bTokenId,t.bTokenSymbol)},children:[Object(m.jsx)("img",{src:f.a,alt:u["remove-margin"]})," ",u.remove]})]})]},e)})),C.map((function(t,e){return Object(m.jsx)("div",{className:"row"},e)}))]})})]})})}),Object(m.jsx)(j,{wallet:e,onClose:function(){return I(!1)},balance:L,spec:Object(n.a)(Object(n.a)({},i),{},{bTokenId:q,bTokenSymbol:K}),position:l,modalIsOpen:D,afterDeposit:function(){I(!1),$()},className:"trading-dialog",nested:!0,lang:u}),Object(m.jsx)(g,{wallet:e,onClose:function(){return R(!1)},spec:Object(n.a)(Object(n.a)({},i),{},{bTokenId:q,bTokenSymbol:K}),position:l,modalIsOpen:B,afterWithdraw:function(){R(!1),$()},availableBalance:J,className:"trading-dialog",nested:!0,lang:u})]})}},768:function(t,e,i){"use strict";e.a="data:image/png;base64,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"},775:function(t,e,i){"use strict";e.a=i.p+"static/media/remove-margin.b53e55b1.svg"},776:function(t,e,i){"use strict";e.a=i.p+"static/media/add-margin.f4c9f875.svg"},818:function(t,e,i){"use strict";e.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},819:function(t,e,i){"use strict";e.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},827:function(t,e,i){"use strict";e.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMtJREFUKFNjZACCR35JUoxM/1L//2cMY2Rk0AKJYQP//zNcY2T8v+r/P6bZcpvmPWMEaWRg/LcKqGkPy3/GVZIb51/Dpfm5f6LWH8b/YUBDXBj+M4UxPg5IqAcqZpTdsKABlyZ0cZgexkf+iVdZGRhC8dmIrhnkgt8MDKuBNif+l90wn5FYW2HqQPoGkWaQc3B5Adl7WJ0NDEkH3JoXHBgkfqYwnilJYYi0vRuYtlcTkbZDgWnbFZy2kXJVGjBXhRKRq1YDc9UsUK4CANLUkGF0vLC1AAAAAElFTkSuQmCC"},828:function(t,e,i){"use strict";e.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMNJREFUKFNjZAAC6yOGUsy/2VP///8fxsjIqAUSwwaA8teA8qv+sv6cfdTm/DNGkEamX+yrGBkZ9vxn/r/qsN3Ja7g02x4y12L8yxj2/z+Dyz+2n2GMdvst6oGKGQ85nmjApQldHKaH0Xaf+VUGFoZQfDaiawa5gOEPw2qQzf+BtjJis5WQ3CDSDHIqroBD9h5I3SByNrKTCYY2pfFMfgpDStu7gWl7NRFpOxSYtl3BaRspV6UBc00oEblqNTBXzQLlKgA5rqOIANC/1gAAAABJRU5ErkJggg=="},829:function(t,e,i){"use strict";var n=i(12),s=(i(869),i(688)),r=i.n(s),o=i(74),a=i(31);e.a=Object(o.b)("version","wallet","type")(Object(o.c)((function({lang:t,version:e,wallet:i,type:s}){const[o,c]=Object(n.useState)("main"),l=r()("area-picker-wrapper",o),[h,u]=Object(n.useState)({}),d=t=>{c(t),"innovation"===t?e.setCurrent("v2_lite"):"main"===t?e.setCurrent("v2"):"open"===t&&e.setCurrent("v2_lite_open")};return Object(n.useEffect)((()=>(e.isV2Lite?d("innovation"):e.isV2?d("main"):e.isOpen&&i.supportOpen&&d("open"),i.supportOpen?u({width:100/3+"%"}):u({width:"50%"}),()=>{})),[i.detail,e.current]),(e.isV2||e.isV2Lite||e.isOpen)&&i.supportInnovation&&!s.isOption?Object(a.jsx)("div",{className:"area-picker",children:Object(a.jsxs)("div",{className:l,children:[Object(a.jsx)("span",{className:"left",style:h,onClick:()=>d("main"),children:t["main-zone"]}),Object(a.jsx)("span",{className:"middle",style:h,onClick:()=>d("innovation"),children:t["innovation-zone"]}),i.supportOpen&&Object(a.jsx)("span",{className:"right",style:h,onClick:()=>d("open"),children:t["open-zone"]})]})}):null})))},844:function(t,e,i){"use strict";var n=i(16),s=i(12),r=i(75),o=i(0),a=i.n(o),c=i(2),l=i(18),h=i(688),u=i.n(h),d=i(201),f=i(732),p=i(733),v=i(690),b=i(44),m=i(74),j=i(767),g=i(776),y=i(775),O=i(818),x=i(819),A=i.p+"static/media/close-position-icon.6e2b1ee2.svg",w=i(700),N=i(31),M=Object(d.a)(f.a),C=Object(d.a)(p.a),S=Object(d.a)(j.a);function k(t){var e=t.trading,i=t.wallet,r=t.lang,o=Object(s.useState)(Object(N.jsx)("span",{})),a=Object(n.a)(o,2),c=a[0],l=a[1];return Object(s.useEffect)((function(){var t="";i.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(N.jsxs)("span",{children:[Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(N.jsx)("span",{children:" / "}),Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(N.jsxs)("span",{children:[Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-three"],children:" ? "})}),Object(N.jsx)("span",{children:" / "}),Object(N.jsxs)("span",{children:[" ",Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(t=Object(N.jsxs)("span",{children:[Object(N.jsxs)("span",{children:[" ",Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(N.jsx)("span",{children:" / "}),Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-three"],children:" ? "})})]})):t=Object(N.jsxs)("span",{children:[Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-three"],children:" ? "})}),Object(N.jsx)("span",{children:" / "}),Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-three"],children:" ? "})})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(N.jsxs)("span",{children:[Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(N.jsx)("span",{children:" / "}),Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?t=Object(N.jsxs)("span",{children:[Object(N.jsxs)(w.a,{block:!1,children:[" ",Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-two"],children:" -- "})]}),Object(N.jsx)("span",{children:" / "}),Object(N.jsxs)("span",{children:[" ",Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(t=Object(N.jsxs)("span",{children:[Object(N.jsxs)("span",{children:[" ",Object(N.jsx)(v.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(N.jsx)("span",{children:" / "}),Object(N.jsxs)(w.a,{block:!1,children:[" ",Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-two"],children:" -- "})]})]})):t=Object(N.jsxs)("span",{children:[Object(N.jsxs)(w.a,{block:!1,children:[" ",Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-two"],children:" -- "})]}),Object(N.jsx)("span",{children:" / "}),Object(N.jsxs)(w.a,{block:!1,children:[" ",Object(N.jsx)("span",{className:"funding-fee",tip:r["liq-price-hover-two"],children:" -- "})]})]}),l(t))}),[e.position,i.detail]),Object(N.jsx)("span",{children:c})}var _=Object(m.b)("wallet","trading","version","type")(Object(m.c)((function(t){var e=t.wallet,i=t.trading,o=t.version,h=t.lang,d=t.type,f=Object(s.useState)(!1),p=Object(n.a)(f,2),m=p[0],j=p[1],_=Object(s.useState)(""),D=Object(n.a)(_,2),I=D[0],T=D[1],P=Object(s.useState)(""),B=Object(n.a)(P,2),R=B[0],E=B[1],F=Object(s.useState)(""),L=Object(n.a)(F,2),Q=L[0],H=L[1],z=Object(s.useState)(!1),J=Object(n.a)(z,2),U=J[0],G=J[1],W=Object(s.useState)(!1),q=Object(n.a)(W,2),V=q[0],Y=q[1],X=Object(s.useState)(!1),K=Object(n.a)(X,2),Z=K[0],$=K[1],tt=Object(s.useState)(""),et=Object(n.a)(tt,2),it=et[0],nt=et[1],st=function(){var t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnected()||!i.config){t.next=5;break}return t.next=3,Object(l.Z)(e.detail.chainId,i.config.pool,e.detail.account,i.config.bTokenId).catch((function(t){return console.error("load balance error,maybe network is wrong")}));case 3:(n=t.sent)&&nt(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),rt=function(){var t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,Object(l.h)(e.detail.chainId,i.config.pool,e.detail.account,i.config.symbolId).finally((function(){return j(!1)}));case 3:(n=t.sent).success?ot():"string"===typeof n.error?alert(n.error||h["close-position-failed"]):"object"===Object(r.a)(n.error)?alert(n.error.errorMessage||h["close-position-failed"]):alert(h["close-position-failed"]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ot=function(){i.refresh(),st()},at=u()("Direction","info-num",{LONG:+i.position.volume>0,SHORT:+i.position.volume<0});return Object(s.useEffect)((function(){return st(),function(){}}),[e.detail.account,i.config]),Object(s.useEffect)((function(){if(i.position){var t=i.position,e=+t.volume>0?h.long:Object(b.e)(t.volume,0)||!t.volume?"--":h.short;T(e),E(Object(l.g)(t.margin).plus(t.unrealizedPnl).toString()),H(Object(l.g)(t.margin).plus(t.unrealizedPnl).minus(t.marginHeld).toString())}return function(){}}),[i.position.volume,i.position.margin,i.position.unrealizedPnl]),Object(N.jsxs)("div",{className:"position-info",children:[Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)("div",{className:"title-text",children:h.position}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsx)(v.a,{value:i.position.volume,allowZero:!0})})]}),Object(N.jsx)("div",{className:"info-right",children:Object(N.jsxs)("div",{className:"close-position",id:"close-p",onClick:rt,children:[Object(N.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:m?"block":"none"}}),Object(N.jsx)("img",{src:A})," ",h.close]})})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)("div",{className:"title-text",children:h["average-entry-price"]}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsx)(v.a,{value:i.position.averageEntryPrice,decimalScale:2})})]}),Object(N.jsx)("div",{className:"info-right"})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)("div",{className:"title-text balance-con",children:o.isV1||o.isV2Lite||d.isOption?Object(N.jsxs)(N.Fragment,{children:[h["balance-in-contract"],Object(N.jsx)("br",{})," (",h["dynamic-balance"],")"]}):h["dynamic-effective-balance"]}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsx)(v.a,{decimalScale:2,allowZero:!0,value:R})})]}),Object(N.jsx)("div",{className:"info-right action ".concat(o.current),children:o.isV1||o.isV2Lite||d.isOption||o.isOpen?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:function(){return Y(!0)},children:[Object(N.jsx)("img",{src:y.a,alt:"add margin"})," ",h.add]}),Object(N.jsxs)("div",{className:"remove-margin",onClick:function(){return $(!0)},children:[Object(N.jsx)("img",{src:g.a,alt:"add margin"})," ",h.remove]})]}):Object(N.jsxs)("div",{onClick:function(){return G(!0)},children:[Object(N.jsx)("img",{src:O.a,alt:"Remove margin"})," ",h.detail]})})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)("div",{className:"title-text",children:h.direction}),Object(N.jsx)("div",{className:at,children:I})]}),Object(N.jsx)("div",{className:"info-right"})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)("div",{className:"title-text",children:h.margin}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsx)(v.a,{value:i.position.marginHeld,decimalScale:2})})]}),Object(N.jsx)("div",{className:"info-right"})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)("div",{className:"title-text",children:h["unrealized-pnl"]}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsxs)("span",{className:"pnl-list",children:[Object(N.jsx)(v.a,{value:i.position.unrealizedPnl,decimalScale:8}),(i.position.unrealizedPnlList?(o.isV2||o.isV2Lite||o.isOption)&&i.position.unrealizedPnlList.length:o.isV2||o.isV2Lite)&&Object(N.jsx)("img",{src:x.a,alt:"unrealizePnl"}),(o.isV2||o.isV2Lite||o.isOption)&&Object(N.jsx)("div",{className:"pnl-box",children:i.position.unrealizedPnlList&&i.position.unrealizedPnlList.map((function(t,e){return Object(N.jsxs)("div",{className:"unrealizePnl-item",children:[Object(N.jsx)("span",{children:t[0]}),Object(N.jsx)("span",{children:Object(N.jsx)(v.a,{value:t[1],decimalScale:8})})]},e)}))})]})})]}),Object(N.jsx)("div",{className:"info-right"})]}),Object(N.jsxs)("div",{className:"info",children:[d.isFuture&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)(w.a,{children:Object(N.jsx)("div",{className:"title-text  funding-fee",tip:h["funding-fee-tip"],children:h["funding-fee"]})}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsx)(v.a,{value:-i.position.fundingFee,decimalScale:8})})]}),Object(N.jsx)("div",{className:"info-right"})]}),d.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsx)(w.a,{children:Object(N.jsx)("div",{className:"title-text  funding-fee",tip:h["funding-fee-tip"],children:h["funding-fee"]})}),Object(N.jsx)("div",{className:"info-num",children:Object(N.jsx)(v.a,{value:-i.position.premiumFundingAccrued,decimalScale:8})})]}),Object(N.jsx)("div",{className:"info-right"})]})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"info-left",children:[Object(N.jsxs)("div",{className:"title-text",children:[Object(N.jsx)("span",{}),d.isOption?Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"funding-fee",tip:h["liq-price-hover-one"],children:h["liquidation-price"]})}):Object(N.jsx)("span",{children:h["liquidation-price"]})]}),Object(N.jsx)("div",{className:"info-num",children:d.isOption?Object(N.jsx)(k,{trading:i,wallet:e,lang:h}):Object(N.jsx)(v.a,{decimalScale:4,value:i.position.liquidationPrice})})]}),Object(N.jsx)("div",{className:"info-right"})]}),Object(N.jsx)(M,{wallet:e,modalIsOpen:V,onClose:function(){Y(!1)},spec:i.config,afterDeposit:function(){Y(!1),ot()},balance:it,className:"trading-dialog",lang:h}),Object(N.jsx)(C,{wallet:e,modalIsOpen:Z,onClose:function(){$(!1)},spec:i.config,afterWithdraw:function(){$(!1),ot()},position:i.position,availableBalance:Q,className:"trading-dialog",lang:h}),Object(N.jsx)(S,{wallet:e,modalIsOpen:U,onClose:function(){G(!1)},spec:i.config,afterDepositAndWithdraw:function(){ot()},position:i.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:h})]})}))),D=i(724),I=i.n(D),T=i(697);var P=i(98),B=i(768),R=P[l.a.get()].chainInfo;function E(t){var e=t.wallet,i=t.his,r=Object(s.useState)(!1),o=Object(n.a)(r,2),a=o[0],c=o[1],l=function(){c(!0)},h=function(){c(!1)},d=u()("view",{hover:a});return Object(N.jsxs)("span",{className:d,onMouseOut:h,children:[Object(N.jsx)("span",{className:"view-space",onMouseOver:l,children:Object(N.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(R[e.detail.chainId].viewUrl,"tx/").concat(i.transactionHash),children:["View at ",R[e.detail.chainId].viewUrl]})}),Object(N.jsx)("span",{className:"right-arrow",onMouseOver:l,children:Object(N.jsx)("img",{alt:"",src:B.a})}),Object(N.jsx)("span",{className:"view-arrow",onMouseOver:l,onMouseOut:h,children:Object(N.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(R[e.detail.chainId].viewUrl,"tx/").concat(i.transactionHash),children:Object(N.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var F=Object(m.b)("wallet","trading","type")(Object(m.c)((function(t){var e=t.wallet,i=t.trading,r=t.lang,o=t.type,l=Object(s.useState)([]),h=Object(n.a)(l,2),u=h[0],d=h[1];function f(){return(f=Object(c.a)(a.a.mark((function t(){var n,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isConnected()&&i.configs&&i.config&&i.contract&&(n=i.history,s=n.map((function(t){t.directionText=r["long-buy"],"SHORT"===t.direction?t.directionText=r["short-sell"]:"liquidation"===t.direction.toLowerCase()&&(t.directionText=r.liquidation);var e=i.config;return e&&(t.symbol=t.symbol?t.symbol:e.symbol,t.baseTokenText=t.baseToken?" ".concat(t.symbol," / ").concat(t.baseToken):t.symbol),t})),d(s));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return function(){f.apply(this,arguments)}(),function(){}}),[e.detail,i.configs,i.config,i.history]),Object(N.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[u.map((function(t,i){return Object(N.jsxs)("div",{className:"history-box",children:[Object(N.jsxs)("div",{className:"direction-bToken-price",children:[Object(N.jsxs)("span",{className:"direction",children:[Object(N.jsxs)("span",{className:"".concat(t.direction),children:[" ",t.directionText]}),Object(N.jsx)("span",{className:"basetoken",children:t.baseTokenText}),Object(N.jsx)(E,{wallet:e,his:t})]}),Object(N.jsx)("span",{className:"history-text time",children:I.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))})]}),Object(N.jsxs)("div",{className:"time-price-volume",children:[Object(N.jsxs)("div",{className:"history-price",children:[Object(N.jsxs)("div",{className:"history-title",children:[" ",o.isOption?r["volume-notional-price"]:r["volume-price"]]}),Object(N.jsxs)("div",{className:"history-text",children:[t.volume," @ ",Object(N.jsx)(v.a,{value:t.price,decimalScale:4,displayType:"text"})]})]}),Object(N.jsxs)("div",{className:"notional",children:[Object(N.jsxs)("div",{className:"history-title",children:[" ",o.isOption?r["contract-value"]:r.notional]}),Object(N.jsx)("div",{className:"history-text",children:Object(N.jsx)(v.a,{value:t.notional,decimalScale:4})})]}),Object(N.jsxs)("div",{className:"history-fee",children:[Object(N.jsx)("div",{className:"history-title pc",children:r["transaction-fee"]}),Object(N.jsx)("div",{className:"history-title mobile",children:r["transaction-fee"]}),Object(N.jsx)("div",{className:"history-text",children:Object(N.jsx)(v.a,{value:t.transactionFee,decimalScale:4})})]})]})]},i)})),0===+u.length?Object(N.jsx)("div",{className:"no-data",children:r["no-data"]}):""]})}))),L=i(38);var Q=Object(m.b)("wallet","trading","type")(Object(m.c)((function({wallet:t,trading:e,lang:i,type:n}){return Object(N.jsxs)("div",{className:"contract-box",children:[Object(N.jsx)("div",{className:"contract-header"}),Object(N.jsxs)("div",{className:"contract-info",children:[Object(N.jsx)("div",{className:"conntract-header",children:i["contract-info"]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["base-token"]}),Object(N.jsx)("div",{className:"text",children:e.contract.bTokenSymbol&&e.contract.bTokenSymbol.map(((t,s)=>L.a.isV2&&n.isFuture?Object(N.jsx)(w.a,{children:Object(N.jsxs)("span",{className:"btoken-symbol",children:[t,"(",Object(N.jsxs)("span",{className:"multiplier",tip:i["multiplier-tip"],children:[e.contract.bTokenMultiplier&&e.contract.bTokenMultiplier[s],"x"]}),")"]})},s):Object(N.jsx)("span",{className:"btoken-symbol",children:t},s)))})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"title",children:[n.isOption&&i["symbol-option"],n.isFuture&&i.symbol]}),Object(N.jsx)("div",{className:"text",children:e.contract.symbol})]}),n.isFuture&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"title",children:[" ",Object(N.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(N.jsxs)("div",{className:"text",children:[e.contract.multiplier," ",e.config?e.config.unit:""]})]}),(L.a.isOpen||L.a.isV1)&&Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["funding-rate-coefficient"]}),Object(N.jsx)("div",{className:"text",children:e.contract.fundingRateCoefficient})]}),!L.a.isOpen&&Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["funding-rate-coefficient"]}),Object(N.jsx)("div",{className:"text",children:Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{tip:e.fundingCoefficientTip,className:"margin-per",children:e.contract.fundingRateCoefficient?(s=+e.contract.fundingRateCoefficient,(s=+s.toFixed(11)).toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/)[0]):""})})})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["min-initial-margin-ratio"]}),Object(N.jsx)("div",{className:"text",children:Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["min-maintenance-margin-ratio"]}),Object(N.jsx)("div",{className:"text",children:Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),n.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i.underlier}),Object(N.jsx)("div",{className:"text",children:e.contract.underlier})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i.strike}),Object(N.jsx)("div",{className:"text",children:e.contract.strike})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["option-type"]}),Object(N.jsx)("div",{className:"text",children:"C"===e.contract.optionType?`${i.call}`:`${i.put}`})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"title",children:[" ",Object(N.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(N.jsxs)("div",{className:"text",children:[e.contract.multiplier," ",e.config?e.config.unit:""]})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{tip:e.initialMarginRatioTip,className:"margin-per",children:i["initial-margin-ratio"]})})}),Object(N.jsx)("div",{className:"text",children:Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsxs)("div",{className:"title",children:[" ",Object(N.jsx)(w.a,{block:!1,children:Object(N.jsxs)("span",{tip:e.maintenanceMarginRatioTip,className:"margin-per",children:[" ",i["maintenance-margin-ratio"]]})})," "]}),Object(N.jsx)("div",{className:"text",children:Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(N.jsxs)("div",{className:"info",children:[n.isFuture&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"title",children:i["transaction-fee"]})}),n.isOption&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"title",children:Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"margin-per",tip:e.TransactionFeeTip,children:i["transaction-fee"]})})})}),Object(N.jsxs)("div",{className:"text",children:[n.isOption&&Object(N.jsxs)(N.Fragment,{children:["C"===e.contract.optionType&&Object(N.jsxs)(N.Fragment,{children:[e.contract.strike>=e.index&&Object(N.jsxs)(N.Fragment,{children:[i["eo-mark-price"]," * ",Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),e.contract.strike<e.index&&Object(N.jsxs)(N.Fragment,{children:[e.contract.underlier," ",i.price," * ",Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==e.contract.optionType&&Object(N.jsxs)(N.Fragment,{children:[e.contract.strike<e.index&&Object(N.jsxs)(N.Fragment,{children:[i["eo-mark-price"]," * ",Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),e.contract.strike>=e.index&&Object(N.jsxs)(N.Fragment,{children:[e.contract.underlier," ",i.price," * ",Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),n.isFuture&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T.a,{displayType:"text",value:100*e.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),e.contract.indexConstituents&&e.contract.indexConstituents.tokens.length>0&&Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"title",children:i["index-constituent"]}),Object(N.jsx)("div",{className:"text",children:e.contract.indexConstituents.tokens.join(" | ")})]})]})]});var s}))),H=i(69),z=i(698),J=i(1075),U=(i(1004),i(866),["value","dragging","index"]),G=J.b.Handle;function W(t){var e=t.value,i=(t.dragging,t.index),n=Object(z.a)(t,U);return Object(N.jsx)(J.a,{prefixCls:"rc-slider-tooltip",overlay:e||"",placement:"top",visible:!!e,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(N.jsx)(G,Object(H.a)({value:e},n))},i)}function q(t){var e=t.max,i=void 0===e?"--":e,r=t.start,o=t.onValueChange,a=t.freeze,c=t.currentSymbolMarginHeld,h=t.originMarginHeld,d=t.setStopCalculate,f=Object(s.useState)(0),p=Object(n.a)(f,2),v=p[0],b=p[1],m=Object(s.useState)(0),j=Object(n.a)(m,2),g=j[0],y=j[1],O=Object(s.useState)(!1),x=Object(n.a)(O,2),A=x[0],w=x[1],M=Object(s.useState)({}),C=Object(n.a)(M,2),S=C[0],k=C[1],_=Object(s.useState)(!1),D=Object(n.a)(_,2),I=D[0],T=D[1],P=Object(s.useState)(!1),B=Object(n.a)(P,2),R=B[0],E=B[1];Object(s.useEffect)((function(){return w(a),0===Math.abs(i)&&w(!0),function(){}}),[a,i]),Object(s.useEffect)((function(){var t=i;return 0!==Math.abs(i)&&"--"!==i||(i=100),isNaN(t)&&b(""),i&&k(function(t){for(var e={},i=+t/10,n=0;n<=10;n++)if(0===n||10===n){var s={top:"-16px",position:"relative"};10===n&&(s.width=100,s.left="-10px",s.paddingRight="10px"),e[n*i]=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{style:s,children:10===n?(n*i).toFixed(2):n*i}),Object(N.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else e[n*i]="l";return e}(i)),b(+i),"--"!==t&&T(!0),0!==Math.abs(i)&&0!==Math.abs(t)||T(!1),function(){}}),[i]),Object(s.useEffect)((function(){return R||(isNaN(r)?y(0):y(r)),function(){}}),[r]);var F=u()("deri-slider",{controlled:I});return Object(N.jsx)(J.b,{handle:W,className:F,start:r,min:0,max:v,value:g,onChange:function(t){E(!0),d(!0),y(t),o(t,!1)},onAfterChange:function(t){if(c){var e=Object(l.g)(h).minus(c);Object(l.g)(t).lt(e)&&(y(e),o(e))}E(!1),d(!1)},disabled:A,overlay:g,step:.01,marks:S})}var V=i(689),Y=i(37);var X=i.p+"static/media/arrow-down.5e5e4213.svg",K=i.p+"static/media/arrow-up.d36fae6d.svg";function Z(t){var e=t.symbol,i=t.trading,r=t.onSelect,o=t.index,a=t.version,c=t.type,l=Object(s.useState)(0),h=Object(n.a)(l,2),d=h[0],f=h[1],p=u()("sub-menu",{show:o===d});return Object(N.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(N.jsxs)("div",{className:"catalog",onClick:function(){return function(t){f(d===t?-1:t)}(o)},children:[e,Object(N.jsx)("span",{className:"sub-memu-icon",children:d===o?Object(N.jsx)("img",{src:K,alt:""}):Object(N.jsx)("img",{src:X,alt:""})})]}),Object(N.jsx)("div",{className:p,children:Array.isArray(i.optionsConfigs[e])&&i.optionsConfigs[e].map((function(t,e){return Object(N.jsx)("div",{className:"dropdown-item",onClick:function(){return r(t)},children:Object(N.jsx)($,{spec:t,version:a,type:c})},e)}))},o)]},o)}function $(t){var e=t.version,i=t.spec;return t.type.isOption?"".concat(i&&i.symbol||"BTCUSD-70000-C"):e.isV1||e.isV2Lite||e.isOpen?"".concat(i&&i.symbol||"BTCUSD"," / ").concat(i&&i.bTokenSymbol||"BUSD"," (10X)"):"".concat(i&&i.symbol||"BTCUSD"," (10X)")}var tt=Object(m.b)("trading","version","loading","type")(Object(m.c)((function(t){var e=t.trading,i=t.version,r=t.loading,o=t.type,a=Object(s.useState)(!1),c=Object(n.a)(a,2),l=c[0],h=c[1],d=u()("dropdown-menu",{show:l}),f=function(t){t&&(r.loading(),e.pause(),e.onSymbolChange(t,(function(){return r.loaded()}),o.isOption),h(!1))};return Object(s.useEffect)((function(){var t=function(t){document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(t.target)&&h(!1)};return document.body.addEventListener("click",t),function(){document.body.removeEventListener("click",t)}}),[]),Object(N.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(N.jsxs)("button",{type:"button",onClick:function(t){t.preventDefault(),h(!l)},className:"btn chec",children:[Object(N.jsx)($,{spec:e.config,version:i,type:o}),Object(N.jsx)("span",{className:"check-base-down",children:l?Object(N.jsx)("img",{src:K,alt:""}):Object(N.jsx)("img",{src:X,alt:""})})]}),Object(N.jsx)("div",{className:d,children:o.isFuture?e.configs.map((function(t,e){return Object(N.jsx)("div",{className:"dropdown-item",onClick:function(e){return f(t)},children:Object(N.jsx)($,{spec:t,version:i,type:o})},e)})):Object.keys(e.optionsConfigs).map((function(t,n){return Object(N.jsx)(Z,{index:n,symbol:t,trading:e,onSelect:f,version:i,type:o},n)}))})]})}))),et=i(827),it=i(828);i(1005);const nt=Object(d.a)((function({wallet:t,spec:e,onClose:i,direction:n,volume:r,position:o=0,indexPrice:a,leverage:c,afterLeverage:h,transFee:u,afterTrade:d,lang:f,markPriceAfter:p,trading:v,liquidationPrice:b}){const[m,j]=Object(s.useState)(!1),g=()=>{m||i()},y="long"===n?Object(l.g)(r).plus(Object(l.g)(o)).toString():Object(l.g)(o).minus(Object(l.g)(r)).toString();return Object(N.jsx)("div",{className:"modal-dialog",children:Object(N.jsxs)("div",{className:"modal-content",children:[Object(N.jsxs)("div",{className:"modal-header",children:[Object(N.jsx)("div",{className:"title",children:f.confirm}),Object(N.jsx)("div",{className:"close","data-dismiss":"modal",onClick:g,children:Object(N.jsx)("span",{children:"\xd7"})})]}),Object(N.jsx)("div",{className:"modal-body",children:Object(N.jsxs)("div",{className:"contract-box-info",children:[Object(N.jsxs)("div",{className:"top",children:[Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["of-contracts"]}),Object(N.jsxs)("div",{className:"text-num",children:["long"===n?r:`-${r}`," ",v.config.unit]})]}),Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["position-after-execution"]}),Object(N.jsx)("div",{className:"text-num",children:y})]}),Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f.direction}),Object(N.jsx)("div",{className:"text-num",children:Object(N.jsx)("span",{className:n,children:f[n.toLowerCase()]})})]}),Y.a.isFuture&&Object(N.jsxs)(N.Fragment,{children:[(L.a.isOpen||L.a.isV1)&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"text",children:[Object(N.jsxs)("div",{className:"text-title",children:[" ",f["trade-price-estimated"]]}),Object(N.jsx)("div",{className:"text-num",children:Object(N.jsx)(T.a,{value:a,decimalScale:2,displayType:"text"})})]})}),!L.a.isOpen&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["confirm-trade-price"]}),Object(N.jsx)("div",{className:"text-num",children:Object(N.jsx)(T.a,{value:p,decimalScale:2,displayType:"text"})})]})})]}),Y.a.isOption&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["confirm-trade-price"]}),Object(N.jsx)("div",{className:"text-num",children:Object(N.jsx)(T.a,{value:p,decimalScale:2,displayType:"text"})})]})}),Y.a.isFuture&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["cur-pos-leverage"]}),Object(N.jsxs)("div",{className:"text-num",children:[c,"X"]})]}),Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["leverage-after-execution"]}),Object(N.jsxs)("div",{className:"text-num",children:[h,"X"]})]})]}),Y.a.isFuture&&Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["liquidation-price"]}),Object(N.jsx)("div",{className:"text-num",children:Object(N.jsx)(T.a,{value:b,decimalScale:2,displayType:"text"})})]}),Object(N.jsxs)("div",{className:"text",children:[Object(N.jsx)("div",{className:"text-title",children:f["transaction-fee"]}),Object(N.jsx)("div",{className:"text-num",children:Object(N.jsx)(T.a,{value:u,decimalScale:2,suffix:` ${e.bTokenSymbol}`,displayType:"text"})})]})]}),Object(N.jsx)("div",{className:"modal-footer",children:Object(N.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(N.jsx)("button",{className:"cancel",onClick:g,children:f.cancel}),Object(N.jsx)(V.a,{className:"confirm",btnText:f.ok,click:async()=>{j(!0),r=Object(l.g)(r).div(Object(l.g)(v.contract.multiplier)).toString(),r="long"===n?r:-+r;const s=await Object(l.ub)(t.detail.chainId,e.pool,t.detail.account,r,e.symbolId);if(s.success)d(),i();else{const t="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message;alert(t)}j(!1)},lang:f})]})})]})})]})})})),st=Object(d.a)(f.a),rt=Object(d.a)(p.a),ot=Object(d.a)(j.a);function at({hasConnectWallet:t,wallet:e,spec:i,volume:n,available:r,baseToken:o,leverage:a,indexPrice:c,position:h,transFee:u,afterTrade:d,direction:f,trading:p,version:v,lang:b,type:m,markPriceAfter:j,afterLeverage:g,liquidationPrice:y}){const[O,x]=Object(s.useState)(!0),[A,w]=Object(s.useState)(!0),[M,C]=Object(s.useState)(!1),[S,k]=Object(s.useState)(!1),[_,D]=Object(s.useState)(""),I=()=>{e.connect()},T=async()=>{(await e.approve(i.pool,i.bTokenId)).success?(x(!0),R()):(x(!1),alert(b["approve-failed"]))},P=async()=>{p.refresh(),k(!1)},B=()=>{p.refresh(),k(!1)},R=async()=>{if(t()&&i){const t=await e.isApproved(i.pool,i.bTokenId);x(t)}};Object(s.useEffect)((()=>(t()&&i&&(async()=>{if(e.isConnected()&&i){const t=await Object(l.Z)(e.detail.chainId,i.pool,e.detail.account,i.bTokenId).catch((t=>console.error("getWalletBalance was error,maybe network is Wrong")));t&&D(t)}})(),()=>{})),[e.detail.account,i,r]),Object(s.useEffect)((()=>(w(!n),()=>{})),[n]),Object(s.useEffect)((()=>(i&&R(),()=>{})),[e.detail.isApproved,i]);let E=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(nt,{wallet:e,className:"trading-dialog",spec:i,modalIsOpen:M,onClose:()=>C(!1),leverage:a,baseToken:o,volume:n,position:h.volume,indexPrice:c,transFee:u,afterTrade:d,direction:f,lang:b,markPriceAfter:j,afterLeverage:g,liquidationPrice:y,trading:p}),Object(N.jsx)("button",{className:"short-submit",onClick:()=>C(!0),children:b.trade})]});return t()?O?!r||+r<=0?E=Object(N.jsxs)(N.Fragment,{children:[v.isV2&&!m.isOption?Object(N.jsx)(ot,{wallet:e,modalIsOpen:S,onClose:B,spec:i,afterDepositAndWithdraw:B,position:p.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:b}):Object(N.jsx)(st,{wallet:e,modalIsOpen:S,onClose:()=>k(!1),spec:i,balance:_,afterDeposit:P,className:"trading-dialog",lang:b}),Object(N.jsx)("div",{className:"noMargin-text",children:0!==+p.position.margin&&p.position.margin?b["not-enough-margin-tip"]:b["no-margin-tip"]}),Object(N.jsx)("button",{className:"short-submit",onClick:()=>k(!0),children:b.deposit})]}):A&&(E=Object(N.jsx)("button",{className:"btn btn-danger short-submit",children:b["enter-volume"]})):E=Object(N.jsx)(V.a,{className:"approve",btnText:b.approve,click:T,lang:b}):E=Object(N.jsx)(V.a,{className:"btn btn-danger connect",btnText:b["connect-wallet"],click:I,lang:b}),Object(N.jsx)("div",{className:"submit-btn",children:E})}var ct=Object(m.b)("wallet","trading","version","type")(Object(m.c)((function({wallet:t={},trading:e,version:i,lang:n,type:r}){const[o,a]=Object(s.useState)("long"),[c,h]=Object(s.useState)(),[d,f]=Object(s.useState)({}),[p,b]=Object(s.useState)(""),[m,j]=Object(s.useState)(""),[g,y]=Object(s.useState)(""),[O,x]=Object(s.useState)(""),[A,M]=Object(s.useState)({}),[C,S]=Object(s.useState)("rise"),[k,_]=Object(s.useState)("rise"),[D,I]=Object(s.useState)("0.000"),[T,P]=Object(s.useState)(""),[B,R]=Object(s.useState)(!0),[E,F]=Object(s.useState)(!1),[L,Q]=Object(s.useState)(""),[H,z]=Object(s.useState)(!1),[J,U]=Object(s.useState)(!1),[G,W]=Object(s.useState)(!1),[V,Y]=Object(s.useState)(!1),[X,K]=Object(s.useState)(!1),[Z,$]=Object(s.useState)(""),nt=Object(s.useRef)(),ct=Object(s.useRef)(),lt=u()("checked-long","check-long-short"," long-short",{"checked-short":"short"===o}),ht=u()("contrant-input",{inputFamliy:""!==e.volume}),ut=()=>{dt()},dt=()=>{ft(),e.refresh()},ft=async()=>{if(t.isConnected()&&e.config){const i=await Object(l.Z)(t.detail.chainId,e.config.pool,t.detail.account,e.config.bTokenId).catch((t=>console.log(t)));i&&P(i)}},pt=ut,vt=()=>t&&t.detail&&t.detail.account,bt=t=>{e.setVolume(""),a(t)},mt=t=>Object(l.g)(t).div(Object(l.g)(e.contract.multiplier)).toString();return Object(s.useEffect)((()=>{var t;return e.position&&e.position.volume&&(t=+e.position.volume,a(t>=0?"long":"short")),()=>{}}),[e.position.volume]),Object(s.useEffect)((()=>(J||""===e.volumeDisplay?t.detail.account&&e.resume():(e.pause(),(async()=>{if(vt()&&e.config&&e.volumeDisplay){let i=mt(e.volumeDisplay);const n="long"===o?i:-i,s=await Object(l.s)(t.detail.chainId,e.config.pool,n,e.config.symbolId);if(s){let t=r.isOption?s.deltaFunding1:s.fundingRate1;b(t)}}})(),(async()=>{if(vt()&&e.config&&e.volumeDisplay){let i=mt(e.volumeDisplay);const n="long"===o?i:-i,s=await Object(l.v)(t.detail.chainId,e.config.pool,n,e.config.symbolId);s&&j(s)}})(),(async()=>{if(vt()&&e.config&&e.volumeDisplay&&r.isFuture){const{detail:i}=t,n="long"===o?e.volumeDisplay:-e.volumeDisplay,s=await Object(l.y)(i.chainId,e.config.pool,e.config.symbolId),r=await Object(l.u)(i.chainId,e.config.pool,n,e.config.symbolId);s&&r&&M({curLiqUsed:s.liquidityUsed0,afterLiqUsed:r.liquidityUsed1})}})(),(async()=>{if(vt()&&e.config&&e.volumeDisplay){let i=mt(e.volumeDisplay);const n=await Object(l.r)(t.detail.chainId,e.config.pool,Math.abs(i),e.config.symbolId);isNaN(n)||x((+n).toFixed(2))}})(),(async()=>{if(vt()&&e.config&&e.volumeDisplay){let i=mt(e.volumeDisplay);const n="long"===o?i:-i,s=await Object(l.t)(t.detail.chainId,e.config.pool,t.detail.account,n,e.config.symbolId);s&&y(s)}})()),()=>{})),[e.volumeDisplay,J]),Object(s.useEffect)((()=>(ft(),()=>{})),[t.detail.account,e.config,e.amount.dynBalance]),Object(s.useEffect)((()=>{if(nt.current>e.index?S("fall"):S("rise"),nt.current=e.index,e.index){const t=e.index.toLocaleString(void 0,{minimumFractionDigits:2}),i=e.config&&e.config.symbol.split("-")[0];document.querySelector("head title").innerText=`$${t} ${i}.deri`}return()=>{document.querySelector("head title").innerText="deri"}}),[e.index,e.config]),Object(s.useEffect)((()=>{if(e.position){const{position:t}=e;$(Object(l.g)(t.margin).plus(t.unrealizedPnl).minus(t.marginHeld).toString())}return()=>{}}),[e.position.volume,e.position.margin,e.position.unrealizedPnl]),Object(s.useEffect)((()=>{let t=e.position.markPrice;ct.current>t?_("fall"):_("rise"),ct.current=t,h(t)}),[e.index,e.position]),Object(s.useEffect)((()=>(e.config&&f(e.config),()=>{})),[e.config]),Object(s.useEffect)((()=>(e.margin&&e.direction&&a(e.direction),()=>{})),[e.margin]),Object(s.useEffect)((()=>{let t="0.000";"0.0001"===e.contract.multiplier?t="0.0000":"0.001"===e.contract.multiplier?t="0.000":"0.01"===e.contract.multiplier?t="0.00":"0.1"===e.contract.multiplier?t="0.0":"1"===e.contract.multiplier&&(t="0"),I(t)}),[e.contract]),Object(s.useEffect)((()=>(e.index&&t.isConnected()&&t.supportChain&&R(!1),()=>{})),[t.detail.account,e.index]),Object(s.useEffect)((()=>(E||(e.position.volume>0?e.volume<0?a("short"):a("long"):e.position.volume<0&&(e.volume>0?a("short"):a("long"))),()=>{})),[e.volume,E]),Object(s.useEffect)((()=>{if(e.fundingRate.funding0&&e.position.markPrice){let t=Object(l.g)(e.fundingRate.funding0).div(Object(l.g)(e.position.markPrice)).times(Object(l.g)(100)).toString();Q(t)}}),[e.fundingRate,e.position]),Object(s.useEffect)((()=>(e.setUserSelectedDirection(o),()=>{})),[o]),Object(N.jsx)("div",{className:"trade-info",children:Object(N.jsxs)("div",{className:"trade-peration",children:[Object(N.jsxs)("div",{className:"check-baseToken",children:[Object(N.jsx)(tt,{setSpec:f,spec:e.config,isOption:r.isOption}),Object(N.jsxs)("div",{className:r.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[r.isFuture&&!i.isOpen&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"mark-price",children:[n["mark-price"]," : ",Object(N.jsxs)("span",{className:k,children:["\xa0 ",Object(N.jsx)(v.a,{value:c,decimalScale:2})]})]})}),r.isFuture&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"index-prcie",children:[n["index-price"],": ",Object(N.jsxs)("span",{className:C,children:["\xa0 ",Object(N.jsx)(v.a,{value:e.index,decimalScale:2})]})]})}),r.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"mark-price",children:[n["eo-mark-price"]," : ",Object(N.jsxs)("span",{className:k,children:["\xa0 ",Object(N.jsx)(v.a,{value:c,decimalScale:4})]})]}),Object(N.jsxs)("div",{className:"index-prcie",children:[e.config&&r.isOption?e.config.symbol.split("-")[0]:""," : ",Object(N.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(N.jsxs)("span",{children:[" ",Object(N.jsx)(v.a,{value:e.index,decimalScale:2})]}),Object(N.jsx)("span",{className:"vol",children:" | "}),n.vol," : ",Object(N.jsx)(v.a,{value:e.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(N.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[n["funding-rate"]," : \xa0"]}),Object(N.jsx)(w.a,{block:!1,tip:e.optionFundingRateTip,children:Object(N.jsx)("span",{className:"funding-per",tip:e.optionFundingRateTip||"",children:Object(N.jsx)(v.a,{value:e.fundingRate.premiumFunding0,decimalScale:4})})})]}),r.isFuture&&(i.isOpen||i.isV1)&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[n["funding-rate-annual"]," : \xa0"]}),Object(N.jsx)(w.a,{block:!1,tip:e.fundingRateTip,children:Object(N.jsx)("span",{className:"funding-per",tip:e.fundingRateTip||"",children:Object(N.jsx)(v.a,{value:e.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),r.isFuture&&!i.isOpen&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[n["funding-rate"]," : \xa0"]}),Object(N.jsx)(w.a,{block:!1,tip:e.dpmmFundingRateTip,children:Object(N.jsx)("span",{className:"funding-per",tip:e.dpmmFundingRateTip||"",children:Object(N.jsx)(v.a,{value:e.fundingRate.funding0,decimalScale:4})})}),Object(N.jsxs)(w.a,{block:!1,tip:e.rateTip,children:["\xa0  ",Object(N.jsxs)("span",{className:"funding-per",tip:e.rateTip||"",children:["(",Object(N.jsx)(v.a,{value:L,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(N.jsxs)("div",{className:r.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[r.isFuture&&!i.isOpen&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"index-prcie",children:[n["mark-price"],": ",Object(N.jsxs)("span",{className:k,children:["\xa0 ",Object(N.jsx)(v.a,{value:c,decimalScale:2})]})]})}),r.isFuture&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"index-prcie",children:[n.index,": ",Object(N.jsxs)("span",{className:C,children:["\xa0 ",Object(N.jsx)(v.a,{value:e.index,decimalScale:2})]})]})}),r.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"mark-price",children:[n["eo-mark-price"]," : ",Object(N.jsxs)("span",{className:k,children:["\xa0 ",Object(N.jsx)(v.a,{value:c,decimalScale:2})]})]}),Object(N.jsxs)("div",{className:"index-prcie",children:[e.config&&r.isOption?e.config.symbol.split("-")[0]:"",": ",Object(N.jsxs)("span",{className:C,children:["\xa0 ",Object(N.jsx)(v.a,{value:e.index,decimalScale:2})]})]}),Object(N.jsxs)("div",{className:"index-prcie",children:[n.vol,": ",Object(N.jsx)(v.a,{value:e.position.volatility,decimalScale:2})]})]}),Object(N.jsxs)("div",{className:"funding-rate",children:[r.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[n["funding-rate"]," : \xa0"]}),Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"funding-per",tip:e.optionFundingRateTip||"",children:Object(N.jsx)(v.a,{value:e.fundingRate.premiumFunding0,decimalScale:4})})})]}),r.isFuture&&(i.isOpen||i.isV1)&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[n["funding-rate-annual"]," : \xa0"]}),Object(N.jsx)(w.a,{block:!1,tip:e.fundingRateTip,children:Object(N.jsx)("span",{className:"funding-per",tip:e.fundingRateTip||"",children:Object(N.jsx)(v.a,{value:e.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),r.isFuture&&!i.isOpen&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[n["funding-rate"]," : \xa0"]}),Object(N.jsx)(w.a,{block:!1,tip:e.dpmmFundingRateTip,children:Object(N.jsx)("span",{className:"funding-per",tip:e.dpmmFundingRateTip||"",children:Object(N.jsx)(v.a,{value:e.fundingRate.funding0,decimalScale:4})})})]})]}),r.isFuture&&!i.isOpen&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"rate",children:Object(N.jsx)(w.a,{block:!1,tip:e.rateTip,children:Object(N.jsxs)("span",{className:"funding-per",tip:e.rateTip||"",children:["(",Object(N.jsx)(v.a,{value:L,decimalScale:4,suffix:"%"}),")"]})})})})]})]}),Object(N.jsxs)("div",{className:lt,children:[Object(N.jsx)("div",{className:"check-long",onClick:()=>bt("long"),children:n["long-buy"]}),Object(N.jsx)("div",{className:"check-short",onClick:()=>bt("short"),children:n["short-sell"]})]}),Object(N.jsxs)("div",{className:"the-input",children:[Object(N.jsxs)("div",{className:"left",children:[Object(N.jsxs)("div",{className:"current-position",children:[Object(N.jsx)("span",{children:n["current-position"]}),Object(N.jsx)("span",{className:"position-text",children:Object(N.jsx)(v.a,{value:e.position.volume,allowZero:!0})})]}),Object(N.jsx)("div",{className:"contrant option-input",children:Object(N.jsxs)("div",{className:"bg-input",children:[Object(N.jsx)("div",{children:Object(N.jsx)("input",{type:"number",step:e.contract.multiplier,onFocus:t=>{t.target.setAttribute("class","contrant-input inputFamliy")},onBlur:t=>{const i=t.target;let n=e.contract.multiplier.indexOf("."),s=e.contract.multiplier.slice(n).length,r=i.value;-1!==i.value.indexOf(".")&&(r=i.value.substring(0,i.value.indexOf(".")+s),r="0"===r?"":r,z(0===+r),e.setVolume(r)),""===i.value&&i.setAttribute("class","contrant-input")},onKeyPress:t=>{46!==t.which&&(t.which<48||t.which>57)&&t.preventDefault()},disabled:!e.index||0===Math.abs(e.position.margin),onChange:t=>(t=>{let{value:i}=t.target;e.setVolume(i),F(!0)})(t),value:e.volumeDisplay,className:ht,placeholder:D})}),Object(N.jsx)("div",{className:"option-unit",children:e.config&&e.config.unit})]})}),H&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"min-quantity",children:[n["option-input-min-quantity"],"\xa0 ",e.contract.multiplier," \xa0",e.config&&e.config.unit]})})]}),Object(N.jsx)("div",{className:"right-info",children:Object(N.jsxs)("div",{className:`contrant-info ${i.current}`,children:[Object(N.jsxs)("div",{className:"balance-contract",children:[i.isV1&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{className:"balance-contract-text pc v1",children:[n["balance-in-contract"],Object(N.jsx)("br",{}),"(",n["dynamic-balance"],")"]}),Object(N.jsxs)("span",{className:"balance-contract-text mobile v1",children:[n["balance-in-contract"],Object(N.jsx)("br",{}),"(",n["dynamic-balance"],")"]})]}),(i.isV2||i.isV2Lite||r.isOption||i.isOpen)&&Object(N.jsxs)(w.a,{block:!1,children:[Object(N.jsx)("span",{className:"balance-contract-text pc",tip:n["dynamic-effective-balance-title"],children:n["dynamic-effective-balance"]}),Object(N.jsx)("span",{className:"balance-contract-text mobile",tip:n["dynamic-effective-balance-title"],children:n["dynamic-effective-balance"]})]}),Object(N.jsxs)("span",{className:`balance-contract-num ${i.current}`,children:[i.isV1||i.isV2Lite||r.isOption||i.isOpen?Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:()=>Y(!0),tip:n["remove-margin"],children:Object(N.jsx)("img",{src:et.a,alt:"add margin"})})}):Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"open-add",id:"openAddMargin",tip:n["remove-margin"],onClick:()=>K(!0),children:Object(N.jsx)("img",{src:et.a,alt:"add margin"})})}),Object(N.jsx)(v.a,{value:e.amount.dynBalance,allowZero:!0,decimalScale:2}),i.isV1||i.isV2Lite||r.isOption||i.isOpen?Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"open-remove",onClick:()=>W(!0),tip:n["add-margin"],children:Object(N.jsx)("img",{src:it.a,alt:"add margin"})})}):Object(N.jsx)(w.a,{block:!1,children:Object(N.jsx)("span",{className:"open-remove",onClick:()=>K(!0),tip:n["add-margin"],children:Object(N.jsx)("img",{src:it.a,alt:"add margin"})})})]})]}),i.isV1&&Object(N.jsxs)("div",{className:"box-margin",children:[Object(N.jsx)("span",{children:n.margin}),Object(N.jsx)("span",{className:"margin",children:Object(N.jsx)(v.a,{value:e.amount.margin,allowZero:!0,decimalScale:2})})]}),(i.isV2||i.isV2Lite||r.isOption||i.isOpen)&&Object(N.jsxs)(w.a,{block:!1,children:[Object(N.jsx)("div",{className:"box-margin",children:n.margin}),Object(N.jsxs)("div",{className:"box-margin",children:[Object(N.jsxs)("span",{className:"total-held",tip:n["total-held-title"],children:["\xa0- ",n["total-held"]]}),Object(N.jsx)("span",{className:"margin",children:Object(N.jsx)(v.a,{value:e.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(N.jsxs)("div",{className:"margin-held-pos",children:[Object(N.jsxs)("span",{className:"pos-held",tip:n["for-this-pos-title"],children:["\xa0- ",n["for-this-pos"]," "]}),Object(N.jsx)("span",{className:"margin",children:Object(N.jsx)(v.a,{value:e.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(N.jsx)(w.a,{block:!0,children:Object(N.jsxs)("div",{className:"available-balance",children:[Object(N.jsxs)("span",{className:"pc",tip:n["available-balance-title"],children:[" ",n["available-balance"]," "]}),Object(N.jsx)("span",{className:"mobile",tip:n["available-balance-title"],children:n["available-balance"]}),Object(N.jsx)("span",{className:"available-balance-num",children:Object(N.jsx)(v.a,{value:e.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(N.jsx)("div",{className:"slider mt-13",children:Object(N.jsx)(q,{max:e.amount.dynBalance,onValueChange:(t,i)=>{e.setSlideMargin(t),F(!1),i&&a("long"===o?"short":"long")},start:e.amount.margin,freeze:B,currentSymbolMarginHeld:e.position.marginHeldBySymbol,originMarginHeld:e.position.marginHeld,setStopCalculate:t=>U(t)})}),Object(N.jsx)("div",{className:"title-margin",children:n.margin}),Object(N.jsx)("div",{className:"enterInfo",children:!!e.volumeDisplay&&Object(N.jsxs)(N.Fragment,{children:[r.isFuture&&Object(N.jsxs)(N.Fragment,{children:[!i.isOpen&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["mark-price"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:c,decimalScale:4})})]}),Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["trade-price"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:m,decimalScale:4})})]})]}),(i.isOpen||i.isV1)&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["trade-price"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:e.index,decimalScale:4})})]})}),Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["pool-liquidity"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:e.fundingRate.liquidity,decimalScale:2,suffix:` ${e.config.bTokenSymbol}`})})]}),(i.isOpen||i.isV1)&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter",children:n["liquidity-used"]}),Object(N.jsxs)("div",{className:"text-enter",children:[Object(N.jsx)(v.a,{value:A.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(N.jsx)(v.a,{value:A.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter",children:n["funding-rate-impact"]}),Object(N.jsxs)("div",{className:"text-enter",children:[Object(N.jsx)(v.a,{value:e.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(N.jsx)(v.a,{value:p,decimalScale:4,suffix:"%"})]})]})]})]}),r.isOption&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["mark-price"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:c,decimalScale:4})})]}),Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["trade-price"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:m,decimalScale:4})})]}),Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter pool",children:n["pool-liquidity"]}),Object(N.jsx)("div",{className:"text-enter poolL",children:Object(N.jsx)(v.a,{value:e.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:` ${e.config.bTokenSymbol}`})})]})]}),Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter",children:n["transaction-fee"]}),Object(N.jsx)("div",{className:"text-enter",children:Object(N.jsx)(v.a,{value:O,allowZero:!0,decimalScale:2,suffix:` ${e.config.bTokenSymbol}`})})]}),r.isFuture&&Object(N.jsxs)("div",{className:"text-info",children:[Object(N.jsx)("div",{className:"title-enter",children:n["liquidation-price"]}),Object(N.jsx)("div",{className:"text-enter",children:g>0?Object(N.jsx)(v.a,{value:g,decimalScale:2}):"--"})]})]})}),Object(N.jsx)(at,{hasConnectWallet:vt,transFee:O,wallet:t,spec:e.config,indexPrice:e.index,available:e.amount.available,volume:e.volumeDisplay,direction:o,leverage:e.amount.leverage,afterLeverage:e.amount.afterLeverage,afterTrade:()=>{e.setVolume(""),e.refresh(),t.refresh()},position:e.position,trading:e,version:i,lang:n,type:r,markPriceAfter:m,liquidationPrice:g}),Object(N.jsx)(st,{wallet:t,modalIsOpen:G,onClose:()=>W(!1),spec:e.config,afterDeposit:pt,balance:T,className:"trading-dialog",lang:n}),Object(N.jsx)(rt,{wallet:t,modalIsOpen:V,onClose:()=>Y(!1),spec:e.config,afterWithdraw:ut,availableBalance:Z,position:e.position,className:"trading-dialog",lang:n}),Object(N.jsx)(ot,{wallet:t,modalIsOpen:X,onClose:()=>K(!1),spec:e.config,afterDepositAndWithdraw:()=>{dt()},position:e.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:n})]})})})));e.a=Object(m.b)("wallet","trading","loading","version","type")(Object(m.c)((function(t){var e=t.wallet,i=t.trading,r=t.isPro,o=t.lang,a=t.loading,c=t.version,l=(t.type,Object(s.useState)("trade")),h=Object(n.a)(l,2),d=h[0],f=h[1],p=function(t){return f(t)},v=u()("trade-position",d);return Object(s.useEffect)((function(){return e.detail.account&&(a.loading(),i.init(e,(function(){a.loaded()}))),function(){i.clean()}}),[e.detail.account,c.current]),Object(N.jsxs)("div",{className:v,children:[Object(N.jsx)("div",{className:"header-top",children:Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("span",{className:"trade",onClick:function(){return p("trade")},children:o.trade}),!r&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"pc position",onClick:function(){return p("position")},children:o["my-position"]}),Object(N.jsx)("span",{className:"mobile position",onClick:function(){return p("position")},children:o["my-position"]}),Object(N.jsx)("span",{className:"history",onClick:function(){return p("history")},children:o.history})]})]})}),Object(N.jsx)(ct,{lang:o}),Object(N.jsx)(_,{lang:o}),Object(N.jsx)(F,{wallet:e,spec:i.config,specs:i.configs,lang:o}),Object(N.jsx)(Q,{lang:o})]})})))},866:function(t,e,i){},867:function(t,e){function i(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=867},868:function(t,e){},869:function(t,e,i){},870:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));i(12);var n=i(41),s=i(688),r=i.n(s),o=i(37),a=i(731),c=i(31);function l(t){var e=t.lite,i=void 0!==e&&e,s=t.lang,l=Object(a.useLocation)().pathname.split("/")[3],h=Object(n.useHistory)(),u=r()("check-lite-pro",{lite:i,pro:!i}),d=function(t){h.push(t)};return Object(c.jsxs)("div",{className:u,children:[o.a.isFuture&&!l&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"lite",onClick:function(){return d("/futures/lite")},children:s.lite}),Object(c.jsxs)("div",{className:"pro",onClick:function(){return d("/futures/pro")},children:[" ",s.pro]})]}),o.a.isFuture&&l&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"lite",onClick:function(){return d("/futures/lite/v1")},children:s.lite}),Object(c.jsxs)("div",{className:"pro",onClick:function(){return d("/futures/pro/v1")},children:[" ",s.pro]})]}),o.a.isOption&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"lite",onClick:function(){return d("/options/lite")},children:s.lite}),Object(c.jsxs)("div",{className:"pro",onClick:function(){return d("/options/pro")},children:[" ",s.pro]})]})]})}},871:function(t,e,i){},872:function(t,e,i){},873:function(t,e,i){},986:function(t,e,i){"use strict";i.d(e,"a",(function(){return q})),i.d(e,"b",(function(){return gn}));var n={allowDownsampling:!0};var s,r,o,a=function(){function t(t,e){var i=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(t){return i._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=e,this._configureCanvas(),this._installResolutionListener()}return t.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(t.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),t.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),t.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},t.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(e){return e!=t}))},t.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},t.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach((function(e){return e.call(t)}))},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");var e=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+e+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},t}();function c(t,e){var i,n=((i={})[0]=[],i[1]=[t.lineWidth,t.lineWidth],i[2]=[2*t.lineWidth,2*t.lineWidth],i[3]=[6*t.lineWidth,6*t.lineWidth],i[4]=[t.lineWidth,4*t.lineWidth],i)[e];t.setLineDash(n)}function l(t,e,i,n){t.beginPath();var s=t.lineWidth%2?.5:0;t.moveTo(i,e+s),t.lineTo(n,e+s),t.stroke()}(o=s||(s={}))[o.Simple=0]="Simple",o[o.WithSteps=1]="WithSteps",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(r||(r={}));var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var d=function(){return(d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};function f(t,e,i){if(i||2===arguments.length)for(var n,s=0,r=e.length;s<r;s++)!n&&s in e||(n||(n=Array.prototype.slice.call(e,0,s)),n[s]=e[s]);return t.concat(n||Array.prototype.slice.call(e))}function p(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function v(t){if(void 0===t)throw new Error("Value is undefined");return t}function b(t){if(null===t)throw new Error("Value is null");return t}function m(t){return b(v(t))}function j(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,s=e;n<s.length;n++){var r=s[n];for(var o in r)void 0!==r[o]&&("object"!=typeof r[o]||void 0===t[o]?t[o]=r[o]:j(t[o],r[o]))}return t}function g(t){return"number"==typeof t&&isFinite(t)}function y(t){return"number"==typeof t&&t%1==0}function O(t){return"string"==typeof t}function x(t){return"boolean"==typeof t}function A(t){var e,i,n,s=t;if(!s||"object"!=typeof s)return s;for(i in e=Array.isArray(s)?[]:{},s)s.hasOwnProperty(i)&&(n=s[i],e[i]=n&&"object"==typeof n?A(n):n);return e}function w(t){return null!==t}function N(t){return null===t?void 0:t}var M=function(){function t(){this.t=[]}return t.prototype.i=function(t){this.t=t},t.prototype.h=function(t,e,i,n){this.t.forEach((function(s){t.save(),s.h(t,e,i,n),t.restore()}))},t}(),C=function(){function t(){}return t.prototype.h=function(t,e,i,n){t.save(),t.scale(e,e),this.u(t,i,n),t.restore()},t.prototype.o=function(t,e,i,n){t.save(),t.scale(e,e),this.l(t,i,n),t.restore()},t.prototype.l=function(t,e,i){},t}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.v=null,e}return u(e,t),e.prototype._=function(t){this.v=t},e.prototype.u=function(t){if(null!==this.v&&null!==this.v.M){var e=this.v.M,i=this.v,n=function(n){t.beginPath();for(var s=e.to-1;s>=e.from;--s){var r=i.m[s];t.moveTo(r.p,r.g),t.arc(r.p,r.g,n,0,2*Math.PI)}t.fill()};t.fillStyle=i.k,n(i.N+2),t.fillStyle=i.S,n(i.N)}},e}(C);function k(){return{m:[{p:0,g:0,C:0,A:0}],S:"",k:"",N:0,M:null}}var _={from:0,to:1},D=function(){function t(t,e){this.D=new M,this.T=[],this.L=[],this.B=!0,this.F=t,this.V=e,this.D.i(this.T)}return t.prototype.O=function(t){var e=this.F.P();e.length!==this.T.length&&(this.L=e.map(k),this.T=this.L.map((function(t){var e=new S;return e._(t),e})),this.D.i(this.T)),this.B=!0},t.prototype.R=function(t,e,i){return this.B&&(this.I(t),this.B=!1),this.D},t.prototype.I=function(t){var e=this,i=this.F.P(),n=this.V.W(),s=this.F.U();i.forEach((function(i,r){var o,a=e.L[r],c=i.j(n);if(null!==c&&i.q()){var l=b(i.H());a.S=c.Y,a.N=c.N,a.m[0].A=c.A,a.m[0].g=i.$().K(c.A,l.X),a.k=null!==(o=c.Z)&&void 0!==o?o:e.F.J(a.m[0].g/t),a.m[0].C=n,a.m[0].p=s.G(n),a.M=_}else a.M=null}))},t}(),I=function(){function t(t){this.tt=t}return t.prototype.h=function(t,e,i,n){if(null!==this.tt){var s=this.tt.it.q,r=this.tt.nt.q;if(s||r){t.save();var o=Math.round(this.tt.p*e),a=Math.round(this.tt.g*e),h=Math.ceil(this.tt.ht*e),u=Math.ceil(this.tt.st*e);t.lineCap="butt",s&&o>=0&&(t.lineWidth=Math.floor(this.tt.it.rt*e),t.strokeStyle=this.tt.it.et,t.fillStyle=this.tt.it.et,c(t,this.tt.it.ut),function(t,e,i,n){t.beginPath();var s=t.lineWidth%2?.5:0;t.moveTo(e+s,0),t.lineTo(e+s,n),t.stroke()}(t,o,0,u)),r&&a>=0&&(t.lineWidth=Math.floor(this.tt.nt.rt*e),t.strokeStyle=this.tt.nt.et,t.fillStyle=this.tt.nt.et,c(t,this.tt.nt.ut),l(t,a,0,h)),t.restore()}}},t}(),T=function(){function t(t){this.B=!0,this.at={it:{rt:1,ut:0,et:"",q:!1},nt:{rt:1,ut:0,et:"",q:!1},ht:0,st:0,p:0,g:0},this.ot=new I(this.at),this.lt=t}return t.prototype.O=function(){this.B=!0},t.prototype.R=function(t,e){return this.B&&(this.I(),this.B=!1),this.ot},t.prototype.I=function(){var t=this.lt.q(),e=b(this.lt.ft()),i=e.vt().ct().crosshair,n=this.at;n.nt.q=t&&this.lt._t(e),n.it.q=t&&this.lt.dt(),n.nt.rt=i.horzLine.width,n.nt.ut=i.horzLine.style,n.nt.et=i.horzLine.color,n.it.rt=i.vertLine.width,n.it.ut=i.vertLine.style,n.it.et=i.vertLine.color,n.ht=e.wt(),n.st=e.Mt(),n.p=this.lt.bt(),n.g=this.lt.gt()},t}(),P={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function B(t){return t<0?0:t>255?255:Math.round(t)||0}function R(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}var E=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,F=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,L=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Q=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function H(t){var e;if((t=t.toLowerCase())in P&&(t=P[t]),e=Q.exec(t)||L.exec(t))return[B(parseInt(e[1],10)),B(parseInt(e[2],10)),B(parseInt(e[3],10)),R(e.length<5?1:parseFloat(e[4]))];if(e=F.exec(t))return[B(parseInt(e[1],16)),B(parseInt(e[2],16)),B(parseInt(e[3],16)),1];if(e=E.exec(t))return[B(17*parseInt(e[1],16)),B(17*parseInt(e[2],16)),B(17*parseInt(e[3],16)),1];throw new Error("Cannot parse color: "+t)}function z(t){var e,i=H(t);return{yt:"rgb("+i[0]+", "+i[1]+", "+i[2]+")",kt:(e=i,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")}}function J(t,e,i,n,s,r){t.fillRect(e+r,i,n-2*r,r),t.fillRect(e+r,i+s-r,n-2*r,r),t.fillRect(e,i,r,s),t.fillRect(e+n-r,i,r,s)}function U(t,e,i){t.save(),t.scale(e,e),i(),t.restore()}function G(t,e,i,n,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,i,n,s),t.restore()}function W(t,e,i,n,s,r,o){t.save(),t.globalCompositeOperation="copy";var a=t.createLinearGradient(0,0,0,s);a.addColorStop(0,r),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,i,n,s),t.restore()}var q,V=function(){function t(t,e){this._(t,e)}return t.prototype._=function(t,e){this.tt=t,this.xt=e},t.prototype.h=function(t,e,i,n,s,r){if(this.tt.q){t.font=e.Nt;var o=this.tt.St||!this.tt.Ct?e.At:0,a=e.Dt,c=e.Tt,l=e.Lt,h=e.Bt,u=e.Et,d=this.tt.Ft,f=Math.ceil(i.Vt(t,d)),p=e.Ot,v=e.zt+c+l,b=Math.ceil(.5*v),m=a+f+h+u+o,j=this.xt.Pt;this.xt.Rt&&(j=this.xt.Rt);var g,y,O=(j=Math.round(j))-b,x=O+v,A="right"===s,w=A?n:0,N=Math.ceil(n*r),M=w;if(t.fillStyle=this.xt.yt,t.lineWidth=1,t.lineCap="butt",d){A?(g=w-o,y=(M=w-m)+u):(M=w+m,g=w+o,y=w+a+o+h);var C=Math.max(1,Math.floor(r)),S=Math.max(1,Math.floor(a*r)),k=A?N:0,_=Math.round(O*r),D=Math.round(M*r),I=Math.round(j*r)-Math.floor(.5*r),T=I+C+(I-_),P=Math.round(g*r);t.save(),t.beginPath(),t.moveTo(k,_),t.lineTo(D,_),t.lineTo(D,T),t.lineTo(k,T),t.fill(),t.fillStyle=this.tt.Z,t.fillRect(A?N-S:0,_,S,T-_),this.tt.St&&(t.fillStyle=this.xt.et,t.fillRect(k,I,P-k,C)),t.textAlign="left",t.fillStyle=this.xt.et,U(t,r,(function(){t.fillText(d,y,x-l-p)})),t.restore()}}},t.prototype.Mt=function(t,e){return this.tt.q?t.zt+t.Tt+t.Lt:0},t}(),Y=function(){function t(t){this.It={Pt:0,et:"#FFF",yt:"#000"},this.Wt={Ft:"",q:!1,St:!0,Ct:!1,Z:""},this.Ut={Ft:"",q:!1,St:!1,Ct:!0,Z:""},this.B=!0,this.jt=new(t||V)(this.Wt,this.It),this.qt=new(t||V)(this.Ut,this.It)}return t.prototype.Ft=function(){return this.Wt.Ft},t.prototype.Pt=function(){return this.Ht(),this.It.Pt},t.prototype.O=function(){this.B=!0},t.prototype.Mt=function(t,e){return void 0===e&&(e=!1),Math.max(this.jt.Mt(t,e),this.qt.Mt(t,e))},t.prototype.Yt=function(){return this.It.Rt||0},t.prototype.Kt=function(t){this.It.Rt=t},t.prototype.$t=function(){return this.Ht(),this.Wt.q||this.Ut.q},t.prototype.Xt=function(){return this.Ht(),this.Wt.q},t.prototype.R=function(t){return this.Ht(),this.Wt.St=this.Wt.St&&t.ct().drawTicks,this.Ut.St=this.Ut.St&&t.ct().drawTicks,this.jt._(this.Wt,this.It),this.qt._(this.Ut,this.It),this.jt},t.prototype.Zt=function(){return this.Ht(),this.jt._(this.Wt,this.It),this.qt._(this.Ut,this.It),this.qt},t.prototype.Ht=function(){this.B&&(this.Wt.St=!0,this.Ut.St=!1,this.Jt(this.Wt,this.Ut,this.It))},t}(),X=function(t){function e(e,i,n){var s=t.call(this)||this;return s.lt=e,s.Gt=i,s.Qt=n,s}return u(e,t),e.prototype.Jt=function(t,e,i){t.q=!1;var n=this.lt.ct().horzLine;if(n.labelVisible){var s=this.Gt.H();if(this.lt.q()&&!this.Gt.ti()&&null!==s){var r=z(n.labelBackgroundColor);i.yt=r.yt,i.et=r.kt;var o=this.Qt(this.Gt);i.Pt=o.Pt,t.Ft=this.Gt.ii(o.A,s),t.q=!0}}},e}(Y),K=/[1-9]/g,Z=function(){function t(){this.tt=null}return t.prototype._=function(t){this.tt=t},t.prototype.h=function(t,e,i){var n=this;if(null!==this.tt&&!1!==this.tt.q&&0!==this.tt.Ft.length){t.font=e.Nt;var s=Math.round(e.ni.Vt(t,this.tt.Ft,K));if(!(s<=0)){t.save();var r=e.hi,o=s+2*r,a=o/2,c=this.tt.wt,l=this.tt.Pt,h=Math.floor(l-a)+.5;h<0?(l+=Math.abs(0-h),h=Math.floor(l-a)+.5):h+o>c&&(l-=Math.abs(c-(h+o)),h=Math.floor(l-a)+.5);var u=h+o,d=0+e.Dt+e.Tt+e.zt+e.Lt;t.fillStyle=this.tt.yt;var f=Math.round(h*i),p=Math.round(0*i),v=Math.round(u*i),m=Math.round(d*i);t.fillRect(f,p,v-f,m-p);var j=Math.round(this.tt.Pt*i),g=p,y=Math.round((g+e.Dt+e.At)*i);t.fillStyle=this.tt.et;var O=Math.max(1,Math.floor(i)),x=Math.floor(.5*i);t.fillRect(j-x,g,O,y-g);var A=d-e.Ot-e.Lt;t.textAlign="left",t.fillStyle=this.tt.et,U(t,i,(function(){t.fillText(b(n.tt).Ft,h+r,A)})),t.restore()}}},t}(),$=function(){function t(t,e,i){this.B=!0,this.ot=new Z,this.at={q:!1,yt:"#4c525e",et:"white",Ft:"",wt:0,Pt:NaN},this.V=t,this.si=e,this.Qt=i}return t.prototype.O=function(){this.B=!0},t.prototype.R=function(){return this.B&&(this.I(),this.B=!1),this.ot._(this.at),this.ot},t.prototype.I=function(){var t=this.at;t.q=!1;var e=this.V.ct().vertLine;if(e.labelVisible){var i=this.si.U();if(!i.ti()){var n=i.ri(this.V.W());t.wt=i.wt();var s=this.Qt();if(s.C){t.Pt=s.Pt,t.Ft=i.ei(b(n)),t.q=!0;var r=z(e.labelBackgroundColor);t.yt=r.yt,t.et=r.kt}}}},t}(),tt=function(){function t(){this.ui=null,this.ai=0}return t.prototype.oi=function(){return this.ai},t.prototype.li=function(t){this.ai=t},t.prototype.$=function(){return this.ui},t.prototype.fi=function(t){this.ui=t},t.prototype.ci=function(t,e){return[]},t.prototype.vi=function(t){return[]},t.prototype._i=function(){return[]},t.prototype.q=function(){return!0},t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}(q||(q={}));var et=function(t){function e(e,i){var n,s,r=t.call(this)||this;r.di=null,r.wi=NaN,r.Mi=0,r.bi=!0,r.mi=new Map,r.pi=!1,r.gi=NaN,r.yi=NaN,r.ki=NaN,r.xi=NaN,r.si=e,r.Ni=i,r.Si=new D(e,r),r.Ci=(n=function(){return r.wi},s=function(){return r.yi},function(t){var e=s(),i=n();if(t===b(r.di).Ai())return{A:i,Pt:e};var o=b(t.H());return{A:t.Di(e,o),Pt:e}});var o=function(){return{C:r.si.U().ri(r.Mi),Pt:r.bt()}};return r.Ti=new $(r,e,o),r.Li=new T(r),r}return u(e,t),e.prototype.ct=function(){return this.Ni},e.prototype.Bi=function(t,e){this.ki=t,this.xi=e},e.prototype.Ei=function(){this.ki=NaN,this.xi=NaN},e.prototype.Fi=function(){return this.ki},e.prototype.Vi=function(){return this.xi},e.prototype.Oi=function(t,e,i){this.pi||(this.pi=!0),this.bi=!0,this.zi(t,e,i)},e.prototype.W=function(){return this.Mi},e.prototype.bt=function(){return this.gi},e.prototype.gt=function(){return this.yi},e.prototype.q=function(){return this.bi},e.prototype.Pi=function(){this.bi=!1,this.Ri(),this.wi=NaN,this.gi=NaN,this.yi=NaN,this.di=null,this.Ei()},e.prototype.vi=function(t){return null!==this.di?[this.Li,this.Si]:[]},e.prototype._t=function(t){return t===this.di&&this.Ni.horzLine.visible},e.prototype.dt=function(){return this.Ni.vertLine.visible},e.prototype.ci=function(t,e){this.bi&&this.di===t||this.mi.clear();var i=[];return this.di===t&&i.push(this.Ii(this.mi,e,this.Ci)),i},e.prototype._i=function(){return this.bi?[this.Ti]:[]},e.prototype.ft=function(){return this.di},e.prototype.Wi=function(){this.Li.O(),this.mi.forEach((function(t){return t.O()})),this.Ti.O(),this.Si.O()},e.prototype.Ui=function(t){return t&&!t.Ai().ti()?t.Ai():null},e.prototype.zi=function(t,e,i){this.ji(t,e,i)&&this.Wi()},e.prototype.ji=function(t,e,i){var n=this.gi,s=this.yi,r=this.wi,o=this.Mi,a=this.di,c=this.Ui(i);this.Mi=t,this.gi=isNaN(t)?NaN:this.si.U().G(t),this.di=i;var l=null!==c?c.H():null;return null!==c&&null!==l?(this.wi=e,this.yi=c.K(e,l)):(this.wi=NaN,this.yi=NaN),n!==this.gi||s!==this.yi||o!==this.Mi||r!==this.wi||a!==this.di},e.prototype.Ri=function(){var t=this.si.P().map((function(t){return t.Hi().qi()})).filter(w),e=0===t.length?null:Math.max.apply(Math,t);this.Mi=null!==e?e:NaN},e.prototype.Ii=function(t,e,i){var n=t.get(e);return void 0===n&&(n=new X(this,e,i),t.set(e,n)),n},e}(tt);function it(t,e){if(!g(t))return"n/a";if(!y(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}var nt=function(){function t(t,e){if(e||(e=1),g(t)&&y(t)||(t=100),t<0)throw new TypeError("invalid base");this.Gt=t,this.Yi=e,this.Ki()}return t.prototype.format=function(t){var e=t<0?"\u2212":"";return t=Math.abs(t),e+this.$i(t)},t.prototype.Ki=function(){if(this.Xi=0,this.Gt>0&&this.Yi>0)for(var t=this.Gt;t>1;)t/=10,this.Xi++},t.prototype.$i=function(t){var e=this.Gt/this.Yi,i=Math.floor(t),n="",s=void 0!==this.Xi?this.Xi:NaN;if(e>1){var r=+(Math.round(t*e)-i*e).toFixed(this.Xi);r>=e&&(r-=e,i+=1),n="."+it(+r.toFixed(this.Xi)*this.Yi,s)}else i=Math.round(i*e)/e,s>0&&(n="."+it(0,s));return i.toFixed(0)+n},t}(),st=function(t){function e(e){return void 0===e&&(e=100),t.call(this,e)||this}return u(e,t),e.prototype.format=function(e){return t.prototype.format.call(this,e)+"%"},e}(nt),rt=function(){function t(){this.Zi=[]}return t.prototype.Ji=function(t,e,i){var n={Gi:t,Qi:e,tn:!0===i};this.Zi.push(n)},t.prototype.nn=function(t){var e=this.Zi.findIndex((function(e){return t===e.Gi}));e>-1&&this.Zi.splice(e,1)},t.prototype.hn=function(t){this.Zi=this.Zi.filter((function(e){return e.Qi===t}))},t.prototype.sn=function(t,e){var i=f([],this.Zi,!0);this.Zi=this.Zi.filter((function(t){return!t.tn})),i.forEach((function(i){return i.Gi(t,e)}))},t.prototype.rn=function(){return this.Zi.length>0},t.prototype.en=function(){this.Zi=[]},t}(),ot=function(){function t(t,e){this.un=t,this.an=e}return t.prototype.on=function(t){return null!==t&&this.un===t.un&&this.an===t.an},t.prototype.ln=function(){return new t(this.un,this.an)},t.prototype.fn=function(){return this.un},t.prototype.cn=function(){return this.an},t.prototype.vn=function(){return this.an-this.un},t.prototype.ti=function(){return this.an===this.un||Number.isNaN(this.an)||Number.isNaN(this.un)},t.prototype._n=function(e){return null===e?this:new t(Math.min(this.fn(),e.fn()),Math.max(this.cn(),e.cn()))},t.prototype.dn=function(t){if(g(t)&&0!==this.an-this.un){var e=.5*(this.an+this.un),i=this.an-e,n=this.un-e;i*=t,n*=t,this.an=e+i,this.un=e+n}},t.prototype.wn=function(t){g(t)&&(this.an+=t,this.un+=t)},t.prototype.Mn=function(){return{minValue:this.un,maxValue:this.an}},t.bn=function(e){return null===e?null:new t(e.minValue,e.maxValue)},t}();function at(t,e,i){return Math.min(Math.max(t,e),i)}function ct(t,e,i){return e-t<=i}function lt(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function ht(t){var e=Math.ceil(t);return e%2!=0?e-1:e}function ut(t){var e=Math.ceil(t);return e%2==0?e-1:e}function dt(t,e){var i=100*(t-e)/e;return e<0?-i:i}function ft(t,e){var i=dt(t.fn(),e),n=dt(t.cn(),e);return new ot(i,n)}function pt(t,e){var i=100*(t-e)/e+100;return e<0?-i:i}function vt(t,e){var i=pt(t.fn(),e),n=pt(t.cn(),e);return new ot(i,n)}function bt(t){var e=Math.abs(t);if(e<1e-8)return 0;var i=lt(e+1e-4)+4;return t<0?-i:i}function mt(t){var e=Math.abs(t);if(e<1e-8)return 0;var i=Math.pow(10,e-4)-1e-4;return t<0?-i:i}function jt(t){if(null===t)return null;var e=bt(t.fn()),i=bt(t.cn());return new ot(e,i)}var gt,yt=function(){function t(t,e){if(this.mn=t,this.pn=e,function(t){if(t<0)return!1;for(var e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.mn))this.gn=[2,2.5,2];else{this.gn=[];for(var i=this.mn;1!==i;){if(i%2==0)this.gn.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.gn.push(2,2.5),i/=5}if(this.gn.length>100)throw new Error("something wrong with base")}}}return t.prototype.yn=function(t,e,i){for(var n,s=0===this.mn?0:1/this.mn,r=1e-9,o=Math.pow(10,Math.max(0,Math.ceil(lt(t-e)))),a=0,c=this.pn[0];;){var l=ct(o,s,r)&&o>s+r,h=ct(o,i*c,r),u=ct(o,1,r);if(!(l&&h&&u))break;o/=c,c=this.pn[++a%this.pn.length]}if(o<=s+r&&(o=s),o=Math.max(1,o),this.gn.length>0&&(n=o,1,r,Math.abs(n-1)<1e-9))for(a=0,c=this.gn[0];ct(o,i*c,r)&&o>s+r;)o/=c,c=this.gn[++a%this.gn.length];return o},t}(),Ot=function(){function t(t,e,i,n){this.kn=[],this.Gt=t,this.mn=e,this.xn=i,this.Nn=n}return t.prototype.yn=function(t,e){if(t<e)throw new Error("high < low");var i=this.Gt.Mt(),n=(t-e)*this.Sn()/i,s=new yt(this.mn,[2,2.5,2]),r=new yt(this.mn,[2,2,2.5]),o=new yt(this.mn,[2.5,2,2]),a=[];return a.push(s.yn(t,e,n),r.yn(t,e,n),o.yn(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");for(var e=t[0],i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(a)},t.prototype.Cn=function(){var t=this.Gt,e=t.H();if(null!==e){var i=t.Mt(),n=this.xn(i-1,e),s=this.xn(0,e),r=this.Gt.ct().entireTextOnly?this.An()/2:0,o=r,a=i-1-r,c=Math.max(n,s),l=Math.min(n,s);if(c!==l){for(var h=this.yn(c,l),u=c%h,d=c>=l?1:-1,f=null,p=0,v=c-(u+=u<0?h:0);v>l;v-=h){var b=this.Nn(v,e,!0);null!==f&&Math.abs(b-f)<this.Sn()||b<o||b>a||(p<this.kn.length?(this.kn[p].Dn=b,this.kn[p].Tn=t.Ln(v)):this.kn.push({Dn:b,Tn:t.Ln(v)}),p++,f=b,t.Bn()&&(h=this.yn(v*d,l)))}this.kn.length=p}else this.kn=[]}else this.kn=[]},t.prototype.En=function(){return this.kn},t.prototype.An=function(){return this.Gt.zt()},t.prototype.Sn=function(){return Math.ceil(2.5*this.An())},t}();function xt(t){return t.slice().sort((function(t,e){return b(t.oi())-b(e.oi())}))}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(gt||(gt={}));var At,wt,Nt=new st,Mt=new nt(100,1),Ct=function(){function t(t,e,i,n){this.Fn=0,this.Vn=null,this.On=null,this.zn=null,this.Pn={Rn:!1,In:null},this.Wn=0,this.Un=0,this.jn=new rt,this.qn=new rt,this.Hn=[],this.Yn=null,this.Kn=null,this.$n=null,this.Xn=null,this.Zn=Mt,this.Jn=t,this.Ni=e,this.Gn=i,this.Qn=n,this.th=new Ot(this,100,this.ih.bind(this),this.nh.bind(this))}return t.prototype.hh=function(){return this.Jn},t.prototype.ct=function(){return this.Ni},t.prototype.sh=function(t){if(j(this.Ni,t),this.rh(),void 0!==t.mode&&this.eh({uh:t.mode}),void 0!==t.scaleMargins){var e=v(t.scaleMargins.top),i=v(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given="+e);if(i<0||i>1||e+i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given="+i);if(e+i>1)throw new Error("Invalid margins - sum of margins must be less than 1, given="+(e+i));this.ah(),this.Kn=null}},t.prototype.oh=function(){return this.Ni.autoScale},t.prototype.Bn=function(){return 1===this.Ni.mode},t.prototype.lh=function(){return 2===this.Ni.mode},t.prototype.fh=function(){return 3===this.Ni.mode},t.prototype.uh=function(){return{_h:this.Ni.autoScale,dh:this.Ni.invertScale,uh:this.Ni.mode}},t.prototype.eh=function(t){var e=this.uh(),i=null;void 0!==t._h&&(this.Ni.autoScale=t._h),void 0!==t.uh&&(this.Ni.mode=t.uh,2!==t.uh&&3!==t.uh||(this.Ni.autoScale=!0),this.Pn.Rn=!1),1===e.uh&&t.uh!==e.uh&&(function(t){if(null===t)return!1;var e=mt(t.fn()),i=mt(t.cn());return isFinite(e)&&isFinite(i)}(this.On)?null!==(i=function(t){if(null===t)return null;var e=mt(t.fn()),i=mt(t.cn());return new ot(e,i)}(this.On))&&this.wh(i):this.Ni.autoScale=!0),1===t.uh&&t.uh!==e.uh&&null!==(i=jt(this.On))&&this.wh(i);var n=e.uh!==this.Ni.mode;n&&(2===e.uh||this.lh())&&this.rh(),n&&(3===e.uh||this.fh())&&this.rh(),void 0!==t.dh&&e.dh!==t.dh&&(this.Ni.invertScale=t.dh,this.Mh()),this.qn.sn(e,this.uh())},t.prototype.bh=function(){return this.qn},t.prototype.zt=function(){return this.Gn.fontSize},t.prototype.Mt=function(){return this.Fn},t.prototype.mh=function(t){this.Fn!==t&&(this.Fn=t,this.ah(),this.Kn=null)},t.prototype.ph=function(){if(this.Vn)return this.Vn;var t=this.Mt()-this.gh()-this.yh();return this.Vn=t,t},t.prototype.kh=function(){return this.xh(),this.On},t.prototype.wh=function(t,e){var i=this.On;(e||null===i&&null!==t||null!==i&&!i.on(t))&&(this.Kn=null,this.On=t)},t.prototype.ti=function(){return this.xh(),0===this.Fn||!this.On||this.On.ti()},t.prototype.Nh=function(t){return this.dh()?t:this.Mt()-1-t},t.prototype.K=function(t,e){return this.lh()?t=dt(t,e):this.fh()&&(t=pt(t,e)),this.nh(t,e)},t.prototype.Sh=function(t,e,i){this.xh();for(var n=this.yh(),s=b(this.kh()),r=s.fn(),o=s.cn(),a=this.ph()-1,c=this.dh(),l=a/(o-r),h=void 0===i?0:i.from,u=void 0===i?t.length:i.to,d=this.Ch(),f=h;f<u;f++){var p=t[f],v=p.A;if(!isNaN(v)){var m=v;null!==d&&(m=d(p.A,e));var j=n+l*(m-r),g=c?j:this.Fn-1-j;p.g=g}}},t.prototype.Ah=function(t,e,i){this.xh();for(var n=this.yh(),s=b(this.kh()),r=s.fn(),o=s.cn(),a=this.ph()-1,c=this.dh(),l=a/(o-r),h=void 0===i?0:i.from,u=void 0===i?t.length:i.to,d=this.Ch(),f=h;f<u;f++){var p=t[f],v=p.open,m=p.high,j=p.low,g=p.close;null!==d&&(v=d(p.open,e),m=d(p.high,e),j=d(p.low,e),g=d(p.close,e));var y=n+l*(v-r),O=c?y:this.Fn-1-y;p.Dh=O,y=n+l*(m-r),O=c?y:this.Fn-1-y,p.Th=O,y=n+l*(j-r),O=c?y:this.Fn-1-y,p.Lh=O,y=n+l*(g-r),O=c?y:this.Fn-1-y,p.Bh=O}},t.prototype.Di=function(t,e){var i=this.ih(t,e);return this.Eh(i,e)},t.prototype.Eh=function(t,e){var i=t;return this.lh()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.fh()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i},t.prototype.Fh=function(){return this.Hn},t.prototype.Vh=function(){if(this.Yn)return this.Yn;for(var t=[],e=0;e<this.Hn.length;e++){var i=this.Hn[e];null===i.oi()&&i.li(e+1),t.push(i)}return t=xt(t),this.Yn=t,this.Yn},t.prototype.Oh=function(t){-1===this.Hn.indexOf(t)&&(this.Hn.push(t),this.rh(),this.zh())},t.prototype.Ph=function(t){var e=this.Hn.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.Hn.splice(e,1),0===this.Hn.length&&(this.eh({_h:!0}),this.wh(null)),this.rh(),this.zh()},t.prototype.H=function(){for(var t=null,e=0,i=this.Hn;e<i.length;e++){var n=i[e].H();null!==n&&(null===t||n.Rh<t.Rh)&&(t=n)}return null===t?null:t.X},t.prototype.dh=function(){return this.Ni.invertScale},t.prototype.En=function(){return this.Kn||(this.th.Cn(),this.Kn=this.th.En(),this.jn.sn()),this.Kn},t.prototype.Ih=function(){return this.jn},t.prototype.Wh=function(t){this.lh()||this.fh()||null===this.$n&&null===this.zn&&(this.ti()||(this.$n=this.Fn-t,this.zn=b(this.kh()).ln()))},t.prototype.Uh=function(t){if(!this.lh()&&!this.fh()&&null!==this.$n){this.eh({_h:!1}),(t=this.Fn-t)<0&&(t=0);var e=(this.$n+.2*(this.Fn-1))/(t+.2*(this.Fn-1)),i=b(this.zn).ln();e=Math.max(e,.1),i.dn(e),this.wh(i)}},t.prototype.jh=function(){this.lh()||this.fh()||(this.$n=null,this.zn=null)},t.prototype.qh=function(t){this.oh()||null===this.Xn&&null===this.zn&&(this.ti()||(this.Xn=t,this.zn=b(this.kh()).ln()))},t.prototype.Hh=function(t){if(!this.oh()&&null!==this.Xn){var e=b(this.kh()).vn()/(this.ph()-1),i=t-this.Xn;this.dh()&&(i*=-1);var n=i*e,s=b(this.zn).ln();s.wn(n),this.wh(s,!0),this.Kn=null}},t.prototype.Yh=function(){this.oh()||null!==this.Xn&&(this.Xn=null,this.zn=null)},t.prototype.Kh=function(){return this.Zn||this.rh(),this.Zn},t.prototype.ii=function(t,e){switch(this.Ni.mode){case 2:return this.Kh().format(dt(t,e));case 3:return this.Kh().format(pt(t,e));default:return this.$h(t)}},t.prototype.Ln=function(t){switch(this.Ni.mode){case 2:case 3:return this.Kh().format(t);default:return this.$h(t)}},t.prototype.Xh=function(t){return this.$h(t,b(this.Zh()).Kh())},t.prototype.Jh=function(t,e){return t=dt(t,e),Nt.format(t)},t.prototype.Gh=function(){return this.Hn},t.prototype.Qh=function(t){this.Pn={In:t,Rn:!1}},t.prototype.Wi=function(){this.Hn.forEach((function(t){return t.Wi()}))},t.prototype.rh=function(){this.Kn=null;var t=this.Zh(),e=100;null!==t&&(e=Math.round(1/t.ts())),this.Zn=Mt,this.lh()?(this.Zn=Nt,e=100):this.fh()?(this.Zn=new nt(100,1),e=100):null!==t&&(this.Zn=t.Kh()),this.th=new Ot(this,e,this.ih.bind(this),this.nh.bind(this)),this.th.Cn()},t.prototype.zh=function(){this.Yn=null},t.prototype.Zh=function(){return this.Hn[0]||null},t.prototype.gh=function(){return this.dh()?this.Ni.scaleMargins.bottom*this.Mt()+this.Un:this.Ni.scaleMargins.top*this.Mt()+this.Wn},t.prototype.yh=function(){return this.dh()?this.Ni.scaleMargins.top*this.Mt()+this.Wn:this.Ni.scaleMargins.bottom*this.Mt()+this.Un},t.prototype.xh=function(){this.Pn.Rn||(this.Pn.Rn=!0,this.ns())},t.prototype.ah=function(){this.Vn=null},t.prototype.nh=function(t,e){if(this.xh(),this.ti())return 0;t=this.Bn()&&t?bt(t):t;var i=b(this.kh()),n=this.yh()+(this.ph()-1)*(t-i.fn())/i.vn();return this.Nh(n)},t.prototype.ih=function(t,e){if(this.xh(),this.ti())return 0;var i=this.Nh(t),n=b(this.kh()),s=n.fn()+n.vn()*((i-this.yh())/(this.ph()-1));return this.Bn()?mt(s):s},t.prototype.Mh=function(){this.Kn=null,this.th.Cn()},t.prototype.ns=function(){var t=this.Pn.In;if(null!==t){for(var e=null,i=0,n=0,s=0,r=this.Gh();s<r.length;s++){var o=r[s];if(o.q()){var a=o.H();if(null!==a){var c=o.hs(t.ss(),t.rs()),l=c&&c.kh();if(null!==l){switch(this.Ni.mode){case 1:l=jt(l);break;case 2:l=ft(l,a.X);break;case 3:l=vt(l,a.X)}if(e=null===e?l:e._n(b(l)),null!==c){var h=c.es();null!==h&&(i=Math.max(i,h.above),n=Math.max(i,h.below))}}}}}if(i===this.Wn&&n===this.Un||(this.Wn=i,this.Un=n,this.Kn=null,this.ah()),null!==e){if(e.fn()===e.cn()){var u=this.Zh(),d=5*(null===u||this.lh()||this.fh()?1:u.ts());e=new ot(e.fn()-d,e.cn()+d)}this.wh(e)}else null===this.On&&this.wh(new ot(-.5,.5));this.Pn.Rn=!0}},t.prototype.Ch=function(){return this.lh()?dt:this.fh()?pt:this.Bn()?bt:null},t.prototype.$h=function(t,e){return void 0===this.Qn.priceFormatter?(void 0===e&&(e=this.Kh()),e.format(t)):this.Qn.priceFormatter(t)},t}();function St(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(At||(At={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(wt||(wt={}));var kt=function(t){return t.getUTCFullYear()};var _t=function(){function t(t,e){void 0===t&&(t="yyyy-MM-dd"),void 0===e&&(e="default"),this.us=t,this.os=e}return t.prototype.ls=function(t){return function(t,e,i){return e.replace(/yyyy/g,function(t){return it(kt(t),4)}(t)).replace(/yy/g,function(t){return it(kt(t)%100,2)}(t)).replace(/MMMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"})}(t,i)).replace(/MMM/g,function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"})}(t,i)).replace(/MM/g,function(t){return it(function(t){return t.getUTCMonth()+1}(t),2)}(t)).replace(/dd/g,function(t){return it(function(t){return t.getUTCDate()}(t),2)}(t))}(t,this.us,this.os)},t}(),Dt=function(){function t(t){this.fs=t||"%h:%m:%s"}return t.prototype.ls=function(t){return this.fs.replace("%h",it(t.getUTCHours(),2)).replace("%m",it(t.getUTCMinutes(),2)).replace("%s",it(t.getUTCSeconds(),2))},t}(),It={cs:"yyyy-MM-dd",vs:"%h:%m:%s",_s:" ",ds:"default"},Tt=function(){function t(t){void 0===t&&(t={});var e=d(d({},It),t);this.ws=new _t(e.cs,e.ds),this.Ms=new Dt(e.vs),this.bs=e._s}return t.prototype.ls=function(t){return""+this.ws.ls(t)+this.bs+this.Ms.ls(t)},t}(),Pt=function(){function t(t,e){void 0===e&&(e=50),this.ps=0,this.gs=1,this.ys=1,this.ks=new Map,this.xs=new Map,this.Ns=t,this.Ss=e}return t.prototype.ls=function(t){var e=void 0===t.Cs?new Date(1e3*t.As).getTime():new Date(Date.UTC(t.Cs.year,t.Cs.month-1,t.Cs.day)).getTime(),i=this.ks.get(e);if(void 0!==i)return i.Ds;if(this.ps===this.Ss){var n=this.xs.get(this.ys);this.xs.delete(this.ys),this.ks.delete(v(n)),this.ys++,this.ps--}var s=this.Ns(t);return this.ks.set(e,{Ds:s,Ts:this.gs}),this.xs.set(this.gs,e),this.ps++,this.gs++,s},t}(),Bt=function(){function t(t,e){p(t<=e,"right should be >= left"),this.Ls=t,this.Bs=e}return t.prototype.ss=function(){return this.Ls},t.prototype.rs=function(){return this.Bs},t.prototype.Es=function(){return this.Bs-this.Ls+1},t.prototype.Fs=function(t){return this.Ls<=t&&t<=this.Bs},t.prototype.on=function(t){return this.Ls===t.ss()&&this.Bs===t.rs()},t}();function Rt(t,e){return null===t||null===e?t===e:t.on(e)}var Et,Ft=function(){function t(){this.Vs=new Map,this.ks=null}return t.prototype.Os=function(t){var e=this;this.ks=null,this.Vs.clear(),t.forEach((function(t,i){var n=e.Vs.get(t.zs);void 0===n&&(n=[],e.Vs.set(t.zs,n)),n.push({Ps:i,C:t.C,Rs:t.zs})}))},t.prototype.Is=function(t,e){var i=Math.ceil(e/t);return null!==this.ks&&this.ks.Ws===i||(this.ks={En:this.Us(i),Ws:i}),this.ks.En},t.prototype.Us=function(t){for(var e=[],i=0,n=Array.from(this.Vs.keys()).sort((function(t,e){return e-t}));i<n.length;i++){var s=n[i];if(this.Vs.get(s)){var r=e;e=[];for(var o=r.length,a=0,c=v(this.Vs.get(s)),l=c.length,h=1/0,u=-1/0,d=0;d<l;d++){for(var f=c[d],p=f.Ps;a<o;){var b=r[a],m=b.Ps;if(!(m<p)){h=m;break}a++,e.push(b),u=m,h=1/0}h-p>=t&&p-u>=t&&(e.push(f),u=p)}for(;a<o;a++)e.push(r[a])}}return e},t}(),Lt=function(){function t(t){this.js=t}return t.prototype.qs=function(){return null===this.js?null:new Bt(Math.floor(this.js.ss()),Math.ceil(this.js.rs()))},t.prototype.Hs=function(){return this.js},t.Ys=function(){return new t(null)},t}();!function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Et||(Et={}));var Qt,Ht=function(){function t(t,e,i){this.Ks=0,this.$s=null,this.Xs=[],this.Xn=null,this.$n=null,this.Zs=new Ft,this.Js=new Map,this.Gs=Lt.Ys(),this.Qs=!0,this.tr=new rt,this.ir=new rt,this.nr=new rt,this.hr=null,this.sr=null,this.rr=[],this.Ni=e,this.Qn=i,this.er=e.rightOffset,this.ur=e.barSpacing,this.si=t,this.ar()}return t.prototype.ct=function(){return this.Ni},t.prototype.lr=function(t){j(this.Qn,t),this.cr(),this.ar()},t.prototype.sh=function(t,e){var i;j(this.Ni,t),this.Ni.fixLeftEdge&&this.vr(),this.Ni.fixRightEdge&&this._r(),void 0!==t.barSpacing&&this.si.dr(t.barSpacing),void 0!==t.rightOffset&&this.si.wr(t.rightOffset),void 0!==t.minBarSpacing&&this.si.dr(null!==(i=t.barSpacing)&&void 0!==i?i:this.ur),this.cr(),this.ar(),this.nr.sn()},t.prototype.ri=function(t){var e;return(null===(e=this.Xs[t])||void 0===e?void 0:e.C)||null},t.prototype.Mr=function(t,e){if(this.Xs.length<1)return null;if(t.As>this.Xs[this.Xs.length-1].C.As)return e?this.Xs.length-1:null;for(var i=0;i<this.Xs.length;++i){if(t.As===this.Xs[i].C.As)return i;if(t.As<this.Xs[i].C.As)return e?i:null}return null},t.prototype.ti=function(){return 0===this.Ks||0===this.Xs.length},t.prototype.br=function(){return this.mr(),this.Gs.qs()},t.prototype.pr=function(){return this.mr(),this.Gs.Hs()},t.prototype.gr=function(){var t=this.br();if(null===t)return null;var e={from:t.ss(),to:t.rs()};return this.yr(e)},t.prototype.yr=function(t){var e=Math.round(t.from),i=Math.round(t.to),n=b(this.kr()),s=b(this.Nr());return{from:b(this.ri(Math.max(n,e))),to:b(this.ri(Math.min(s,i)))}},t.prototype.Sr=function(t){return{from:b(this.Mr(t.from,!0)),to:b(this.Mr(t.to,!0))}},t.prototype.Cr=function(){return this.Zs},t.prototype.wt=function(){return this.Ks},t.prototype.Ar=function(t){if(isFinite(t)&&!(t<=0)&&this.Ks!==t){if(this.Ni.lockVisibleTimeRangeOnResize&&this.Ks){var e=this.ur*t/this.Ks;this.ur=e}if(this.Ni.fixLeftEdge){var i=this.br();if(null!==i&&i.ss()<=0){var n=this.Ks-t;this.er-=Math.round(n/this.ur)+1}}this.Ks=t,this.Qs=!0,this.Dr(),this.Tr()}},t.prototype.G=function(t){if(this.ti()||!y(t))return 0;var e=this.Lr()+this.er-t;return this.Ks-(e+.5)*this.ur-1},t.prototype.Br=function(t,e){for(var i=this.Lr(),n=void 0===e?0:e.from,s=void 0===e?t.length:e.to,r=n;r<s;r++){var o=t[r].C,a=i+this.er-o,c=this.Ks-(a+.5)*this.ur-1;t[r].p=c}},t.prototype.Er=function(t){return Math.ceil(this.Fr(t))},t.prototype.wr=function(t){this.Qs=!0,this.er=t,this.Tr(),this.si.Vr(),this.si.Or()},t.prototype.zr=function(){return this.ur},t.prototype.dr=function(t){this.Pr(t),this.Tr(),this.si.Vr(),this.si.Or()},t.prototype.Rr=function(){return this.er},t.prototype.En=function(){if(this.ti())return null;if(null!==this.sr)return this.sr;for(var t=this.ur,e=5*(this.si.ct().layout.fontSize+4),i=Math.round(e/t),n=b(this.br()),s=Math.max(n.ss(),n.ss()-i),r=Math.max(n.rs(),n.rs()-i),o=this.Zs.Is(t,e),a=this.kr()+i,c=this.Nr()-i,l=0,h=0,u=o;h<u.length;h++){var d=u[h];if(s<=d.Ps&&d.Ps<=r){var f=this.ri(d.Ps);if(null!==f){var p=void 0;l<this.rr.length?((p=this.rr[l]).Dn=this.G(d.Ps),p.Tn=this.Ir(f,d.Rs),p.Rs=d.Rs):(p={Wr:!1,Dn:this.G(d.Ps),Tn:this.Ir(f,d.Rs),Rs:d.Rs},this.rr.push(p)),this.ur>e/2?p.Wr=!1:p.Wr=this.Ni.fixLeftEdge&&d.Ps<=a||this.Ni.fixRightEdge&&d.Ps>=c,l++}}}return this.rr.length=l,this.sr=this.rr,this.rr},t.prototype.Ur=function(){this.Qs=!0,this.dr(this.Ni.barSpacing),this.wr(this.Ni.rightOffset)},t.prototype.jr=function(t){this.Qs=!0,this.$s=t,this.Tr(),this.vr()},t.prototype.qr=function(t,e){var i=this.Fr(t),n=this.zr(),s=n+e*(n/10);this.dr(s),this.Ni.rightBarStaysOnScroll||this.wr(this.Rr()+(i-this.Fr(t)))},t.prototype.Wh=function(t){this.Xn&&this.Yh(),null===this.$n&&null===this.hr&&(this.ti()||(this.$n=t,this.Hr()))},t.prototype.Uh=function(t){if(null!==this.hr){var e=at(this.Ks-t,0,this.Ks),i=at(this.Ks-b(this.$n),0,this.Ks);0!==e&&0!==i&&this.dr(this.hr.zr*e/i)}},t.prototype.jh=function(){null!==this.$n&&(this.$n=null,this.Yr())},t.prototype.qh=function(t){null===this.Xn&&null===this.hr&&(this.ti()||(this.Xn=t,this.Hr()))},t.prototype.Hh=function(t){if(null!==this.Xn){var e=(this.Xn-t)/this.zr();this.er=b(this.hr).Rr+e,this.Qs=!0,this.Tr()}},t.prototype.Yh=function(){null!==this.Xn&&(this.Xn=null,this.Yr())},t.prototype.Kr=function(){this.$r(this.Ni.rightOffset)},t.prototype.$r=function(t,e){var i=this;if(void 0===e&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var n=this.er,s=performance.now();!function r(){var o=(performance.now()-s)/e,a=o>=1,c=a?t:n+(t-n)*o;i.wr(c),a||setTimeout(r,20)}()},t.prototype.O=function(t){this.Qs=!0,this.Xs=t,this.Zs.Os(t),this.Tr()},t.prototype.Xr=function(){return this.tr},t.prototype.Zr=function(){return this.ir},t.prototype.Jr=function(){return this.nr},t.prototype.Lr=function(){return this.$s||0},t.prototype.Gr=function(t){var e=t.Es();this.Pr(this.Ks/e),this.er=t.rs()-this.Lr(),this.Tr(),this.Qs=!0,this.si.Vr(),this.si.Or()},t.prototype.Qr=function(){var t=this.kr(),e=this.Nr();null!==t&&null!==e&&this.Gr(new Bt(t,e+this.Ni.rightOffset))},t.prototype.te=function(t){var e=new Bt(t.from,t.to);this.Gr(e)},t.prototype.ei=function(t){return void 0!==this.Qn.timeFormatter?this.Qn.timeFormatter(t.Cs||t.As):this.ie.ls(new Date(1e3*t.As))},t.prototype.kr=function(){return 0===this.Xs.length?null:0},t.prototype.Nr=function(){return 0===this.Xs.length?null:this.Xs.length-1},t.prototype.ne=function(t){return(this.Ks-1-t)/this.ur},t.prototype.Fr=function(t){var e=this.ne(t),i=this.Lr()+this.er-e;return Math.round(1e6*i)/1e6},t.prototype.Pr=function(t){var e=this.ur;this.ur=t,this.Dr(),e!==this.ur&&(this.Qs=!0,this.he())},t.prototype.mr=function(){if(this.Qs)if(this.Qs=!1,this.ti())this.se(Lt.Ys());else{var t=this.Lr(),e=this.Ks/this.ur,i=this.er+t,n=new Bt(i-e+1,i);this.se(new Lt(n))}},t.prototype.Dr=function(){var t=this.re();if(this.ur<t&&(this.ur=t,this.Qs=!0),0!==this.Ks){var e=.5*this.Ks;this.ur>e&&(this.ur=e,this.Qs=!0)}},t.prototype.re=function(){return this.Ni.fixLeftEdge&&this.Ni.fixRightEdge&&0!==this.Xs.length?this.Ks/this.Xs.length:this.Ni.minBarSpacing},t.prototype.Tr=function(){var t=this.ee();this.er>t&&(this.er=t,this.Qs=!0);var e=this.ue();null!==e&&this.er<e&&(this.er=e,this.Qs=!0)},t.prototype.ue=function(){var t=this.kr(),e=this.$s;return null===t||null===e?null:t-e-1+(this.Ni.fixLeftEdge?this.Ks/this.ur:Math.min(2,this.Xs.length))},t.prototype.ee=function(){return this.Ni.fixRightEdge?0:this.Ks/this.ur-Math.min(2,this.Xs.length)},t.prototype.Hr=function(){this.hr={zr:this.zr(),Rr:this.Rr()}},t.prototype.Yr=function(){this.hr=null},t.prototype.Ir=function(t,e){var i=this,n=this.Js.get(e);return void 0===n&&(n=new Pt((function(t){return i.ae(t,e)})),this.Js.set(e,n)),n.ls(t)},t.prototype.ae=function(t,e){var i,n,s=this.Ni.timeVisible;return n=e<20&&s?this.Ni.secondsVisible?4:3:e<40&&s?3:e<50||e<60?2:e<70?1:0,void 0!==this.Ni.tickMarkFormatter?this.Ni.tickMarkFormatter(null!==(i=t.Cs)&&void 0!==i?i:t.As,n,this.Qn.locale):function(t,e,i){var n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}var s=void 0===t.Cs?new Date(1e3*t.As):new Date(Date.UTC(t.Cs.year,t.Cs.month-1,t.Cs.day));return new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()).toLocaleString(i,n)}(t,n,this.Qn.locale)},t.prototype.se=function(t){var e=this.Gs;this.Gs=t,Rt(e.qs(),this.Gs.qs())||this.tr.sn(),Rt(e.Hs(),this.Gs.Hs())||this.ir.sn(),this.he()},t.prototype.he=function(){this.sr=null},t.prototype.cr=function(){this.he(),this.Js.clear()},t.prototype.ar=function(){var t=this.Qn.dateFormat;this.Ni.timeVisible?this.ie=new Tt({cs:t,vs:this.Ni.secondsVisible?"%h:%m:%s":"%h:%m",_s:"   ",ds:this.Qn.locale}):this.ie=new _t(t,this.Qn.locale)},t.prototype.vr=function(){if(this.Ni.fixLeftEdge){var t=this.kr();if(null!==t){var e=this.br();if(null!==e){var i=e.ss()-t;if(i<0){var n=this.er-i-1;this.wr(n)}this.Dr()}}}},t.prototype._r=function(){this.Tr(),this.Dr()},t}();function zt(t){return!g(t)&&!O(t)}function Jt(t){return g(t)}!function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Qt||(Qt={}));var Ut="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Gt(t,e,i){return void 0!==i?i+=" ":i="",void 0===e&&(e=Ut),""+i+t+"px "+e}var Wt=function(){function t(t){this.oe={Dt:1,At:4,zt:NaN,Nt:"",le:"",et:"",Lt:0,Bt:0,Et:0,Tt:0,Ot:0},this.F=t}return t.prototype.ct=function(){var t=this.oe,e=this.fe(),i=this.ce();return t.zt===e&&t.le===i||(t.zt=e,t.le=i,t.Nt=Gt(e,i),t.Tt=Math.floor(e/3.5),t.Lt=t.Tt,t.Bt=Math.max(Math.ceil(e/2-t.At/2),0),t.Et=Math.ceil(e/2+t.At/2),t.Ot=Math.round(e/10)),t.et=this.ve(),this.oe},t.prototype.ve=function(){return this.F.ct().layout.textColor},t.prototype.fe=function(){return this.F.ct().layout.fontSize},t.prototype.ce=function(){return this.F.ct().layout.fontFamily},t}();function qt(t){return"left"===t||"right"===t}var Vt=function(){function t(t){this._e=new Map,this.de=!1,this.we=[],this.Me=t}return t.prototype.be=function(t,e){var i=function(t,e){return void 0===t?e:{me:Math.max(t.me,e.me),_h:t._h||e._h}}(this._e.get(t),e);this._e.set(t,i)},t.prototype.pe=function(){return this.Me},t.prototype.ge=function(t){var e=this._e.get(t);return void 0===e?{me:this.Me}:{me:Math.max(this.Me,e.me),_h:e._h}},t.prototype.ye=function(){this.we=[{ke:0}]},t.prototype.xe=function(t){this.we=[{ke:1,X:t}]},t.prototype.Ne=function(){this.we=[{ke:4}]},t.prototype.dr=function(t){this.we.push({ke:2,X:t})},t.prototype.wr=function(t){this.we.push({ke:3,X:t})},t.prototype.Se=function(){return this.we},t.prototype._n=function(t){var e=this;this.de=this.de||t.de,this.we=this.we.concat(t.we);for(var i=0,n=t.we;i<n.length;i++){var s=n[i];this.Ce(s)}this.Me=Math.max(this.Me,t.Me),t._e.forEach((function(t,i){e.be(i,t)}))},t.prototype.Ce=function(t){switch(t.ke){case 0:this.ye();break;case 1:this.xe(t.X);break;case 2:this.dr(t.X);break;case 3:this.wr(t.X);break;case 4:this.Ne()}},t}(),Yt=function(){function t(t){this.Ae=t}return t.prototype.format=function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this.De(t):t<999995?e+this.De(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.De(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.De(t/1e9)+"B")},t.prototype.De=function(t){var e=Math.pow(10,this.Ae);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this.Ae).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(function(t,e){return e}))},t}();function Xt(t,e,i,n){if(0!==e.length){var s=e[n.from].p,r=e[n.from].g;t.moveTo(s,r);for(var o=n.from+1;o<n.to;++o){var a=e[o];if(1===i){var c=e[o-1].g,l=a.p;t.lineTo(l,c)}t.lineTo(a.p,a.g)}}}var Kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.v=null,e}return u(e,t),e.prototype._=function(t){this.v=t},e.prototype.u=function(t){if(null!==this.v&&0!==this.v.m.length&&null!==this.v.M){if(t.lineCap="butt",t.lineJoin="round",t.strokeStyle=this.v.S,t.lineWidth=this.v.rt,c(t,this.v.ut),t.lineWidth=1,t.beginPath(),1===this.v.m.length){var e=this.v.m[0],i=this.v.Te/2;t.moveTo(e.p-i,this.v.Le),t.lineTo(e.p-i,e.g),t.lineTo(e.p+i,e.g),t.lineTo(e.p+i,this.v.Le)}else t.moveTo(this.v.m[this.v.M.from].p,this.v.Le),t.lineTo(this.v.m[this.v.M.from].p,this.v.m[this.v.M.from].g),Xt(t,this.v.m,this.v.Be,this.v.M),this.v.M.to>this.v.M.from&&(t.lineTo(this.v.m[this.v.M.to-1].p,this.v.Le),t.lineTo(this.v.m[this.v.M.from].p,this.v.Le));t.closePath();var n=t.createLinearGradient(0,0,0,this.v.Le);n.addColorStop(0,this.v.Ee),n.addColorStop(1,this.v.Fe),t.fillStyle=n,t.fill()}},e}(C),Zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.v=null,e}return u(e,t),e.prototype._=function(t){this.v=t},e.prototype.u=function(t){if(null!==this.v&&0!==this.v.m.length&&null!==this.v.M){if(t.lineCap="butt",t.lineWidth=this.v.rt,c(t,this.v.ut),t.strokeStyle=this.v.S,t.lineJoin="round",t.beginPath(),1===this.v.m.length){var e=this.v.m[0];t.moveTo(e.p-this.v.Te/2,e.g),t.lineTo(e.p+this.v.Te/2,e.g)}else Xt(t,this.v.m,this.v.Be,this.v.M);t.stroke()}},e}(C);function $t(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=t.length);for(var r=s-n;0<r;){var o=r>>1,a=n+o;i(t[a],e)?(n=a+1,r-=o+1):r=o}return n}function te(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=t.length);for(var r=s-n;0<r;){var o=r>>1,a=n+o;i(e,t[a])?r=o:(n=a+1,r-=o+1)}return n}function ee(t,e){return t.C<e}function ie(t,e){return t<e.C}function ne(t,e,i){var n=e.ss(),s=e.rs(),r=$t(t,n,ee),o=te(t,s,ie);if(!i)return{from:r,to:o};var a=r,c=o;return r>0&&r<t.length&&t[r].C>=n&&(a=r-1),o>0&&o<t.length&&t[o-1].C<=s&&(c=o+1),{from:a,to:c}}var se=function(){function t(t,e,i){this.Ve=!0,this.Oe=!0,this.ze=!0,this.Pe=[],this.Re=null,this.Ie=t,this.We=e,this.Ue=i}return t.prototype.O=function(t){this.Ve=!0,"data"===t&&(this.Oe=!0),"options"===t&&(this.ze=!0)},t.prototype.je=function(){this.Oe&&(this.qe(),this.Oe=!1),this.Ve&&(this.He(),this.Ve=!1),this.ze&&(this.Ye(),this.ze=!1)},t.prototype.Ke=function(){this.Re=null},t.prototype.He=function(){var t=this.Ie.$(),e=this.We.U();if(this.Ke(),!e.ti()&&!t.ti()){var i=e.br();if(null!==i&&0!==this.Ie.Hi().$e()){var n=this.Ie.H();null!==n&&(this.Re=ne(this.Pe,i,this.Ue),this.Xe(t,e,n.X))}}},t}(),re=function(t){function e(e,i){return t.call(this,e,i,!0)||this}return u(e,t),e.prototype.Xe=function(t,e,i){e.Br(this.Pe,N(this.Re)),t.Sh(this.Pe,i,N(this.Re))},e.prototype.Ze=function(t,e){return{C:t,A:e,p:NaN,g:NaN}},e.prototype.Ye=function(){},e.prototype.qe=function(){var t=this,e=this.Ie.Je();this.Pe=this.Ie.Hi().Ge().map((function(i){var n=i.X[3];return t.Qe(i.Ps,n,e)}))},e}(se),oe=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.ot=new M,n.tu=new Kt,n.iu=new Zt,n.ot.i([n.tu,n.iu]),n}return u(e,t),e.prototype.R=function(t,e){if(!this.Ie.q())return null;var i=this.Ie.ct();this.je();var n={Be:i.lineType,m:this.Pe,S:i.lineColor,ut:i.lineStyle,rt:i.lineWidth,Ee:i.topColor,Fe:i.bottomColor,Le:t,M:this.Re,Te:this.We.U().zr()};return this.tu._(n),this.iu._(n),this.ot},e.prototype.Qe=function(t,e){return this.Ze(t,e)},e}(re),ae=function(){function t(){this.tt=null,this.nu=0,this.hu=0}return t.prototype._=function(t){this.tt=t},t.prototype.h=function(t,e,i,n){if(null!==this.tt&&0!==this.tt.Hi.length&&null!==this.tt.M){this.nu=this.su(e),this.nu>=2&&Math.max(1,Math.floor(e))%2!=this.nu%2&&this.nu--,this.hu=this.tt.ru?Math.min(this.nu,Math.floor(e)):this.nu;for(var s=null,r=this.hu<=this.nu&&this.tt.zr>=Math.floor(1.5*e),o=this.tt.M.from;o<this.tt.M.to;++o){var a=this.tt.Hi[o];s!==a.et&&(t.fillStyle=a.et,s=a.et);var c=Math.floor(.5*this.hu),l=Math.round(a.p*e),h=l-c,u=this.hu,d=h+u-1,f=Math.min(a.Th,a.Lh),p=Math.max(a.Th,a.Lh),v=Math.round(f*e)-c,b=Math.round(p*e)+c,m=Math.max(b-v,this.hu);t.fillRect(h,v,u,m);var j=Math.ceil(1.5*this.nu);if(r){if(this.tt.eu){var g=l-j,y=Math.max(v,Math.round(a.Dh*e)-c),O=y+u-1;O>v+m-1&&(y=(O=v+m-1)-u+1),t.fillRect(g,y,h-g,O-y+1)}var x=l+j,A=Math.max(v,Math.round(a.Bh*e)-c),w=A+u-1;w>v+m-1&&(A=(w=v+m-1)-u+1),t.fillRect(d+1,A,x-d,w-A+1)}}}},t.prototype.su=function(t){var e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(b(this.tt).zr,t)))},t}(),ce=function(t){function e(e,i){return t.call(this,e,i,!1)||this}return u(e,t),e.prototype.Xe=function(t,e,i){e.Br(this.Pe,N(this.Re)),t.Ah(this.Pe,i,N(this.Re))},e.prototype.uu=function(t,e,i){return{C:t,open:e.X[0],high:e.X[1],low:e.X[2],close:e.X[3],p:NaN,Dh:NaN,Th:NaN,Lh:NaN,Bh:NaN}},e.prototype.qe=function(){var t=this,e=this.Ie.Je();this.Pe=this.Ie.Hi().Ge().map((function(i){return t.Qe(i.Ps,i,e)}))},e}(se),le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ot=new ae,e}return u(e,t),e.prototype.R=function(t,e){if(!this.Ie.q())return null;var i=this.Ie.ct();this.je();var n={Hi:this.Pe,zr:this.We.U().zr(),eu:i.openVisible,ru:i.thinBars,M:this.Re};return this.ot._(n),this.ot},e.prototype.Ye=function(){var t=this;this.Pe.forEach((function(e){e.et=t.Ie.Je().ou(e.C).au}))},e.prototype.Qe=function(t,e,i){return d(d({},this.uu(t,e,i)),{et:i.ou(t).au})},e}(ce),he=function(){function t(){this.tt=null,this.nu=0}return t.prototype._=function(t){this.tt=t},t.prototype.h=function(t,e,i,n){if(null!==this.tt&&0!==this.tt.Hi.length&&null!==this.tt.M){this.nu=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);var i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),s=Math.floor(t*e),r=Math.min(n,s);return Math.max(Math.floor(e),r)}(this.tt.zr,e),this.nu>=2&&Math.floor(e)%2!=this.nu%2&&this.nu--;var s=this.tt.Hi;this.tt.lu&&this.fu(t,s,this.tt.M,e),this.tt.cu&&this.vu(t,s,this.tt.M,this.tt.zr,e);var r=this._u(e);(!this.tt.cu||this.nu>2*r)&&this.du(t,s,this.tt.M,e)}},t.prototype.fu=function(t,e,i,n){if(null!==this.tt){var s="",r=Math.min(Math.floor(n),Math.floor(this.tt.zr*n));r=Math.max(Math.floor(n),Math.min(r,this.nu));for(var o=Math.floor(.5*r),a=null,c=i.from;c<i.to;c++){var l=e[c];l.wu!==s&&(t.fillStyle=l.wu,s=l.wu);var h=Math.round(Math.min(l.Dh,l.Bh)*n),u=Math.round(Math.max(l.Dh,l.Bh)*n),d=Math.round(l.Th*n),f=Math.round(l.Lh*n),p=Math.round(n*l.p)-o,v=p+r-1;null!==a&&(p=Math.max(a+1,p),p=Math.min(p,v));var b=v-p+1;t.fillRect(p,d,b,h-d),t.fillRect(p,u+1,b,f-u),a=v}}},t.prototype._u=function(t){var e=Math.floor(1*t);this.nu<=2*e&&(e=Math.floor(.5*(this.nu-1)));var i=Math.max(Math.floor(t),e);return this.nu<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i},t.prototype.vu=function(t,e,i,n,s){if(null!==this.tt)for(var r="",o=this._u(s),a=null,c=i.from;c<i.to;c++){var l=e[c];l.Z!==r&&(t.fillStyle=l.Z,r=l.Z);var h=Math.round(l.p*s)-Math.floor(.5*this.nu),u=h+this.nu-1,d=Math.round(Math.min(l.Dh,l.Bh)*s),f=Math.round(Math.max(l.Dh,l.Bh)*s);if(null!==a&&(h=Math.max(a+1,h),h=Math.min(h,u)),this.tt.zr*s>2*o)J(t,h,d,u-h+1,f-d+1,o);else{var p=u-h+1;t.fillRect(h,d,p,f-d+1)}a=u}},t.prototype.du=function(t,e,i,n){if(null!==this.tt)for(var s="",r=this._u(n),o=i.from;o<i.to;o++){var a=e[o],c=Math.round(Math.min(a.Dh,a.Bh)*n),l=Math.round(Math.max(a.Dh,a.Bh)*n),h=Math.round(a.p*n)-Math.floor(.5*this.nu),u=h+this.nu-1;if(a.et!==s){var d=a.et;t.fillStyle=d,s=d}this.tt.cu&&(h+=r,c+=r,u-=r,l-=r),c>l||t.fillRect(h,c,u-h+1,l-c+1)}},t}(),ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ot=new he,e}return u(e,t),e.prototype.R=function(t,e){if(!this.Ie.q())return null;var i=this.Ie.ct();this.je();var n={Hi:this.Pe,zr:this.We.U().zr(),lu:i.wickVisible,cu:i.borderVisible,M:this.Re};return this.ot._(n),this.ot},e.prototype.Ye=function(){var t=this;this.Pe.forEach((function(e){var i=t.Ie.Je().ou(e.C);e.et=i.au,e.wu=i.Mu,e.Z=i.bu}))},e.prototype.Qe=function(t,e,i){var n=i.ou(t);return d(d({},this.uu(t,e,i)),{et:n.au,wu:n.Mu,Z:n.bu})},e}(ce),de=function(){function t(){this.tt=null,this.mu=[]}return t.prototype._=function(t){this.tt=t,this.mu=[]},t.prototype.h=function(t,e,i,n){if(null!==this.tt&&0!==this.tt.m.length&&null!==this.tt.M){this.mu.length||this.pu(e);for(var s=Math.max(1,Math.floor(e)),r=Math.round(this.tt.gu*e)-Math.floor(s/2),o=r+s,a=this.tt.M.from;a<this.tt.M.to;a++){var c=this.tt.m[a],l=this.mu[a-this.tt.M.from],h=Math.round(c.g*e);t.fillStyle=c.et;var u=void 0,d=void 0;h<=r?(u=h,d=o):(u=r,d=h-Math.floor(s/2)+s),t.fillRect(l.ss,u,l.rs-l.ss+1,d-u)}}},t.prototype.pu=function(t){if(null!==this.tt&&0!==this.tt.m.length&&null!==this.tt.M){var e=Math.ceil(this.tt.zr*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.tt.zr*t)-e;this.mu=new Array(this.tt.M.to-this.tt.M.from);for(var n=this.tt.M.from;n<this.tt.M.to;n++){var s,r=this.tt.m[n],o=Math.round(r.p*t),a=void 0,c=void 0;i%2?(a=o-(s=(i-1)/2),c=o+s):(a=o-(s=i/2),c=o+s-1),this.mu[n-this.tt.M.from]={ss:a,rs:c,yu:o,ku:r.p*t,C:r.C}}for(n=this.tt.M.from+1;n<this.tt.M.to;n++){var l=this.mu[n-this.tt.M.from],h=this.mu[n-this.tt.M.from-1];l.C===h.C+1&&l.ss-h.rs!==e+1&&(h.yu>h.ku?h.rs=l.ss-e-1:l.ss=h.rs+e+1)}var u=Math.ceil(this.tt.zr*t);for(n=this.tt.M.from;n<this.tt.M.to;n++){(l=this.mu[n-this.tt.M.from]).rs<l.ss&&(l.rs=l.ss);var d=l.rs-l.ss+1;u=Math.min(d,u)}if(e>0&&u<4)for(n=this.tt.M.from;n<this.tt.M.to;n++)(d=(l=this.mu[n-this.tt.M.from]).rs-l.ss+1)>u&&(l.yu>l.ku?l.rs-=1:l.ss+=1)}else this.mu=[]},t}();function fe(t){return{m:[],zr:t,gu:NaN,M:null}}function pe(t,e,i){return{C:t,A:e,p:NaN,g:NaN,et:i}}var ve=function(t){function e(e,i){var n=t.call(this,e,i,!1)||this;return n.D=new M,n.xu=fe(0),n.ot=new de,n}return u(e,t),e.prototype.R=function(t,e){return this.Ie.q()?(this.je(),this.D):null},e.prototype.qe=function(){var t=this.We.U().zr();this.xu=fe(t);for(var e=0,i=0,n=this.Ie.ct().color,s=0,r=this.Ie.Hi().Ge();s<r.length;s++){var o=r[s],a=o.X[3],c=void 0!==o.et?o.et:n,l=pe(o.Ps,a,c);++e<this.xu.m.length?this.xu.m[e]=l:this.xu.m.push(l),this.Pe[i++]={C:o.Ps,p:0}}this.ot._(this.xu),this.D.i([this.ot])},e.prototype.Ye=function(){},e.prototype.Ke=function(){t.prototype.Ke.call(this),this.xu.M=null},e.prototype.Xe=function(t,e,i){if(null!==this.Re){var n=e.zr(),s=b(e.br()),r=t.K(this.Ie.ct().base,i);e.Br(this.xu.m),t.Sh(this.xu.m,i),this.xu.gu=r,this.xu.M=ne(this.xu.m,s,!1),this.xu.zr=n,this.ot._(this.xu)}},e}(se),be=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.iu=new Zt,n}return u(e,t),e.prototype.R=function(t,e){if(!this.Ie.q())return null;var i=this.Ie.ct();this.je();var n={m:this.Pe,S:i.color,ut:i.lineStyle,Be:i.lineType,rt:i.lineWidth,M:this.Re,Te:this.We.U().zr()};return this.iu._(n),this.iu},e.prototype.Qe=function(t,e){return this.Ze(t,e)},e}(re),me=/[2-9]/g,je=function(){function t(t){void 0===t&&(t=50),this.ks=new Map,this.Nu=0,this.Su=Array.from(new Array(t))}return t.prototype.Cu=function(){this.ks.clear(),this.Su.fill(void 0)},t.prototype.Vt=function(t,e,i){var n=i||me,s=String(e).replace(n,"0"),r=this.ks.get(s);if(void 0===r){if(0===(r=t.measureText(s).width)&&0!==e.length)return 0;var o=this.Su[this.Nu];void 0!==o&&this.ks.delete(o),this.Su[this.Nu]=s,this.Nu=(this.Nu+1)%this.Su.length,this.ks.set(s,r)}return r},t}(),ge=function(){function t(t){this.Au=null,this.oe=null,this.Du="right",this.Ks=0,this.Tu=t}return t.prototype.Lu=function(t,e,i,n){this.Au=t,this.oe=e,this.Ks=i,this.Du=n},t.prototype.h=function(t,e){null!==this.oe&&null!==this.Au&&this.Au.h(t,this.oe,this.Tu,this.Ks,this.Du,e)},t}(),ye=function(){function t(t,e,i){this.Bu=t,this.Tu=new je(50),this.Eu=e,this.F=i,this.fe=-1,this.ot=new ge(this.Tu)}return t.prototype.R=function(t,e){var i=this.F.Fu(this.Eu);if(null===i)return null;var n=i.Vu(this.Eu)?i.Ai():this.Eu.$();if(null===n)return null;var s=i.Ou(n);if("overlay"===s)return null;var r=this.F.zu();return r.zt!==this.fe&&(this.fe=r.zt,this.Tu.Cu()),this.ot.Lu(this.Bu.Zt(),r,e,s),this.ot},t}(),Oe=function(){function t(){this.tt=null}return t.prototype._=function(t){this.tt=t},t.prototype.h=function(t,e,i,n){if(null!==this.tt&&!1!==this.tt.q){var s=Math.round(this.tt.g*e);if(!(s<0||s>Math.ceil(this.tt.Mt*e))){var r=Math.ceil(this.tt.wt*e);t.lineCap="butt",t.strokeStyle=this.tt.et,t.lineWidth=Math.floor(this.tt.rt*e),c(t,this.tt.ut),l(t,s,0,r)}}},t}(),xe=function(){function t(t){this.Pu={wt:0,Mt:0,g:0,et:"rgba(0, 0, 0, 0)",rt:1,ut:0,q:!1},this.Ru=new Oe,this.B=!0,this.Ie=t,this.We=t.vt(),this.Ru._(this.Pu)}return t.prototype.O=function(){this.B=!0},t.prototype.R=function(t,e){return this.Ie.q()?(this.B&&(this.Iu(t,e),this.B=!1),this.Ru):null},t}(),Ae=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.Iu=function(t,e){this.Pu.q=!1;var i=this.Ie.$(),n=i.uh().uh;if(2===n||3===n){var s=this.Ie.ct();if(s.baseLineVisible&&this.Ie.q()){var r=this.Ie.H();null!==r&&(this.Pu.q=!0,this.Pu.g=i.K(r.X,r.X),this.Pu.wt=e,this.Pu.Mt=t,this.Pu.et=s.baseLineColor,this.Pu.rt=s.baseLineWidth,this.Pu.ut=s.baseLineStyle)}}},e}(xe),we=function(){function t(){this.tt=null}return t.prototype._=function(t){this.tt=t},t.prototype.Wu=function(){return this.tt},t.prototype.h=function(t,e,i,n){var s=this.tt;if(null!==s){t.save();var r=Math.max(1,Math.floor(e)),o=r%2/2,a=Math.round(s.ku.x*e)+o,c=s.ku.y*e;t.fillStyle=s.Uu,t.beginPath();var l=Math.max(2,1.5*s.ju)*e;t.arc(a,c,l,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.qu,t.beginPath(),t.arc(a,c,s.N*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=s.Hu,t.beginPath(),t.arc(a,c,s.N*e+r/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},t}(),Ne=[{Yu:0,Ku:.25,$u:4,Xu:10,Zu:.25,Ju:0,Gu:.4,Qu:.8},{Yu:.25,Ku:.525,$u:10,Xu:14,Zu:0,Ju:0,Gu:.8,Qu:0},{Yu:.525,Ku:1,$u:14,Xu:14,Zu:0,Ju:0,Gu:0,Qu:0}];function Me(t,e,i,n){return function(t,e){if("transparent"===t)return t;var i=H(t),n=i[3];return"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+e*n+")"}(t,i+(n-i)*e)}function Ce(t,e){for(var i,n=t%2600/2600,s=0,r=Ne;s<r.length;s++){var o=r[s];if(n>=o.Yu&&n<=o.Ku){i=o;break}}p(void 0!==i,"Last price animation internal logic error");var a,c,l,h=(n-i.Yu)/(i.Ku-i.Yu);return{qu:Me(e,h,i.Zu,i.Ju),Hu:Me(e,h,i.Gu,i.Qu),N:(a=h,c=i.$u,l=i.Xu,c+(l-c)*a)}}var Se=function(){function t(t){this.ot=new we,this.B=!0,this.ta=!0,this.ia=performance.now(),this.na=this.ia-1,this.ha=t}return t.prototype.O=function(t){if(this.B=!0,"data"===t&&2===this.ha.ct().lastPriceAnimation){var e=performance.now(),i=this.na-e;if(i>0)return void(i<650&&(this.na+=2600));this.ia=e,this.na=e+2600}},t.prototype.sa=function(){this.ta=!0},t.prototype.q=function(){return 0!==this.ha.ct().lastPriceAnimation},t.prototype.ra=function(){switch(this.ha.ct().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.na}},t.prototype.R=function(t,e){return this.B?(this.I(t,e),this.B=!1,this.ta=!1):this.ta&&(this.ea(),this.ta=!1),this.ot},t.prototype.I=function(t,e){this.ot._(null);var i=this.ha.vt().U(),n=i.br(),s=this.ha.H();if(null!==n&&null!==s){var r=this.ha.ua(!0,!0);if(n.Fs(r.Ps)){var o={x:i.G(r.Ps),y:this.ha.$().K(r.A,s.X)},a=r.et,c=this.ha.ct().lineWidth,l=Ce(this.aa(),a);this.ot._({Uu:a,ju:c,qu:l.qu,Hu:l.Hu,N:l.N,ku:o})}}},t.prototype.ea=function(){var t=this.ot.Wu();if(null!==t){var e=Ce(this.aa(),t.Uu);t.qu=e.qu,t.Hu=e.Hu,t.N=e.N}},t.prototype.aa=function(){return this.ra()?performance.now()-this.ia:2599},t}();function ke(t,e){return ut(Math.min(Math.max(t,12),30)*e)}function _e(t,e){switch(t){case"arrowDown":case"arrowUp":return ke(e,1);case"circle":return ke(e,.8);case"square":return ke(e,.7)}}function De(t){return ht(ke(t,1))}function Ie(t){return Math.max(ke(t,.1),3)}function Te(t,e,i,n,s){var r=_e("square",i),o=(r-1)/2,a=t-o,c=e-o;return n>=a&&n<=a+r&&s>=c&&s<=c+r}function Pe(t,e,i,n,s){var r=(_e("arrowUp",s)-1)/2,o=(ut(s/2)-1)/2;e.beginPath(),t?(e.moveTo(i-r,n),e.lineTo(i,n-r),e.lineTo(i+r,n),e.lineTo(i+o,n),e.lineTo(i+o,n+r),e.lineTo(i-o,n+r),e.lineTo(i-o,n)):(e.moveTo(i-r,n),e.lineTo(i,n+r),e.lineTo(i+r,n),e.lineTo(i+o,n),e.lineTo(i+o,n-r),e.lineTo(i-o,n-r),e.lineTo(i-o,n)),e.fill()}var Be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tt=null,e.Tu=new je,e.fe=-1,e.ce="",e.oa="",e}return u(e,t),e.prototype._=function(t){this.tt=t},e.prototype.Lu=function(t,e){this.fe===t&&this.ce===e||(this.fe=t,this.ce=e,this.oa=Gt(t,e),this.Tu.Cu())},e.prototype.la=function(t,e){if(null===this.tt||null===this.tt.M)return null;for(var i=this.tt.M.from;i<this.tt.M.to;i++){var n=this.tt.m[i];if(Ee(n,t,e))return{fa:n.ca,va:n.va}}return null},e.prototype.u=function(t,e,i){if(null!==this.tt&&null!==this.tt.M){t.textBaseline="middle",t.font=this.oa;for(var n=this.tt.M.from;n<this.tt.M.to;n++){var s=this.tt.m[n];void 0!==s.Ft&&(s.Ft.wt=this.Tu.Vt(t,s.Ft._a),s.Ft.Mt=this.fe),Re(s,t)}}},e}(C);function Re(t,e){e.fillStyle=t.et,void 0!==t.Ft&&function(t,e,i,n){t.fillText(e,i,n)}(e,t.Ft._a,t.p-t.Ft.wt/2,t.Ft.g),function(t,e){if(0!==t.$e){switch(t.da){case"arrowDown":return void Pe(!1,e,t.p,t.g,t.$e);case"arrowUp":return void Pe(!0,e,t.p,t.g,t.$e);case"circle":return void function(t,e,i,n){var s=(_e("circle",n)-1)/2;t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!1),t.fill()}(e,t.p,t.g,t.$e);case"square":return void function(t,e,i,n){var s=_e("square",n),r=(s-1)/2,o=e-r,a=i-r;t.fillRect(o,a,s,s)}(e,t.p,t.g,t.$e)}t.da}}(t,e)}function Ee(t,e,i){return!(void 0===t.Ft||!function(t,e,i,n,s,r){var o=n/2;return s>=t&&s<=t+i&&r>=e-o&&r<=e+o}(t.p,t.Ft.g,t.Ft.wt,t.Ft.Mt,e,i))||function(t,e,i){if(0===t.$e)return!1;switch(t.da){case"arrowDown":case"arrowUp":return function(t,e,i,n,s,r){return Te(e,i,n,s,r)}(0,t.p,t.g,t.$e,e,i);case"circle":return function(t,e,i,n,s){var r=2+_e("circle",i)/2,o=t-n,a=e-s;return Math.sqrt(o*o+a*a)<=r}(t.p,t.g,t.$e,e,i);case"square":return Te(t.p,t.g,t.$e,e,i)}t.da}(t,e,i)}function Fe(t,e,i,n,s,r,o,a,c){var l=g(i)?i:i.close,h=g(i)?i:i.high,u=g(i)?i:i.low,d=g(e.size)?Math.max(e.size,0):1,f=De(a.zr())*d,p=f/2;switch(t.$e=f,e.position){case"inBar":return t.g=o.K(l,c),void(void 0!==t.Ft&&(t.Ft.g=t.g+p+r+.6*s));case"aboveBar":return t.g=o.K(h,c)-p-n.wa,void 0!==t.Ft&&(t.Ft.g=t.g-p-.6*s,n.wa+=1.2*s),void(n.wa+=f+r);case"belowBar":return t.g=o.K(u,c)+p+n.Ma,void 0!==t.Ft&&(t.Ft.g=t.g+p+r+.6*s,n.Ma+=1.2*s),void(n.Ma+=f+r)}e.position}var Le=function(){function t(t,e){this.B=!0,this.ba=!0,this.ma=!0,this.pa=null,this.ot=new Be,this.ha=t,this.si=e,this.tt={m:[],M:null}}return t.prototype.O=function(t){this.B=!0,this.ma=!0,"data"===t&&(this.ba=!0)},t.prototype.R=function(t,e,i){if(!this.ha.q())return null;this.B&&this.je();var n=this.si.ct().layout;return this.ot.Lu(n.fontSize,n.fontFamily),this.ot._(this.tt),this.ot},t.prototype.ga=function(){if(this.ma){if(this.ha.ya().length>0){var t=this.si.U().zr(),e=Ie(t),i=1.5*De(t)+2*e;this.pa={above:i,below:i}}else this.pa=null;this.ma=!1}return this.pa},t.prototype.je=function(){var t=this.ha.$(),e=this.si.U(),i=this.ha.ya();this.ba&&(this.tt.m=i.map((function(t){return{C:t.time,p:0,g:0,$e:0,da:t.shape,et:t.color,ca:t.ca,va:t.id,Ft:void 0}})),this.ba=!1);var n=this.si.ct().layout;this.tt.M=null;var s=e.br();if(null!==s){var r=this.ha.H();if(null!==r&&0!==this.tt.m.length){var o=NaN,a=Ie(e.zr()),c={wa:a,Ma:a};this.tt.M=ne(this.tt.m,s,!0);for(var l=this.tt.M.from;l<this.tt.M.to;l++){var h=i[l];h.time!==o&&(c.wa=a,c.Ma=a,o=h.time);var u=this.tt.m[l];u.p=e.G(h.time),void 0!==h.text&&h.text.length>0&&(u.Ft={_a:h.text,g:0,wt:0,Mt:0});var d=this.ha.ka(h.time);null!==d&&Fe(u,h,d,c,n.fontSize,a,t,e,r.X)}this.B=!1}}},t}(),Qe=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.Iu=function(t,e){var i=this.Pu;i.q=!1;var n=this.Ie.ct();if(n.priceLineVisible&&this.Ie.q()){var s=this.Ie.ua(0===n.priceLineSource);s.xa||(i.q=!0,i.g=s.Pt,i.et=this.Ie.Na(s.et),i.wt=e,i.Mt=t,i.rt=n.priceLineWidth,i.ut=n.priceLineStyle)}},e}(xe),He=function(t){function e(e){var i=t.call(this)||this;return i.lt=e,i}return u(e,t),e.prototype.Jt=function(t,e,i){t.q=!1,e.q=!1;var n=this.lt;if(n.q()){var s=n.ct(),r=s.lastValueVisible,o=""!==n.Sa(),a=0===s.seriesLastValueMode,c=n.ua(!1);if(!c.xa){r&&(t.Ft=this.Ca(c,r,a),t.q=0!==t.Ft.length),(o||a)&&(e.Ft=this.Aa(c,r,o,a),e.q=e.Ft.length>0);var l=n.Na(c.et),h=z(l);i.yt=h.yt,i.et=h.kt,i.Pt=c.Pt,e.Z=n.vt().J(c.Pt/n.$().Mt()),t.Z=l}}},e.prototype.Aa=function(t,e,i,n){var s="",r=this.lt.Sa();return i&&0!==r.length&&(s+=r+" "),e&&n&&(s+=this.lt.$().lh()?t.Da:t.Ta),s.trim()},e.prototype.Ca=function(t,e,i){return e?i?this.lt.$().lh()?t.Ta:t.Da:t.Ft:""},e}(Y),ze=function(){function t(t,e){this.On=t,this.La=e||null}return t.prototype.kh=function(){return this.On},t.prototype.es=function(){return this.La},t.prototype.Mn=function(){return null===this.On?null:{priceRange:this.On.Mn(),margins:this.La||void 0}},t.bn=function(e){return null===e?null:new t(ot.bn(e.priceRange),e.margins)},t}(),Je=function(t){function e(e,i){var n=t.call(this,e)||this;return n.Ba=i,n}return u(e,t),e.prototype.Iu=function(t,e){var i=this.Pu;if(i.q=!1,this.Ie.q()){var n=this.Ba.Ea();if(null!==n){var s=this.Ba.ct();i.q=!0,i.g=n,i.et=s.color,i.wt=e,i.Mt=t,i.rt=s.lineWidth,i.ut=s.lineStyle}}},e}(xe),Ue=function(t){function e(e,i){var n=t.call(this)||this;return n.ha=e,n.Ba=i,n}return u(e,t),e.prototype.Jt=function(t,e,i){t.q=!1,e.q=!1;var n=this.Ba.ct(),s=n.axisLabelVisible,r=""!==n.title,o=this.ha;if(s&&o.q()){var a=this.Ba.Ea();if(null!==a){r&&(e.Ft=n.title,e.q=!0),e.Z=o.vt().J(a/o.$().Mt()),t.Ft=o.$().Xh(n.price),t.q=!0;var c=z(n.color);i.yt=c.yt,i.et=c.kt,i.Pt=a}}},e}(Y),Ge=function(){function t(t,e){this.ha=t,this.Ni=e,this.Fa=new Je(t,this),this.Bu=new Ue(t,this),this.Va=new ye(this.Bu,t,t.vt())}return t.prototype.sh=function(t){j(this.Ni,t),this.O(),this.ha.vt().Or()},t.prototype.ct=function(){return this.Ni},t.prototype.vi=function(){return[this.Fa,this.Va]},t.prototype.Oa=function(){return this.Bu},t.prototype.O=function(){this.Fa.O(),this.Bu.O()},t.prototype.Ea=function(){var t=this.ha,e=t.$();if(t.vt().U().ti()||e.ti())return null;var i=t.H();return null===i?null:e.K(this.Ni.price,i.X)},t}(),We=function(t){function e(e){var i=t.call(this)||this;return i.si=e,i}return u(e,t),e.prototype.vt=function(){return this.si},e}(tt),qe={au:"",bu:"",Mu:""},Ve=function(){function t(t){this.ha=t}return t.prototype.ou=function(t,e){var i=this.ha.za(),n=this.ha.ct();switch(i){case"Line":return this.Pa(n);case"Area":return this.Ra(n);case"Bar":return this.Ia(n,t,e);case"Candlestick":return this.Wa(n,t,e);case"Histogram":return this.Ua(n,t,e)}throw new Error("Unknown chart style")},t.prototype.Ia=function(t,e,i){var n=d({},qe),s=t.upColor,r=t.downColor,o=s,a=r,c=b(this.ja(e,i)),l=m(c.X[0])<=m(c.X[3]);return n.au=l?s:r,n.bu=l?o:a,n},t.prototype.Wa=function(t,e,i){var n=d({},qe),s=t.upColor,r=t.downColor,o=t.borderUpColor,a=t.borderDownColor,c=t.wickUpColor,l=t.wickDownColor,h=b(this.ja(e,i)),u=m(h.X[0])<=m(h.X[3]);return n.au=u?s:r,n.bu=u?o:a,n.Mu=u?c:l,n},t.prototype.Ra=function(t){return d(d({},qe),{au:t.lineColor})},t.prototype.Pa=function(t){return d(d({},qe),{au:t.color})},t.prototype.Ua=function(t,e,i){var n=d({},qe),s=b(this.ja(e,i));return n.au=void 0!==s.et?s.et:t.color,n},t.prototype.ja=function(t,e){return void 0!==e?e.X:this.ha.Hi().qa(t)},t}(),Ye=function(){function t(){this.Ha=[],this.Ya=new Map,this.Ka=new Map}return t.prototype.$a=function(){this.Ha=[],this.Ya.clear(),this.Ka.clear()},t.prototype.Xa=function(){return this.$e()>0?this.Ha[this.Ha.length-1]:null},t.prototype.Za=function(){return this.$e()>0?this.Ja(0):null},t.prototype.qi=function(){return this.$e()>0?this.Ja(this.Ha.length-1):null},t.prototype.$e=function(){return this.Ha.length},t.prototype.ti=function(){return 0===this.$e()},t.prototype.Fs=function(t){return null!==this.Ga(t,0)},t.prototype.qa=function(t){return this.Qa(t)},t.prototype.Qa=function(t,e){void 0===e&&(e=0);var i=this.Ga(t,e);return null===i?null:d(d({},this.io(i)),{Ps:this.Ja(i)})},t.prototype.Ge=function(){return this.Ha},t.prototype.no=function(t,e,i){if(this.ti())return null;for(var n=null,s=0,r=i;s<r.length;s++){var o=r[s];n=Xe(n,this.ho(t,e,o))}return n},t.prototype._n=function(t){0!==t.length&&(this.ti()||t[t.length-1].Ps<this.Ha[0].Ps?this.so(t):t[0].Ps>this.Ha[this.Ha.length-1].Ps?this.ro(t):1!==t.length||t[0].Ps!==this.Ha[this.Ha.length-1].Ps?this.eo(t):this.uo(t[0]))},t.prototype.Ja=function(t){return this.Ha[t].Ps},t.prototype.io=function(t){return this.Ha[t]},t.prototype.Ga=function(t,e){var i=this.ao(t);if(null===i&&0!==e)switch(e){case-1:return this.oo(t);case 1:return this.lo(t);default:throw new TypeError("Unknown search mode")}return i},t.prototype.oo=function(t){var e=this.fo(t);return e>0&&(e-=1),e!==this.Ha.length&&this.Ja(e)<t?e:null},t.prototype.lo=function(t){var e=this.co(t);return e!==this.Ha.length&&t<this.Ja(e)?e:null},t.prototype.ao=function(t){var e=this.fo(t);return e===this.Ha.length||t<this.Ha[e].Ps?null:e},t.prototype.fo=function(t){return $t(this.Ha,t,(function(t,e){return t.Ps<e}))},t.prototype.co=function(t){return te(this.Ha,t,(function(t,e){return e.Ps>t}))},t.prototype.vo=function(t,e,i){for(var n=null,s=t;s<e;s++){var r=this.Ha[s].X[i];Number.isNaN(r)||(null===n?n={_o:r,do:r}:(r<n._o&&(n._o=r),r>n.do&&(n.do=r)))}return n},t.prototype.wo=function(t){var e=Math.floor(t.Ps/30);this.Ya.forEach((function(t){return t.delete(e)}))},t.prototype.so=function(t){p(0!==t.length,"plotRows should not be empty"),this.Ka.clear(),this.Ya.clear(),this.Ha=t.concat(this.Ha)},t.prototype.ro=function(t){p(0!==t.length,"plotRows should not be empty"),this.Ka.clear(),this.Ya.clear(),this.Ha=this.Ha.concat(t)},t.prototype.uo=function(t){p(!this.ti(),"plot list should not be empty"),p(this.Ha[this.Ha.length-1].Ps===t.Ps,"last row index should match new row index"),this.wo(t),this.Ka.delete(t.Ps),this.Ha[this.Ha.length-1]=t},t.prototype.eo=function(t){p(0!==t.length,"plot rows should not be empty"),this.Ka.clear(),this.Ya.clear(),this.Ha=function(t,e){for(var i=function(t,e){for(var i=t.length,n=e.length,s=i+n,r=0,o=0;r<i&&o<n;)t[r].Ps<e[o].Ps?r++:t[r].Ps>e[o].Ps?o++:(r++,o++,s--);return s}(t,e),n=new Array(i),s=0,r=0,o=t.length,a=e.length,c=0;s<o&&r<a;)t[s].Ps<e[r].Ps?(n[c]=t[s],s++):t[s].Ps>e[r].Ps?(n[c]=e[r],r++):(n[c]=e[r],s++,r++),c++;for(;s<o;)n[c]=t[s],s++,c++;for(;r<a;)n[c]=e[r],r++,c++;return n}(this.Ha,t)},t.prototype.ho=function(t,e,i){if(this.ti())return null;var n=null,s=b(this.Za()),r=b(this.qi()),o=Math.max(t,s),a=Math.min(e,r),c=30*Math.ceil(o/30),l=Math.max(c,30*Math.floor(a/30)),h=this.fo(o),u=this.co(Math.min(a,c,e));n=Xe(n,this.vo(h,u,i));var d=this.Ya.get(i);void 0===d&&(d=new Map,this.Ya.set(i,d));for(var f=Math.max(c+1,o);f<l;f+=30){var p=Math.floor(f/30),v=d.get(p);if(void 0===v){var m=this.fo(30*p),j=this.co(30*(p+1)-1);v=this.vo(m,j,i),d.set(p,v)}n=Xe(n,v)}return h=this.fo(l),u=this.co(a),Xe(n,this.vo(h,u,i))},t}();function Xe(t,e){return null===t?e:null===e?t:{_o:Math.min(t._o,e._o),do:Math.max(t.do,e.do)}}var Ke=function(t){function e(e,i,n){var s=t.call(this,e)||this;s.tt=new Ye,s.Fa=new Qe(s),s.Mo=[],s.bo=new Ae(s),s.mo=null,s.po=null,s.yo=[],s.ko=[],s.xo=null,s.Ni=i,s.No=n;var r=new He(s);return s.mi=[r],s.Va=new ye(r,s,e),"Area"!==n&&"Line"!==n||(s.mo=new Se(s)),s.So(),s.Co(),s}return u(e,t),e.prototype.en=function(){null!==this.xo&&clearTimeout(this.xo)},e.prototype.Na=function(t){return this.Ni.priceLineColor||t},e.prototype.ua=function(t,e){var i={xa:!0},n=this.$();if(this.vt().U().ti()||n.ti()||this.tt.ti())return i;var s,r,o=this.vt().U().br(),a=this.H();if(null===o||null===a)return i;if(t){var c=this.tt.Xa();if(null===c)return i;s=c,r=c.Ps}else{var l=this.tt.Qa(o.rs(),-1);if(null===l)return i;if(null===(s=this.tt.qa(l.Ps)))return i;r=l.Ps}var h=s.X[3],u=this.Je().ou(r,{X:s}),d=n.K(h,a.X);return{xa:!1,A:e?h:void 0,Ft:n.ii(h,a.X),Da:n.Xh(h),Ta:n.Jh(h,a.X),et:u.au,Pt:d,Ps:r}},e.prototype.Je=function(){return null!==this.po||(this.po=new Ve(this)),this.po},e.prototype.ct=function(){return this.Ni},e.prototype.sh=function(t){var e=t.priceScaleId;void 0!==e&&e!==this.Ni.priceScaleId&&this.vt().Ao(this,e),j(this.Ni,t),null!==this.ui&&void 0!==t.scaleMargins&&this.ui.sh({scaleMargins:t.scaleMargins}),void 0!==t.priceFormat&&this.So(),this.vt().Do(this),this.vt().To(),this.Li.O("options")},e.prototype.Lo=function(){this.tt.$a(),this.Co()},e.prototype.Bo=function(t,e){var i;e&&this.tt.$a(),this.tt._n(t),this.Eo(),this.Li.O("data"),this.Si.O("data"),null===(i=this.mo)||void 0===i||i.O("data");var n=this.vt().Fu(this);this.vt().Fo(n),this.vt().Do(this),this.vt().To(),this.vt().Or()},e.prototype.Vo=function(t){this.yo=t.map((function(t){return d({},t)})),this.Eo();var e=this.vt().Fu(this);this.Si.O("data"),this.vt().Fo(e),this.vt().Do(this),this.vt().To(),this.vt().Or()},e.prototype.ya=function(){return this.ko},e.prototype.Oo=function(t){var e=new Ge(this,t);return this.Mo.push(e),this.vt().Do(this),e},e.prototype.zo=function(t){var e=this.Mo.indexOf(t);-1!==e&&this.Mo.splice(e,1),this.vt().Do(this)},e.prototype.za=function(){return this.No},e.prototype.H=function(){var t=this.Po();return null===t?null:{X:t.X[3],Rh:t.C}},e.prototype.Po=function(){var t=this.vt().U().br();if(null===t)return null;var e=t.ss();return this.tt.Qa(e,1)},e.prototype.Hi=function(){return this.tt},e.prototype.ka=function(t){var e=this.tt.qa(t);return null===e?null:"Bar"===this.No||"Candlestick"===this.No?{open:e.X[0],high:e.X[1],low:e.X[2],close:e.X[3]}:e.X[3]},e.prototype.Ro=function(t){var e=this,i=this.mo;return null!==i&&i.q()?(null===this.xo&&i.ra()&&(this.xo=setTimeout((function(){e.xo=null,e.vt().Io()}),0)),i.sa(),[i]):[]},e.prototype.vi=function(){var t=[];this.Wo()||t.push(this.bo);for(var e=0,i=this.Mo;e<i.length;e++){var n=i[e];t.push.apply(t,n.vi())}return t.push(this.Li,this.Fa,this.Va,this.Si),t},e.prototype.ci=function(t,e){if(e!==this.ui&&!this.Wo())return[];for(var i=f([],this.mi,!0),n=0,s=this.Mo;n<s.length;n++){var r=s[n];i.push(r.Oa())}return i},e.prototype.hs=function(t,e){var i=this;if(void 0!==this.Ni.autoscaleInfoProvider){var n=this.Ni.autoscaleInfoProvider((function(){var n=i.Uo(t,e);return null===n?null:n.Mn()}));return ze.bn(n)}return this.Uo(t,e)},e.prototype.ts=function(){return this.Ni.priceFormat.minMove},e.prototype.Kh=function(){return this.Zn},e.prototype.Wi=function(){var t;this.Li.O(),this.Si.O();for(var e=0,i=this.mi;e<i.length;e++)i[e].O();for(var n=0,s=this.Mo;n<s.length;n++)s[n].O();this.Fa.O(),this.bo.O(),null===(t=this.mo)||void 0===t||t.O()},e.prototype.$=function(){return b(this.ui)},e.prototype.j=function(t){if("Line"!==this.No&&"Area"!==this.No||!this.Ni.crosshairMarkerVisible)return null;var e=this.tt.qa(t);return null===e?null:{A:e.X[3],N:this.jo(),Z:this.qo(),Y:this.Ho(t)}},e.prototype.Sa=function(){return this.Ni.title},e.prototype.q=function(){return this.Ni.visible},e.prototype.Wo=function(){return!qt(this.$().hh())},e.prototype.Uo=function(t,e){if(!y(t)||!y(e)||this.tt.ti())return null;var i="Line"===this.No||"Area"===this.No||"Histogram"===this.No?[3]:[2,1],n=this.tt.no(t,e,i),s=null!==n?new ot(n._o,n.do):null;if("Histogram"===this.za()){var r=this.Ni.base,o=new ot(r,r);s=null!==s?s._n(o):o}return new ze(s,this.Si.ga())},e.prototype.jo=function(){switch(this.No){case"Line":case"Area":return this.Ni.crosshairMarkerRadius}return 0},e.prototype.qo=function(){switch(this.No){case"Line":case"Area":var t=this.Ni.crosshairMarkerBorderColor;if(0!==t.length)return t}return null},e.prototype.Ho=function(t){switch(this.No){case"Line":case"Area":var e=this.Ni.crosshairMarkerBackgroundColor;if(0!==e.length)return e}return this.Je().ou(t).au},e.prototype.So=function(){switch(this.Ni.priceFormat.type){case"custom":this.Zn={format:this.Ni.priceFormat.formatter};break;case"volume":this.Zn=new Yt(this.Ni.priceFormat.precision);break;case"percent":this.Zn=new st(this.Ni.priceFormat.precision);break;default:var t=Math.pow(10,this.Ni.priceFormat.precision);this.Zn=new nt(t,this.Ni.priceFormat.minMove*t)}null!==this.ui&&this.ui.rh()},e.prototype.Eo=function(){var t=this,e=this.vt().U();if(e.ti()||0===this.tt.$e())this.ko=[];else{var i=b(this.tt.Za());this.ko=this.yo.map((function(n,s){var r=b(e.Mr(n.time,!0)),o=r<i?1:-1;return{time:b(t.tt.Qa(r,o)).Ps,position:n.position,shape:n.shape,color:n.color,id:n.id,ca:s,text:n.text,size:n.size}}))}},e.prototype.Co=function(){switch(this.Si=new Le(this,this.vt()),this.No){case"Bar":this.Li=new le(this,this.vt());break;case"Candlestick":this.Li=new ue(this,this.vt());break;case"Line":this.Li=new be(this,this.vt());break;case"Area":this.Li=new oe(this,this.vt());break;case"Histogram":this.Li=new ve(this,this.vt());break;default:throw Error("Unknown chart style assigned: "+this.No)}},e}(We),Ze=function(){function t(t){this.Ni=t}return t.prototype.Yo=function(t,e,i){var n=t;if(0===this.Ni.mode)return n;var s=i.Ai(),r=s.H();if(null===r)return n;var o=s.K(t,r),a=i.Fh().filter((function(t){return t instanceof Ke})).reduce((function(t,n){if(i.Vu(n)||!n.q())return t;var s=n.$(),r=n.Hi();if(s.ti()||!r.Fs(e))return t;var o=r.qa(e);if(null===o)return t;var a=m(n.H());return t.concat([s.K(o.X[3],a.X)])}),[]);if(0===a.length)return n;a.sort((function(t,e){return Math.abs(t-o)-Math.abs(e-o)}));var c=a[0];return s.Di(c,r)},t}(),$e=function(){function t(){this.tt=null}return t.prototype._=function(t){this.tt=t},t.prototype.h=function(t,e,i,n){var s=this;if(null!==this.tt){var r=Math.max(1,Math.floor(e));t.lineWidth=r;var o=Math.ceil(this.tt.st*e),a=Math.ceil(this.tt.ht*e);!function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(t,(function(){var i=b(s.tt);if(i.Ko){t.strokeStyle=i.$o,c(t,i.Xo),t.beginPath();for(var n=0,l=i.Zo;n<l.length;n++){var h=l[n],u=Math.round(h.Dn*e);t.moveTo(u,-r),t.lineTo(u,o+r)}t.stroke()}if(i.Jo){t.strokeStyle=i.Go,c(t,i.Qo),t.beginPath();for(var d=0,f=i.tl;d<f.length;d++){var p=f[d],v=Math.round(p.Dn*e);t.moveTo(-r,v),t.lineTo(a+r,v)}t.stroke()}}))}},t}(),ti=function(){function t(t){this.ot=new $e,this.B=!0,this.di=t}return t.prototype.O=function(){this.B=!0},t.prototype.R=function(t,e){if(this.B){var i=this.di.vt().ct().grid,n={st:t,ht:e,Jo:i.horzLines.visible,Ko:i.vertLines.visible,Go:i.horzLines.color,$o:i.vertLines.color,Qo:i.horzLines.style,Xo:i.vertLines.style,tl:this.di.Ai().En(),Zo:this.di.vt().U().En()||[]};this.ot._(n),this.B=!1}return this.ot},t}(),ei=function(){function t(t){this.Li=new ti(t)}return t.prototype.il=function(){return this.Li},t}(),ii=function(){function t(t,e){this.Hn=[],this.nl=new Map,this.Fn=0,this.Ks=0,this.hl=1e3,this.Yn=null,this.sl=new rt,this.rl=t,this.si=e,this.el=new ei(this);var i=e.ct();this.ul=this.al("left",i.leftPriceScale),this.ol=this.al("right",i.rightPriceScale),this.ul.bh().Ji(this.ll.bind(this,this.ul),this),this.ol.bh().Ji(this.ll.bind(this,this.ul),this),this.fl(i)}return t.prototype.fl=function(t){if(t.leftPriceScale&&this.ul.sh(t.leftPriceScale),t.rightPriceScale&&this.ol.sh(t.rightPriceScale),t.localization&&(this.ul.rh(),this.ol.rh()),t.overlayPriceScales)for(var e=0,i=Array.from(this.nl.values());e<i.length;e++){var n=b(i[e][0].$());n.sh(t.overlayPriceScales),t.localization&&n.rh()}},t.prototype.cl=function(t){switch(t){case"left":return this.ul;case"right":return this.ol}return this.nl.has(t)?v(this.nl.get(t))[0].$():null},t.prototype.en=function(){this.vt().vl().hn(this),this.ul.bh().hn(this),this.ol.bh().hn(this),this.Hn.forEach((function(t){t.en&&t.en()})),this.sl.sn()},t.prototype._l=function(){return this.hl},t.prototype.dl=function(t){this.hl=t},t.prototype.vt=function(){return this.si},t.prototype.wt=function(){return this.Ks},t.prototype.Mt=function(){return this.Fn},t.prototype.Ar=function(t){this.Ks=t,this.wl()},t.prototype.mh=function(t){var e=this;this.Fn=t,this.ul.mh(t),this.ol.mh(t),this.Hn.forEach((function(i){if(e.Vu(i)){var n=i.$();null!==n&&n.mh(t)}})),this.wl()},t.prototype.Fh=function(){return this.Hn},t.prototype.Vu=function(t){var e=t.$();return null===e||this.ul!==e&&this.ol!==e},t.prototype.Oh=function(t,e,i){var n=void 0!==i?i:this.bl().Ml+1;this.ml(t,e,n)},t.prototype.Ph=function(t){var e=this.Hn.indexOf(t);p(-1!==e,"removeDataSource: invalid data source"),this.Hn.splice(e,1);var i=b(t.$()).hh();if(this.nl.has(i)){var n=v(this.nl.get(i)),s=n.indexOf(t);-1!==s&&(n.splice(s,1),0===n.length&&this.nl.delete(i))}var r=t.$();r&&r.Fh().indexOf(t)>=0&&r.Ph(t),null!==r&&(r.zh(),this.pl(r)),this.Yn=null},t.prototype.Ou=function(t){return t===this.ul?"left":t===this.ol?"right":"overlay"},t.prototype.gl=function(){return this.ul},t.prototype.yl=function(){return this.ol},t.prototype.kl=function(t,e){t.Wh(e)},t.prototype.xl=function(t,e){t.Uh(e),this.wl()},t.prototype.Nl=function(t){t.jh()},t.prototype.Sl=function(t,e){t.qh(e)},t.prototype.Cl=function(t,e){t.Hh(e),this.wl()},t.prototype.Al=function(t){t.Yh()},t.prototype.wl=function(){this.Hn.forEach((function(t){t.Wi()}))},t.prototype.Ai=function(){var t=null;return this.si.ct().rightPriceScale.visible&&0!==this.ol.Fh().length?t=this.ol:this.si.ct().leftPriceScale.visible&&0!==this.ul.Fh().length?t=this.ul:0!==this.Hn.length&&(t=this.Hn[0].$()),null===t&&(t=this.ol),t},t.prototype.pl=function(t){null!==t&&t.oh()&&this.Dl(t)},t.prototype.Tl=function(t){var e=this.rl.br();t.eh({_h:!0}),null!==e&&t.Qh(e),this.wl()},t.prototype.Ll=function(){this.Dl(this.ul),this.Dl(this.ol)},t.prototype.Bl=function(){var t=this;this.pl(this.ul),this.pl(this.ol),this.Hn.forEach((function(e){t.Vu(e)&&t.pl(e.$())})),this.wl(),this.si.Or()},t.prototype.Vh=function(){return null===this.Yn&&(this.Yn=xt(this.Hn)),this.Yn},t.prototype.El=function(){return this.sl},t.prototype.Fl=function(){return this.el},t.prototype.Dl=function(t){var e=t.Gh();if(e&&e.length>0&&!this.rl.ti()){var i=this.rl.br();null!==i&&t.Qh(i)}t.Wi()},t.prototype.bl=function(){var t=this.Vh();if(0===t.length)return{Vl:0,Ml:0};for(var e=0,i=0,n=0;n<t.length;n++){var s=t[n].oi();null!==s&&(s<e&&(e=s),s>i&&(i=s))}return{Vl:e,Ml:i}},t.prototype.ml=function(t,e,i){var n=this.cl(e);if(null===n&&(n=this.al(e,this.si.ct().overlayPriceScales)),this.Hn.push(t),!qt(e)){var s=this.nl.get(e)||[];s.push(t),this.nl.set(e,s)}n.Oh(t),t.fi(n),t.li(i),this.pl(n),this.Yn=null},t.prototype.ll=function(t,e,i){e.uh!==i.uh&&this.Dl(t)},t.prototype.al=function(t,e){var i=d({visible:!0,autoScale:!0},A(e)),n=new Ct(t,i,this.si.ct().layout,this.si.ct().localization);return n.mh(this.Mt()),n},t}(),ni=function(t){function e(e){var i=t.call(this)||this;return i.Ol=new Map,i.tt=e,i}return u(e,t),e.prototype.u=function(t){},e.prototype.l=function(t){if(this.tt.q){t.save();for(var e=0,i=0,n=this.tt.zl;i<n.length;i++)if(0!==(c=n[i]).Ft.length){t.font=c.Nt;var s=this.Pl(t,c.Ft);s>this.tt.wt?c.qr=this.tt.wt/s:c.qr=1,e+=c.Rl*c.qr}var r=0;switch(this.tt.Il){case"top":r=0;break;case"center":r=Math.max((this.tt.Mt-e)/2,0);break;case"bottom":r=Math.max(this.tt.Mt-e,0)}t.fillStyle=this.tt.et;for(var o=0,a=this.tt.zl;o<a.length;o++){var c=a[o];t.save();var l=0;switch(this.tt.Wl){case"left":t.textAlign="left",l=c.Rl/2;break;case"center":t.textAlign="center",l=this.tt.wt/2;break;case"right":t.textAlign="right",l=this.tt.wt-1-c.Rl/2}t.translate(l,r),t.textBaseline="top",t.font=c.Nt,t.scale(c.qr,c.qr),t.fillText(c.Ft,0,c.Ul),t.restore(),r+=c.Rl*c.qr}t.restore()}},e.prototype.Pl=function(t,e){var i=this.jl(t.font),n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n},e.prototype.jl=function(t){var e=this.Ol.get(t);return void 0===e&&(e=new Map,this.Ol.set(t,e)),e},e}(C),si=function(){function t(t){this.B=!0,this.at={q:!1,et:"",Mt:0,wt:0,zl:[],Il:"center",Wl:"center"},this.ot=new ni(this.at),this.lt=t}return t.prototype.O=function(){this.B=!0},t.prototype.R=function(t,e){return this.B&&(this.I(t,e),this.B=!1),this.ot},t.prototype.I=function(t,e){var i=this.lt.ct(),n=this.at;n.q=i.visible,n.q&&(n.et=i.color,n.wt=e,n.Mt=t,n.Wl=i.horzAlign,n.Il=i.vertAlign,n.zl=[{Ft:i.text,Nt:Gt(i.fontSize,i.fontFamily,i.fontStyle),Rl:1.2*i.fontSize,Ul:0,qr:0}])},t}(),ri=function(t){function e(e,i){var n=t.call(this)||this;return n.Ni=i,n.Li=new si(n),n}return u(e,t),e.prototype.vi=function(){return[this.Li]},e.prototype.ct=function(){return this.Ni},e.prototype.Wi=function(){this.Li.O()},e}(tt),oi=function(){function t(t,e){this.ql=[],this.Hl=[],this.Ks=0,this.Yl=null,this.Kl=null,this.$l=new rt,this.Xl=new rt,this.Zl=null,this.Jl=t,this.Ni=e,this.Gl=new Wt(this),this.rl=new Ht(this,e.timeScale,this.Ni.localization),this.V=new et(this,e.crosshair),this.Ql=new Ze(e.crosshair),this.tf=new ri(this,e.watermark),this.if(),this.ql[0].dl(2e3),this.nf=this.hf(0),this.sf=this.hf(1)}return t.prototype.rf=function(){this.ef(new Vt(3))},t.prototype.Or=function(){this.ef(new Vt(2))},t.prototype.Io=function(){this.ef(new Vt(1))},t.prototype.Do=function(t){var e=this.uf(t);this.ef(e)},t.prototype.af=function(){return this.Kl},t.prototype.lf=function(t){var e=this.Kl;this.Kl=t,null!==e&&this.Do(e.ff),null!==t&&this.Do(t.ff)},t.prototype.ct=function(){return this.Ni},t.prototype.sh=function(t){j(this.Ni,t),this.ql.forEach((function(e){return e.fl(t)})),void 0!==t.timeScale&&this.rl.sh(t.timeScale),void 0!==t.localization&&this.rl.lr(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.$l.sn(),this.nf=this.hf(0),this.sf=this.hf(1),this.rf()},t.prototype.cf=function(t,e){var i=this.vf(t);null!==i&&(i.$.sh(e),this.$l.sn())},t.prototype.vf=function(t){for(var e=0,i=this.ql;e<i.length;e++){var n=i[e],s=n.cl(t);if(null!==s)return{ft:n,$:s}}return null},t.prototype.U=function(){return this.rl},t.prototype._f=function(){return this.ql},t.prototype.df=function(){return this.tf},t.prototype.wf=function(){return this.V},t.prototype.Mf=function(){return this.Xl},t.prototype.bf=function(t,e){t.mh(e),this.Vr()},t.prototype.Ar=function(t){this.Ks=t,this.rl.Ar(this.Ks),this.ql.forEach((function(e){return e.Ar(t)})),this.Vr()},t.prototype.if=function(t){var e=new ii(this.rl,this);void 0!==t?this.ql.splice(t,0,e):this.ql.push(e);var i=void 0===t?this.ql.length-1:t,n=new Vt(3);return n.be(i,{me:0,_h:!0}),this.ef(n),e},t.prototype.kl=function(t,e,i){t.kl(e,i)},t.prototype.xl=function(t,e,i){t.xl(e,i),this.To(),this.ef(this.mf(t,2))},t.prototype.Nl=function(t,e){t.Nl(e),this.ef(this.mf(t,2))},t.prototype.Sl=function(t,e,i){e.oh()||t.Sl(e,i)},t.prototype.Cl=function(t,e,i){e.oh()||(t.Cl(e,i),this.To(),this.ef(this.mf(t,2)))},t.prototype.Al=function(t,e){e.oh()||(t.Al(e),this.ef(this.mf(t,2)))},t.prototype.Tl=function(t,e){t.Tl(e),this.ef(this.mf(t,2))},t.prototype.pf=function(t){this.rl.Wh(t)},t.prototype.gf=function(t,e){var i=this.U();if(!i.ti()&&0!==e){var n=i.wt();t=Math.max(1,Math.min(t,n)),i.qr(t,e),this.Vr()}},t.prototype.yf=function(t){this.kf(0),this.xf(t),this.Nf()},t.prototype.Sf=function(t){this.rl.Uh(t),this.Vr()},t.prototype.Cf=function(){this.rl.jh(),this.Or()},t.prototype.kf=function(t){this.Yl=t,this.rl.qh(t)},t.prototype.xf=function(t){var e=!1;return null!==this.Yl&&Math.abs(t-this.Yl)>20&&(this.Yl=null,e=!0),this.rl.Hh(t),this.Vr(),e},t.prototype.Nf=function(){this.rl.Yh(),this.Or(),this.Yl=null},t.prototype.P=function(){return this.Hl},t.prototype.Af=function(t,e,i){this.V.Bi(t,e);var n=NaN,s=this.rl.Er(t),r=this.rl.br();null!==r&&(s=Math.min(Math.max(r.ss(),s),r.rs()));var o=i.Ai(),a=o.H();null!==a&&(n=o.Di(e,a)),n=this.Ql.Yo(n,s,i),this.V.Oi(s,n,i),this.Io(),this.Xl.sn(this.V.W(),{x:t,y:e})},t.prototype.Df=function(){this.wf().Pi(),this.Io(),this.Xl.sn(null,null)},t.prototype.To=function(){var t=this.V.ft();if(null!==t){var e=this.V.Fi(),i=this.V.Vi();this.Af(e,i,t)}this.V.Wi()},t.prototype.Tf=function(t,e){var i=this.rl.ri(0);void 0!==e&&this.rl.O(e);var n=this.rl.ri(0),s=this.rl.Lr(),r=this.rl.br();if(null!==r&&null!==i&&null!==n){var o=r.Fs(s),a=i.As>n.As,c=null!==t&&t>s&&!a,l=o&&this.rl.ct().shiftVisibleRangeOnNewBar;if(c&&!l){var h=t-s;this.rl.wr(this.rl.Rr()-h)}}this.rl.jr(t)},t.prototype.Fo=function(t){null!==t&&t.Bl()},t.prototype.Fu=function(t){var e=this.ql.find((function(e){return e.Vh().includes(t)}));return void 0===e?null:e},t.prototype.Vr=function(){this.tf.Wi(),this.ql.forEach((function(t){return t.Bl()})),this.To()},t.prototype.en=function(){this.ql.forEach((function(t){return t.en()})),this.ql.length=0,this.Ni.localization.priceFormatter=void 0,this.Ni.localization.timeFormatter=void 0},t.prototype.Lf=function(){return this.Gl},t.prototype.zu=function(){return this.Gl.ct()},t.prototype.vl=function(){return this.$l},t.prototype.Bf=function(t,e){var i=this.ql[0],n=this.Ef(e,t,i);return this.Hl.push(n),1===this.Hl.length?this.rf():this.Or(),n},t.prototype.Ff=function(t){var e=this.Fu(t),i=this.Hl.indexOf(t);p(-1!==i,"Series not found"),this.Hl.splice(i,1),b(e).Ph(t),t.en&&t.en()},t.prototype.Ao=function(t,e){var i=b(this.Fu(t));i.Ph(t);var n=this.vf(e);if(null===n){var s=t.oi();i.Oh(t,e,s)}else s=n.ft===i?t.oi():void 0,n.ft.Oh(t,e,s)},t.prototype.Qr=function(){var t=new Vt(2);t.ye(),this.ef(t)},t.prototype.Vf=function(t){var e=new Vt(2);e.xe(t),this.ef(e)},t.prototype.Ne=function(){var t=new Vt(2);t.Ne(),this.ef(t)},t.prototype.dr=function(t){var e=new Vt(2);e.dr(t),this.ef(e)},t.prototype.wr=function(t){var e=new Vt(2);e.wr(t),this.ef(e)},t.prototype.Of=function(){return this.Ni.rightPriceScale.visible?"right":"left"},t.prototype.zf=function(){return this.sf},t.prototype.Pf=function(){return this.nf},t.prototype.J=function(t){var e=this.sf,i=this.nf;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Zl||this.Zl.Ee!==i||this.Zl.Fe!==e)this.Zl={Ee:i,Fe:e,Rf:new Map};else{var n=this.Zl.Rf.get(t);if(void 0!==n)return n}var s=function(t,e,i){var n=H(t),s=n[0],r=n[1],o=n[2],a=n[3],c=H(e),l=c[0],h=c[1],u=c[2],d=c[3],f=[B(s+i*(l-s)),B(r+i*(h-r)),B(o+i*(u-o)),R(a+i*(d-a))];return"rgba("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"}(i,e,t/100);return this.Zl.Rf.set(t,s),s},t.prototype.mf=function(t,e){var i=new Vt(e);if(null!==t){var n=this.ql.indexOf(t);i.be(n,{me:e})}return i},t.prototype.uf=function(t,e){return void 0===e&&(e=2),this.mf(this.Fu(t),e)},t.prototype.ef=function(t){this.Jl&&this.Jl(t),this.ql.forEach((function(t){return t.Fl().il().O()}))},t.prototype.Ef=function(t,e,i){var n=new Ke(this,t,e),s=void 0!==t.priceScaleId?t.priceScaleId:this.Of();return i.Oh(n,s),qt(s)||n.sh(t),n},t.prototype.hf=function(t){var e=this.Ni.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color},t}(),ai=function(){function t(t,e){this.ht=t,this.st=e}return t.prototype.on=function(t){return this.ht===t.ht&&this.st===t.st},t}();function ci(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||1}function li(t){var e=b(t.getContext("2d"));return e.setTransform(1,0,0,1,0,0),e}function hi(t,e){var i=t.createElement("canvas"),n=ci(i);return i.style.width=e.ht+"px",i.style.height=e.st+"px",i.width=e.ht*n,i.height=e.st*n,i}function ui(t,e){var i=b(t.ownerDocument).createElement("canvas");t.appendChild(i);var s,r=(void 0===s&&(s=n),new a(i,s));return r.resizeCanvas({width:e.ht,height:e.st}),r}function di(t,e){return t.If-e.If}function fi(t,e,i){var n=(t.If-e.If)/(t.C-e.C);return Math.sign(n)*Math.min(Math.abs(n),i)}var pi=function(){function t(t,e,i,n){this.Wf=null,this.Uf=null,this.jf=null,this.qf=null,this.Hf=null,this.Yf=0,this.Kf=0,this.$f=!1,this.Xf=t,this.Zf=e,this.Jf=i,this.Yi=n}return t.prototype.Gf=function(t,e){if(null!==this.Wf){if(this.Wf.C===e)return void(this.Wf.If=t);if(Math.abs(this.Wf.If-t)<this.Yi)return}this.qf=this.jf,this.jf=this.Uf,this.Uf=this.Wf,this.Wf={C:e,If:t}},t.prototype.Yu=function(t,e){if(null!==this.Wf&&null!==this.Uf&&!(e-this.Wf.C>50)){var i=0,n=fi(this.Wf,this.Uf,this.Zf),s=di(this.Wf,this.Uf),r=[n],o=[s];if(i+=s,null!==this.jf){var a=fi(this.Uf,this.jf,this.Zf);if(Math.sign(a)===Math.sign(n)){var c=di(this.Uf,this.jf);if(r.push(a),o.push(c),i+=c,null!==this.qf){var l=fi(this.jf,this.qf,this.Zf);if(Math.sign(l)===Math.sign(n)){var h=di(this.jf,this.qf);r.push(l),o.push(h),i+=h}}}}for(var u,d,f,p=0,v=0;v<r.length;++v)p+=o[v]/i*r[v];Math.abs(p)<this.Xf||(this.Hf={If:t,C:e},this.Kf=p,this.Yf=(u=Math.abs(p),d=this.Jf,f=Math.log(d),Math.log(1*f/-u)/f))}},t.prototype.Qf=function(t){var e=b(this.Hf),i=t-e.C;return e.If+this.Kf*(Math.pow(this.Jf,i)-1)/Math.log(this.Jf)},t.prototype.tc=function(t){return null===this.Hf||this.ic(t)===this.Yf},t.prototype.nc=function(){return this.$f},t.prototype.hc=function(){this.$f=!0},t.prototype.ic=function(t){var e=t-b(this.Hf).C;return Math.min(e,this.Yf)},t}(),vi="undefined"!=typeof window,bi=function(){if(!vi)return!1;var t=!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints||!!vi&&("ontouchstart"in window||Boolean(window.DocumentTouch&&document instanceof window.DocumentTouch));return"onorientationchange"in window&&t}(),mi=function(){if(!vi)return!1;var t=/Android/i.test(navigator.userAgent),e=/iPhone|iPad|iPod|AppleWebKit.+Mobile/i.test(navigator.userAgent);return t||e}(),ji=function(){function t(t,e,i){this.sc=0,this.rc=null,this.ec=null,this.uc=!1,this.ac=null,this.oc=!1,this.lc=!1,this.fc=null,this.cc=null,this.vc=null,this._c=null,this.dc=0,this.wc=!1,this.Mc=!1,this.bc=!1,this.mc=t,this.gc=e,this.Ni=i,this.yc()}return t.prototype.en=function(){null!==this.fc&&(this.fc(),this.fc=null),null!==this.cc&&(this.cc(),this.cc=null),null!==this.vc&&(this.vc(),this.vc=null),this.kc(),this.xc()},t.prototype.Nc=function(t){var e=this;this.cc&&this.cc();var i=this.Sc.bind(this);this.cc=function(){e.mc.removeEventListener("mousemove",i)},this.mc.addEventListener("mousemove",i),Oi(t)&&this.Sc(t);var n=this.Cc(t);this.Ac(n,this.gc.Dc)},t.prototype.xc=function(){null!==this.rc&&clearTimeout(this.rc),this.sc=0,this.rc=null},t.prototype.Sc=function(t){if(!this.bc||Oi(t)){var e=this.Cc(t);this.Ac(e,this.gc.Tc)}},t.prototype.Lc=function(t){if((!("button"in t)||0===t.button)&&null===this._c){var e=Oi(t);if(!this.Mc||!e){this.wc=!0;var i=this.Cc(t),n=m(this.ac),s=Math.abs(n.p-i.Bc),r=Math.abs(n.g-i.Ec),o=s+r>5;if(o||!e){if(o&&!this.oc&&e){var a=.5*s,c=r>=a&&!this.Ni.Fc,l=a>r&&!this.Ni.Vc;c||l||(this.Mc=!0)}o&&(this.oc=!0,this.lc=!0,e&&this.kc()),this.Mc||(this.Ac(i,this.gc.Oc),e&&xi(t))}}}},t.prototype.zc=function(t){if(!("button"in t)||0===t.button){var e=this.Cc(t);this.kc(),this.ac=null,this.bc=!1,this.vc&&(this.vc(),this.vc=null),Oi(t)&&this.Pc(t),this.Ac(e,this.gc.Rc),++this.sc,this.rc&&this.sc>1?(this.Ac(e,this.gc.Ic),this.xc()):this.lc||this.Ac(e,this.gc.Wc),Oi(t)&&(xi(t),this.Pc(t),0===t.touches.length&&(this.uc=!1))}},t.prototype.kc=function(){null!==this.ec&&(clearTimeout(this.ec),this.ec=null)},t.prototype.Uc=function(t){if(!("button"in t)||0===t.button){var e=this.Cc(t);this.lc=!1,this.oc=!1,this.Mc=!1,Oi(t)&&this.Nc(t),this.ac={p:e.Bc,g:e.Ec},this.vc&&(this.vc(),this.vc=null);var i=this.Lc.bind(this),n=this.zc.bind(this),s=this.mc.ownerDocument.documentElement;this.vc=function(){s.removeEventListener("touchmove",i),s.removeEventListener("touchend",n),s.removeEventListener("mousemove",i),s.removeEventListener("mouseup",n)},s.addEventListener("touchmove",i,{passive:!1}),s.addEventListener("touchend",n,{passive:!1}),this.kc(),Oi(t)&&1===t.touches.length?this.ec=setTimeout(this.jc.bind(this,t),240):(s.addEventListener("mousemove",i),s.addEventListener("mouseup",n)),this.bc=!0,this.Ac(e,this.gc.qc),this.rc||(this.sc=0,this.rc=setTimeout(this.xc.bind(this),500))}},t.prototype.yc=function(){var t=this;this.mc.addEventListener("mouseenter",this.Nc.bind(this)),this.mc.addEventListener("touchcancel",this.kc.bind(this));var e=this.mc.ownerDocument,i=function(e){t.gc.Hc&&(e.composed&&t.mc.contains(e.composedPath()[0])||e.target&&t.mc.contains(e.target)||t.gc.Hc())};this.fc=function(){e.removeEventListener("mousedown",i),e.removeEventListener("touchstart",i)},e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!0}),this.mc.addEventListener("mouseleave",this.Pc.bind(this)),this.mc.addEventListener("touchstart",this.Uc.bind(this),{passive:!0}),bi||this.mc.addEventListener("mousedown",this.Uc.bind(this)),this.Yc(),this.mc.addEventListener("touchmove",(function(){}),{passive:!1})},t.prototype.Yc=function(){var t=this;void 0===this.gc.Kc&&void 0===this.gc.$c&&void 0===this.gc.Xc||(this.mc.addEventListener("touchstart",(function(e){return t.Zc(e.touches)}),{passive:!0}),this.mc.addEventListener("touchmove",(function(e){if(2===e.touches.length&&null!==t._c&&void 0!==t.gc.$c){var i=yi(e.touches[0],e.touches[1])/t.dc;t.gc.$c(t._c,i),xi(e)}}),{passive:!1}),this.mc.addEventListener("touchend",(function(e){t.Zc(e.touches)})))},t.prototype.Zc=function(t){1===t.length&&(this.wc=!1),2!==t.length||this.wc||this.uc?this.Jc():this.Gc(t)},t.prototype.Gc=function(t){var e=gi(this.mc);this._c={p:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,g:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.dc=yi(t[0],t[1]),void 0!==this.gc.Kc&&this.gc.Kc(),this.kc()},t.prototype.Jc=function(){null!==this._c&&(this._c=null,void 0!==this.gc.Xc&&this.gc.Xc())},t.prototype.Pc=function(t){this.cc&&this.cc();var e=this.Cc(t);this.Ac(e,this.gc.Qc)},t.prototype.jc=function(t){var e=this.Cc(t);this.Ac(e,this.gc.tv),this.lc=!0,this.uc=!0},t.prototype.Ac=function(t,e){e&&e.call(this.gc,t)},t.prototype.Cc=function(t){var e;e="touches"in t&&t.touches.length?t.touches[0]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0]:t;var i=gi(this.mc);return{iv:e.clientX,nv:e.clientY,Bc:e.pageX,Ec:e.pageY,hv:e.screenX,sv:e.screenY,rv:e.clientX-i.left,ev:e.clientY-i.top,uv:t.ctrlKey,av:t.altKey,ov:t.shiftKey,lv:t.metaKey,ke:t.type.startsWith("mouse")?"mouse":"touch",fv:t.view}},t}();function gi(t){return t.getBoundingClientRect()||{left:0,top:0}}function yi(t,e){var i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function Oi(t){return Boolean(t.touches)}function xi(t){t.cancelable&&t.preventDefault()}var Ai=function(){function t(t,e,i,n){this.Tu=new je(200),this.fe=0,this.cv="",this.oa="",this.Su=[],this.vv=new Map,this.fe=t,this.cv=e,this.oa=Gt(t,i,n)}return t.prototype.en=function(){this.Tu.Cu(),this.Su=[],this.vv.clear()},t.prototype._v=function(t,e,i,n,s){var r=this.dv(t,e);if("left"!==s){var o=ci(t.canvas);i-=Math.floor(r.wv*o)}n-=Math.floor(r.Mt/2),t.drawImage(r.Mv,i,n,r.wt,r.Mt)},t.prototype.dv=function(t,e){var i,n=this;if(this.vv.has(e))i=v(this.vv.get(e));else{if(this.Su.length>=200){var s=v(this.Su.shift());this.vv.delete(s)}var r=ci(t.canvas),o=Math.ceil(this.fe/4.5),a=Math.round(this.fe/10),c=Math.ceil(this.Tu.Vt(t,e)),l=ht(Math.round(c+2*o)),h=ht(this.fe+2*o),u=hi(document,new ai(l,h));i={Ft:e,wv:Math.round(Math.max(1,c)),wt:Math.ceil(l*r),Mt:Math.ceil(h*r),Mv:u},0!==c&&(this.Su.push(i.Ft),this.vv.set(i.Ft,i)),U(t=li(i.Mv),r,(function(){t.font=n.oa,t.fillStyle=n.cv,t.fillText(e,0,h-o-a)}))}return i},t}(),wi=function(){function t(t,e,i,n){var s=this;this.Gt=null,this.bv=null,this.mv=null,this.pv=!1,this.gv=new je(50),this.yv=new Ai(11,"#000"),this.cv=null,this.oa=null,this.kv=0,this.xv=function(){s.Nv(s.Gl.ct()),s.di.Sv().vt().Or()},this.Cv=function(){s.di.Sv().vt().Or()},this.di=t,this.Ni=e,this.Gl=i,this.Av="left"===n,this.Dv=document.createElement("div"),this.Dv.style.height="100%",this.Dv.style.overflow="hidden",this.Dv.style.width="25px",this.Dv.style.left="0",this.Dv.style.position="relative",this.Tv=ui(this.Dv,new ai(16,16)),this.Tv.subscribeCanvasConfigured(this.xv);var r=this.Tv.canvas;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Lv=ui(this.Dv,new ai(16,16)),this.Lv.subscribeCanvasConfigured(this.Cv);var o=this.Lv.canvas;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";var a={qc:this.Bv.bind(this),Oc:this.Ev.bind(this),Hc:this.Fv.bind(this),Rc:this.Vv.bind(this),Ic:this.Ov.bind(this),Dc:this.zv.bind(this),Qc:this.Pv.bind(this)};this.Rv=new ji(this.Lv.canvas,a,{Fc:!1,Vc:!0})}return t.prototype.en=function(){this.Rv.en(),this.Lv.unsubscribeCanvasConfigured(this.Cv),this.Lv.destroy(),this.Tv.unsubscribeCanvasConfigured(this.xv),this.Tv.destroy(),null!==this.Gt&&this.Gt.Ih().hn(this),this.Gt=null,null!==this.mv&&(clearTimeout(this.mv),this.mv=null),this.yv.en()},t.prototype.Iv=function(){return this.Dv},t.prototype.S=function(){return b(this.Gt).ct().borderColor},t.prototype.Wv=function(){return this.Ni.textColor},t.prototype.zt=function(){return this.Ni.fontSize},t.prototype.Uv=function(){return Gt(this.zt(),this.Ni.fontFamily)},t.prototype.jv=function(){var t=this.Gl.ct(),e=this.cv!==t.et,i=this.oa!==t.Nt;return(e||i)&&(this.Nv(t),this.cv=t.et),i&&(this.gv.Cu(),this.oa=t.Nt),t},t.prototype.qv=function(){if(null===this.Gt)return 0;var t=34,e=this.jv(),i=li(this.Tv.canvas),n=this.Gt.En();i.font=this.Uv(),n.length>0&&(t=Math.max(this.gv.Vt(i,n[0].Tn),this.gv.Vt(i,n[n.length-1].Tn)));for(var s=this.Hv(),r=s.length;r--;){var o=this.gv.Vt(i,s[r].Ft());o>t&&(t=o)}var a=this.Gt.H();if(null!==a&&null!==this.bv){var c=this.Gt.Di(1,a),l=this.Gt.Di(this.bv.st-2,a);t=Math.max(t,this.gv.Vt(i,this.Gt.ii(Math.floor(Math.min(c,l))+.11111111111111,a)),this.gv.Vt(i,this.Gt.ii(Math.ceil(Math.max(c,l))-.11111111111111,a)))}var h=Math.ceil(e.Dt+e.At+e.Bt+e.Et+t);return h+h%2},t.prototype.Yv=function(t){if(t.ht<0||t.st<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.bv&&this.bv.on(t)||(this.bv=t,this.Tv.resizeCanvas({width:t.ht,height:t.st}),this.Lv.resizeCanvas({width:t.ht,height:t.st}),this.Dv.style.width=t.ht+"px",this.Dv.style.height=t.st+"px",this.Dv.style.minWidth=t.ht+"px")},t.prototype.Kv=function(){return b(this.bv).ht},t.prototype.fi=function(t){this.Gt!==t&&(null!==this.Gt&&this.Gt.Ih().hn(this),this.Gt=t,t.Ih().Ji(this.jn.bind(this),this))},t.prototype.$=function(){return this.Gt},t.prototype.Cu=function(){var t=this.di.$v();this.di.Sv().vt().Tl(t,b(this.$()))},t.prototype.Xv=function(t){if(null!==this.bv){if(1!==t){var e=li(this.Tv.canvas);this.Zv(),this.Jv(e,this.Tv.pixelRatio),this.vu(e,this.Tv.pixelRatio),this.Gv(e,this.Tv.pixelRatio),this.Qv(e,this.Tv.pixelRatio)}var i=li(this.Lv.canvas),n=this.bv.ht,s=this.bv.st;U(i,this.Lv.pixelRatio,(function(){i.clearRect(0,0,n,s)})),this.t_(i,this.Lv.pixelRatio)}},t.prototype.i_=function(){return this.Tv.canvas},t.prototype.Bv=function(t){if(null!==this.Gt&&!this.Gt.ti()&&this.di.Sv().ct().handleScale.axisPressedMouseMove.price){var e=this.di.Sv().vt(),i=this.di.$v();this.pv=!0,e.kl(i,this.Gt,t.ev)}},t.prototype.Ev=function(t){if(null!==this.Gt&&this.di.Sv().ct().handleScale.axisPressedMouseMove.price){var e=this.di.Sv().vt(),i=this.di.$v(),n=this.Gt;e.xl(i,n,t.ev)}},t.prototype.Fv=function(){if(null!==this.Gt&&this.di.Sv().ct().handleScale.axisPressedMouseMove.price){var t=this.di.Sv().vt(),e=this.di.$v(),i=this.Gt;this.pv&&(this.pv=!1,t.Nl(e,i))}},t.prototype.Vv=function(t){if(null!==this.Gt&&this.di.Sv().ct().handleScale.axisPressedMouseMove.price){var e=this.di.Sv().vt(),i=this.di.$v();this.pv=!1,e.Nl(i,this.Gt)}},t.prototype.Ov=function(t){this.di.Sv().ct().handleScale.axisDoubleClickReset&&this.Cu()},t.prototype.zv=function(t){null!==this.Gt&&(!this.di.Sv().vt().ct().handleScale.axisPressedMouseMove.price||this.Gt.lh()||this.Gt.fh()||this.n_(1))},t.prototype.Pv=function(t){this.n_(0)},t.prototype.Hv=function(){var t=this,e=[],i=null===this.Gt?void 0:this.Gt;return function(n){for(var s=0;s<n.length;++s)for(var r=n[s].ci(t.di.$v(),i),o=0;o<r.length;o++)e.push(r[o])}(this.di.$v().Vh()),e},t.prototype.Jv=function(t,e){var i=this;if(null!==this.bv){var n=this.bv.ht,s=this.bv.st;U(t,e,(function(){var e=i.di.$v().vt(),r=e.Pf(),o=e.zf();r===o?G(t,0,0,n,s,r):W(t,0,0,n,s,r,o)}))}},t.prototype.vu=function(t,e){if(null!==this.bv&&null!==this.Gt&&this.Gt.ct().borderVisible){t.save(),t.fillStyle=this.S();var i,n=Math.max(1,Math.floor(this.jv().Dt*e));i=this.Av?Math.floor(this.bv.ht*e)-n:0,t.fillRect(i,0,n,Math.ceil(this.bv.st*e)),t.restore()}},t.prototype.Gv=function(t,e){if(null!==this.bv&&null!==this.Gt){var i=this.Gt.En();t.save(),t.strokeStyle=this.S(),t.font=this.Uv(),t.fillStyle=this.S();var n=this.jv(),s=this.Gt.ct().borderVisible&&this.Gt.ct().drawTicks,r=this.Av?Math.floor((this.bv.ht-n.At)*e-n.Dt*e):Math.floor(n.Dt*e),o=this.Av?Math.round(r-n.Bt*e):Math.round(r+n.At*e+n.Bt*e),a=this.Av?"right":"left",c=Math.max(1,Math.floor(e)),l=Math.floor(.5*e);if(s){var h=Math.round(n.At*e);t.beginPath();for(var u=0,d=i;u<d.length;u++){var f=d[u];t.rect(r,Math.round(f.Dn*e)-l,h,c)}t.fill()}t.fillStyle=this.Wv();for(var p=0,v=i;p<v.length;p++)f=v[p],this.yv._v(t,f.Tn,o,Math.round(f.Dn*e),a);t.restore()}},t.prototype.Zv=function(){if(null!==this.bv&&null!==this.Gt){var t=this.bv.st/2,e=[],i=this.Gt.Vh().slice(),n=this.di.$v(),s=this.jv();this.Gt===n.Ai()&&this.di.$v().Vh().forEach((function(t){n.Vu(t)&&i.push(t)}));var r=this.Gt.Fh()[0],o=this.Gt;i.forEach((function(i){var s=i.ci(n,o);s.forEach((function(t){t.Kt(null),t.$t()&&e.push(t)})),r===i&&s.length>0&&(t=s[0].Pt())}));var a=e.filter((function(e){return e.Pt()<=t})),c=e.filter((function(e){return e.Pt()>t}));if(a.sort((function(t,e){return e.Pt()-t.Pt()})),a.length&&c.length&&c.push(a[0]),c.sort((function(t,e){return t.Pt()-e.Pt()})),e.forEach((function(t){return t.Kt(t.Pt())})),this.Gt.ct().alignLabels){for(var l=1;l<a.length;l++){var h=a[l],u=(f=a[l-1]).Mt(s,!1);h.Pt()>(p=f.Yt())-u&&h.Kt(p-u)}for(var d=1;d<c.length;d++){var f,p;h=c[d],u=(f=c[d-1]).Mt(s,!0),h.Pt()<(p=f.Yt())+u&&h.Kt(p+u)}}}},t.prototype.Qv=function(t,e){var i=this;if(null!==this.bv){t.save();var n=this.bv,s=this.Hv(),r=this.jv(),o=this.Av?"right":"left";s.forEach((function(s){if(s.Xt()){var a=s.R(b(i.Gt));t.save(),a.h(t,r,i.gv,n.ht,o,e),t.restore()}})),t.restore()}},t.prototype.t_=function(t,e){var i=this;if(null!==this.bv&&null!==this.Gt){t.save();var n=this.bv,s=this.di.Sv().vt(),r=[],o=this.di.$v(),a=s.wf().ci(o,this.Gt);a.length&&r.push(a);var c=this.jv(),l=this.Av?"right":"left";r.forEach((function(s){s.forEach((function(s){t.save(),s.R(b(i.Gt)).h(t,c,i.gv,n.ht,l,e),t.restore()}))})),t.restore()}},t.prototype.n_=function(t){this.Dv.style.cursor=1===t?"ns-resize":"default"},t.prototype.jn=function(){var t=this,e=this.qv();if(this.kv<e){var i=this.di.Sv();null===this.mv&&(this.mv=setTimeout((function(){i&&i.vt().rf(),t.mv=null}),100))}this.kv=e},t.prototype.Nv=function(t){this.yv.en(),this.yv=new Ai(t.zt,t.et,t.le)},t}(),Ni=mi;function Mi(t,e,i,n,s){t.o&&t.o(e,i,n,s)}function Ci(t,e,i,n,s){t.h(e,i,n,s)}function Si(t,e){return t.vi(e)}function ki(t,e){return void 0!==t.Ro?t.Ro(e):[]}var _i=function(){function t(t,e){var i=this;this.bv=new ai(0,0),this.h_=null,this.s_=null,this.r_=null,this.e_=!1,this.u_=new rt,this.a_=0,this.o_=!1,this.l_=null,this.f_=!1,this.c_=null,this.v_=null,this.xv=function(){return i.__&&i.si().Or()},this.Cv=function(){return i.__&&i.si().Or()},this.d_=t,this.__=e,this.__.El().Ji(this.w_.bind(this),this,!0),this.M_=document.createElement("td"),this.M_.style.padding="0",this.M_.style.position="relative";var n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.b_=document.createElement("td"),this.b_.style.padding="0",this.m_=document.createElement("td"),this.m_.style.padding="0",this.M_.appendChild(n),this.Tv=ui(n,new ai(16,16)),this.Tv.subscribeCanvasConfigured(this.xv);var s=this.Tv.canvas;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Lv=ui(n,new ai(16,16)),this.Lv.subscribeCanvasConfigured(this.Cv);var r=this.Lv.canvas;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.p_=document.createElement("tr"),this.p_.appendChild(this.b_),this.p_.appendChild(this.M_),this.p_.appendChild(this.m_),this.g_();var o=this.Sv().ct().handleScroll;this.Rv=new ji(this.Lv.canvas,this,{Fc:!o.vertTouchDrag,Vc:!o.horzTouchDrag})}return t.prototype.en=function(){null!==this.h_&&this.h_.en(),null!==this.s_&&this.s_.en(),this.Lv.unsubscribeCanvasConfigured(this.Cv),this.Lv.destroy(),this.Tv.unsubscribeCanvasConfigured(this.xv),this.Tv.destroy(),null!==this.__&&this.__.El().hn(this),this.Rv.en()},t.prototype.$v=function(){return b(this.__)},t.prototype.y_=function(e){null!==this.__&&this.__.El().hn(this),this.__=e,null!==this.__&&this.__.El().Ji(t.prototype.w_.bind(this),this,!0),this.g_()},t.prototype.Sv=function(){return this.d_},t.prototype.Iv=function(){return this.p_},t.prototype.g_=function(){if(null!==this.__&&(this.k_(),0!==this.si().P().length)){if(null!==this.h_){var t=this.__.gl();this.h_.fi(b(t))}if(null!==this.s_){var e=this.__.yl();this.s_.fi(b(e))}}},t.prototype._l=function(){return null!==this.__?this.__._l():0},t.prototype.dl=function(t){this.__&&this.__.dl(t)},t.prototype.Dc=function(t){if(this.__){var e=t.rv,i=t.ev;bi||this.x_(e,i)}},t.prototype.qc=function(t){if(this.o_=!1,this.f_=null!==this.l_,this.__){if(this.N_(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)b(document.activeElement).blur();else{var e=document.getSelection();null!==e&&e.removeAllRanges()}var i=this.si();if(!this.__.Ai().ti()&&!i.U().ti()){if(null!==this.l_){var n=i.wf();this.c_={x:n.bt(),y:n.gt()},this.l_={x:t.rv,y:t.ev}}bi||this.x_(t.rv,t.ev)}}},t.prototype.Tc=function(t){if(this.__){var e=t.rv,i=t.ev;if(this.S_()&&this.C_(),!bi){this.x_(e,i);var n=this.la(e,i);this.si().lf(n&&{ff:n.ff,A_:n.A_}),null!==n&&void 0!==n.fv.D_&&n.fv.D_(e,i)}}},t.prototype.Wc=function(t){if(null!==this.__){var e=t.rv,i=t.ev,n=this.la(e,i);if(null!==n&&void 0!==n.fv.T_&&n.fv.T_(e,i),this.u_.rn()){var s=this.si().wf().W();this.u_.sn(s,{x:e,y:i})}this.L_()}},t.prototype.Oc=function(t){if(null!==this.__){var e=this.si(),i=t.rv,n=t.ev;if(null!==this.l_){this.f_=!1;var s=b(this.c_),r=s.x+(i-this.l_.x),o=s.y+(n-this.l_.y);this.x_(r,o)}else this.S_()||this.x_(i,n);if(!e.U().ti()){var a=this.d_.ct(),c=a.handleScroll,l=a.kineticScroll;if(c.pressedMouseMove&&"touch"!==t.ke||(c.horzTouchDrag||c.vertTouchDrag)&&"mouse"!==t.ke){var h=this.__.Ai(),u=performance.now();null!==this.r_||this.B_()||(this.r_={x:t.iv,y:t.nv,As:u,rv:t.rv,ev:t.ev}),null!==this.v_&&this.v_.Gf(t.rv,u),null===this.r_||this.e_||this.r_.x===t.iv&&this.r_.y===t.nv||(null===this.v_&&("touch"===t.ke&&l.touch||"mouse"===t.ke&&l.mouse)&&(this.v_=new pi(.2,7,.997,15),this.v_.Gf(this.r_.rv,this.r_.As),this.v_.Gf(t.rv,u)),h.ti()||e.Sl(this.__,h,t.ev),e.kf(t.rv),this.e_=!0),this.e_&&(h.ti()||e.Cl(this.__,h,t.ev),e.xf(t.rv))}}}},t.prototype.Rc=function(t){null!==this.__&&(this.o_=!1,this.E_(t))},t.prototype.tv=function(t){if(this.o_=!0,null===this.l_&&Ni){var e={x:t.rv,y:t.ev};this.F_(e,e)}},t.prototype.Qc=function(t){null!==this.__&&(this.__.vt().lf(null),mi||this.C_())},t.prototype.V_=function(){return this.u_},t.prototype.Kc=function(){this.a_=1,this.N_()},t.prototype.$c=function(t,e){if(this.d_.ct().handleScale.pinch){var i=5*(e-this.a_);this.a_=e,this.si().gf(t.p,i)}},t.prototype.la=function(t,e){var i=this.__;if(null===i)return null;for(var n=0,s=i.Vh();n<s.length;n++){var r=s[n],o=this.O_(r.vi(i),t,e);if(null!==o)return{ff:r,fv:o.fv,A_:o.A_}}return null},t.prototype.z_=function(t,e){b("left"===e?this.h_:this.s_).Yv(new ai(t,this.bv.st))},t.prototype.P_=function(){return this.bv},t.prototype.Yv=function(t){if(t.ht<0||t.st<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.bv.on(t)||(this.bv=t,this.Tv.resizeCanvas({width:t.ht,height:t.st}),this.Lv.resizeCanvas({width:t.ht,height:t.st}),this.M_.style.width=t.ht+"px",this.M_.style.height=t.st+"px")},t.prototype.R_=function(){var t=b(this.__);t.pl(t.gl()),t.pl(t.yl());for(var e=0,i=t.Fh();e<i.length;e++){var n=i[e];if(t.Vu(n)){var s=n.$();null!==s&&t.pl(s),n.Wi()}}},t.prototype.i_=function(){return this.Tv.canvas},t.prototype.Xv=function(t){if(0!==t&&null!==this.__){if(t>1&&this.R_(),null!==this.h_&&this.h_.Xv(t),null!==this.s_&&this.s_.Xv(t),1!==t){var e=li(this.Tv.canvas);e.save(),this.Jv(e,this.Tv.pixelRatio),this.__&&(this.I_(e,this.Tv.pixelRatio),this.W_(e,this.Tv.pixelRatio),this.U_(e,this.Tv.pixelRatio,Si)),e.restore()}var i=li(this.Lv.canvas);i.clearRect(0,0,Math.ceil(this.bv.ht*this.Lv.pixelRatio),Math.ceil(this.bv.st*this.Lv.pixelRatio)),this.U_(i,this.Tv.pixelRatio,ki),this.j_(i,this.Lv.pixelRatio)}},t.prototype.q_=function(){return this.h_},t.prototype.H_=function(){return this.s_},t.prototype.w_=function(){null!==this.__&&this.__.El().hn(this),this.__=null},t.prototype.Jv=function(t,e){var i=this;U(t,e,(function(){var e=i.si(),n=e.Pf(),s=e.zf();n===s?G(t,0,0,i.bv.ht,i.bv.st,s):W(t,0,0,i.bv.ht,i.bv.st,n,s)}))},t.prototype.I_=function(t,e){var i=b(this.__),n=i.Fl().il().R(i.Mt(),i.wt());null!==n&&(t.save(),n.h(t,e,!1),t.restore())},t.prototype.W_=function(t,e){var i=this.si().df();this.Y_(t,e,Si,Mi,i),this.Y_(t,e,Si,Ci,i)},t.prototype.j_=function(t,e){this.Y_(t,e,Si,Ci,this.si().wf())},t.prototype.U_=function(t,e,i){for(var n=b(this.__).Vh(),s=0,r=n;s<r.length;s++){var o=r[s];this.Y_(t,e,i,Mi,o)}for(var a=0,c=n;a<c.length;a++)o=c[a],this.Y_(t,e,i,Ci,o)},t.prototype.Y_=function(t,e,i,n,s){for(var r=b(this.__),o=i(s,r),a=r.Mt(),c=r.wt(),l=r.vt().af(),h=null!==l&&l.ff===s,u=null!==l&&h&&void 0!==l.A_?l.A_.fa:void 0,d=0,f=o;d<f.length;d++){var p=f[d].R(a,c);null!==p&&(t.save(),n(p,t,e,h,u),t.restore())}},t.prototype.O_=function(t,e,i){for(var n=0,s=t;n<s.length;n++){var r=s[n],o=r.R(this.bv.st,this.bv.ht);if(null!==o&&o.la){var a=o.la(e,i);if(null!==a)return{fv:r,A_:a}}}return null},t.prototype.k_=function(){if(null!==this.__){var t=this.d_;t.ct().leftPriceScale.visible||null===this.h_||(this.b_.removeChild(this.h_.Iv()),this.h_.en(),this.h_=null),t.ct().rightPriceScale.visible||null===this.s_||(this.m_.removeChild(this.s_.Iv()),this.s_.en(),this.s_=null);var e=t.vt().Lf();t.ct().leftPriceScale.visible&&null===this.h_&&(this.h_=new wi(this,t.ct().layout,e,"left"),this.b_.appendChild(this.h_.Iv())),t.ct().rightPriceScale.visible&&null===this.s_&&(this.s_=new wi(this,t.ct().layout,e,"right"),this.m_.appendChild(this.s_.Iv()))}},t.prototype.S_=function(){return Ni&&null===this.l_},t.prototype.B_=function(){return Ni&&this.o_||null!==this.l_},t.prototype.K_=function(t){return Math.max(0,Math.min(t,this.bv.ht-1))},t.prototype.X_=function(t){return Math.max(0,Math.min(t,this.bv.st-1))},t.prototype.x_=function(t,e){this.si().Af(this.K_(t),this.X_(e),b(this.__))},t.prototype.C_=function(){this.si().Df()},t.prototype.L_=function(){this.f_&&(this.l_=null,this.C_())},t.prototype.F_=function(t,e){this.l_=t,this.f_=!1,this.x_(e.x,e.y);var i=this.si().wf();this.c_={x:i.bt(),y:i.gt()}},t.prototype.si=function(){return this.d_.vt()},t.prototype.Z_=function(){var t=this.si(),e=this.$v(),i=e.Ai();t.Al(e,i),t.Nf(),this.r_=null,this.e_=!1},t.prototype.E_=function(t){var e=this;if(this.e_){var i=performance.now();if(null!==this.v_&&this.v_.Yu(t.rv,i),null===this.v_||this.v_.tc(i))this.Z_();else{var n=this.si(),s=n.U(),r=this.v_;requestAnimationFrame((function t(){if(!r.nc()){var i=performance.now(),o=r.tc(i);if(!r.nc()){var a=s.Rr();n.xf(r.Qf(i)),a===s.Rr()&&(o=!0,e.v_=null)}o?e.Z_():requestAnimationFrame(t)}}))}}},t.prototype.N_=function(){var t=performance.now(),e=null===this.v_||this.v_.tc(t);null!==this.v_&&(e||this.Z_()),null!==this.v_&&(this.v_.hc(),this.v_=null)},t}(),Di=function(){function t(t,e,i,n,s){var r=this;this.B=!0,this.bv=new ai(0,0),this.xv=function(){return r.Xv(3)},this.Av="left"===t,this.Gl=i.Lf,this.Ni=e,this.J_=n,this.G_=s,this.Dv=document.createElement("div"),this.Dv.style.width="25px",this.Dv.style.height="100%",this.Dv.style.overflow="hidden",this.Tv=ui(this.Dv,new ai(16,16)),this.Tv.subscribeCanvasConfigured(this.xv)}return t.prototype.en=function(){this.Tv.unsubscribeCanvasConfigured(this.xv),this.Tv.destroy()},t.prototype.Iv=function(){return this.Dv},t.prototype.P_=function(){return this.bv},t.prototype.Yv=function(t){if(t.ht<0||t.st<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.bv.on(t)||(this.bv=t,this.Tv.resizeCanvas({width:t.ht,height:t.st}),this.Dv.style.width=t.ht+"px",this.Dv.style.minWidth=t.ht+"px",this.Dv.style.height=t.st+"px",this.B=!0)},t.prototype.Xv=function(t){if((!(t<3)||this.B)&&0!==this.bv.ht&&0!==this.bv.st){this.B=!1;var e=li(this.Tv.canvas);this.Jv(e,this.Tv.pixelRatio),this.vu(e,this.Tv.pixelRatio)}},t.prototype.i_=function(){return this.Tv.canvas},t.prototype.vu=function(t,e){if(this.J_()){var i=this.bv.ht;t.save(),t.fillStyle=this.Ni.timeScale.borderColor;var n=Math.floor(this.Gl.ct().Dt*e),s=this.Av?Math.round(i*e)-n:0;t.fillRect(s,0,n,n),t.restore()}},t.prototype.Jv=function(t,e){var i=this;U(t,e,(function(){G(t,0,0,i.bv.ht,i.bv.st,i.G_())}))},t}();function Ii(t,e){return t.Rs>e.Rs?t:e}var Ti=function(){function t(t){var e=this;this.Q_=null,this.td=null,this.oe=null,this.nd=!1,this.bv=new ai(0,0),this.gv=new je(5),this.xv=function(){return e.d_.vt().Or()},this.Cv=function(){return e.d_.vt().Or()},this.d_=t,this.Ni=t.ct().layout,this.hd=document.createElement("tr"),this.sd=document.createElement("td"),this.sd.style.padding="0",this.rd=document.createElement("td"),this.rd.style.padding="0",this.Dv=document.createElement("td"),this.Dv.style.height="25px",this.Dv.style.padding="0",this.ed=document.createElement("div"),this.ed.style.width="100%",this.ed.style.height="100%",this.ed.style.position="relative",this.ed.style.overflow="hidden",this.Dv.appendChild(this.ed),this.Tv=ui(this.ed,new ai(16,16)),this.Tv.subscribeCanvasConfigured(this.xv);var i=this.Tv.canvas;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Lv=ui(this.ed,new ai(16,16)),this.Lv.subscribeCanvasConfigured(this.Cv);var n=this.Lv.canvas;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.hd.appendChild(this.sd),this.hd.appendChild(this.Dv),this.hd.appendChild(this.rd),this.ud(),this.d_.vt().vl().Ji(this.ud.bind(this),this),this.Rv=new ji(this.Lv.canvas,this,{Fc:!0,Vc:!1})}return t.prototype.en=function(){this.Rv.en(),null!==this.Q_&&this.Q_.en(),null!==this.td&&this.td.en(),this.Lv.unsubscribeCanvasConfigured(this.Cv),this.Lv.destroy(),this.Tv.unsubscribeCanvasConfigured(this.xv),this.Tv.destroy()},t.prototype.Iv=function(){return this.hd},t.prototype.ad=function(){return this.Q_},t.prototype.od=function(){return this.td},t.prototype.qc=function(t){if(!this.nd){this.nd=!0;var e=this.d_.vt();!e.U().ti()&&this.d_.ct().handleScale.axisPressedMouseMove.time&&e.pf(t.rv)}},t.prototype.Hc=function(){var t=this.d_.vt();!t.U().ti()&&this.nd&&(this.nd=!1,this.d_.ct().handleScale.axisPressedMouseMove.time&&t.Cf())},t.prototype.Oc=function(t){var e=this.d_.vt();!e.U().ti()&&this.d_.ct().handleScale.axisPressedMouseMove.time&&e.Sf(t.rv)},t.prototype.Rc=function(t){this.nd=!1;var e=this.d_.vt();e.U().ti()&&!this.d_.ct().handleScale.axisPressedMouseMove.time||e.Cf()},t.prototype.Ic=function(){this.d_.ct().handleScale.axisDoubleClickReset&&this.d_.vt().Ne()},t.prototype.Dc=function(t){this.d_.vt().ct().handleScale.axisPressedMouseMove.time&&this.n_(1)},t.prototype.Qc=function(t){this.n_(0)},t.prototype.P_=function(){return this.bv},t.prototype.ld=function(t,e,i){this.bv&&this.bv.on(t)||(this.bv=t,this.Tv.resizeCanvas({width:t.ht,height:t.st}),this.Lv.resizeCanvas({width:t.ht,height:t.st}),this.Dv.style.width=t.ht+"px",this.Dv.style.height=t.st+"px"),null!==this.Q_&&this.Q_.Yv(new ai(e,t.st)),null!==this.td&&this.td.Yv(new ai(i,t.st))},t.prototype.fd=function(){var t=this.vd();return Math.ceil(t.Dt+t.At+t.zt+t.Tt+t.Lt)},t.prototype.O=function(){this.d_.vt().U().En()},t.prototype.i_=function(){return this.Tv.canvas},t.prototype.Xv=function(t){if(0!==t){if(1!==t){var e=li(this.Tv.canvas);this.Jv(e,this.Tv.pixelRatio),this.vu(e,this.Tv.pixelRatio),this.Gv(e,this.Tv.pixelRatio),null!==this.Q_&&this.Q_.Xv(t),null!==this.td&&this.td.Xv(t)}var i=li(this.Lv.canvas),n=this.Lv.pixelRatio;i.clearRect(0,0,Math.ceil(this.bv.ht*n),Math.ceil(this.bv.st*n)),this._d([this.d_.vt().wf()],i,n)}},t.prototype.Jv=function(t,e){var i=this;U(t,e,(function(){G(t,0,0,i.bv.ht,i.bv.st,i.d_.vt().zf())}))},t.prototype.vu=function(t,e){if(this.d_.ct().timeScale.borderVisible){t.save(),t.fillStyle=this.dd();var i=Math.max(1,Math.floor(this.vd().Dt*e));t.fillRect(0,0,Math.ceil(this.bv.ht*e),i),t.restore()}},t.prototype.Gv=function(t,e){var i=this,n=this.d_.vt().U().En();if(n&&0!==n.length){var s=n.reduce(Ii,n[0]).Rs;s>30&&s<40&&(s=30),t.save(),t.strokeStyle=this.dd();var r=this.vd(),o=r.Dt+r.At+r.Tt+r.zt-r.Ot;t.textAlign="center",t.fillStyle=this.dd();var a=Math.floor(this.vd().Dt*e),c=Math.max(1,Math.floor(e)),l=Math.floor(.5*e);if(this.d_.vt().U().ct().borderVisible){t.beginPath();for(var h=Math.round(r.At*e),u=n.length;u--;){var d=Math.round(n[u].Dn*e);t.rect(d-l,a,c,h)}t.fill()}t.fillStyle=this.ve(),U(t,e,(function(){t.font=i.wd();for(var e=0,r=n;e<r.length;e++)if((h=r[e]).Rs<s){var a=h.Wr?i.Md(t,h.Dn,h.Tn):h.Dn;t.fillText(h.Tn,a,o)}t.font=i.bd();for(var c=0,l=n;c<l.length;c++){var h;(h=l[c]).Rs>=s&&(a=h.Wr?i.Md(t,h.Dn,h.Tn):h.Dn,t.fillText(h.Tn,a,o))}}))}},t.prototype.Md=function(t,e,i){var n=this.gv.Vt(t,i),s=n/2,r=Math.floor(e-s)+.5;return r<0?e+=Math.abs(0-r):r+n>this.bv.ht&&(e-=Math.abs(this.bv.ht-(r+n))),e},t.prototype._d=function(t,e,i){for(var n=this.vd(),s=0,r=t;s<r.length;s++)for(var o=0,a=r[s]._i();o<a.length;o++){var c=a[o];e.save(),c.R().h(e,n,i),e.restore()}},t.prototype.dd=function(){return this.d_.ct().timeScale.borderColor},t.prototype.ve=function(){return this.Ni.textColor},t.prototype.fe=function(){return this.Ni.fontSize},t.prototype.wd=function(){return Gt(this.fe(),this.Ni.fontFamily)},t.prototype.bd=function(){return Gt(this.fe(),this.Ni.fontFamily,"bold")},t.prototype.vd=function(){null===this.oe&&(this.oe={Dt:1,Ot:NaN,Tt:NaN,Lt:NaN,hi:NaN,At:3,zt:NaN,Nt:"",ni:new je});var t=this.oe,e=this.wd();if(t.Nt!==e){var i=this.fe();t.zt=i,t.Nt=e,t.Tt=Math.ceil(i/2.5),t.Lt=t.Tt,t.hi=Math.ceil(i/2),t.Ot=Math.round(this.fe()/5),t.ni.Cu()}return this.oe},t.prototype.n_=function(t){this.Dv.style.cursor=1===t?"ew-resize":"default"},t.prototype.ud=function(){var t=this.d_.vt(),e=t.ct();e.leftPriceScale.visible||null===this.Q_||(this.sd.removeChild(this.Q_.Iv()),this.Q_.en(),this.Q_=null),e.rightPriceScale.visible||null===this.td||(this.rd.removeChild(this.td.Iv()),this.td.en(),this.td=null);var i={Lf:this.d_.vt().Lf()},n=function(){return e.leftPriceScale.borderVisible&&t.U().ct().borderVisible},s=function(){return t.zf()};e.leftPriceScale.visible&&null===this.Q_&&(this.Q_=new Di("left",e,i,n,s),this.sd.appendChild(this.Q_.Iv())),e.rightPriceScale.visible&&null===this.td&&(this.td=new Di("right",e,i,n,s),this.rd.appendChild(this.td.Iv()))},t}(),Pi=function(){function t(t,e){var i;this.md=[],this.pd=0,this.Fn=0,this.Ks=0,this.gd=0,this.yd=0,this.kd=null,this.xd=!1,this.u_=new rt,this.Xl=new rt,this.Ni=e,this.hd=document.createElement("div"),this.hd.classList.add("tv-lightweight-charts"),this.hd.style.overflow="hidden",this.hd.style.width="100%",this.hd.style.height="100%",(i=this.hd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Nd=document.createElement("table"),this.Nd.setAttribute("cellspacing","0"),this.hd.appendChild(this.Nd),this.Sd=this.Cd.bind(this),this.hd.addEventListener("wheel",this.Sd,{passive:!1}),this.si=new oi(this.Jl.bind(this),this.Ni),this.vt().Mf().Ji(this.Ad.bind(this),this),this.Dd=new Ti(this),this.Nd.appendChild(this.Dd.Iv());var n=this.Ni.width,s=this.Ni.height;if(0===n||0===s){var r=t.getBoundingClientRect();0===n&&(n=Math.floor(r.width),n-=n%2),0===s&&(s=Math.floor(r.height),s-=s%2)}this.Td(n,s),this.Ld(),t.appendChild(this.hd),this.Bd(),this.si.U().Jr().Ji(this.si.rf.bind(this.si),this),this.si.vl().Ji(this.si.rf.bind(this.si),this)}return t.prototype.vt=function(){return this.si},t.prototype.ct=function(){return this.Ni},t.prototype.Ed=function(){return this.md},t.prototype.en=function(){this.hd.removeEventListener("wheel",this.Sd),0!==this.pd&&window.cancelAnimationFrame(this.pd),this.si.Mf().hn(this),this.si.U().Jr().hn(this),this.si.vl().hn(this),this.si.en();for(var t=0,e=this.md;t<e.length;t++){var i=e[t];this.Nd.removeChild(i.Iv()),i.V_().hn(this),i.en()}this.md=[],b(this.Dd).en(),null!==this.hd.parentElement&&this.hd.parentElement.removeChild(this.hd),this.Xl.en(),this.u_.en()},t.prototype.Td=function(t,e,i){if(void 0===i&&(i=!1),this.Fn!==e||this.Ks!==t){this.Fn=e,this.Ks=t;var n=e+"px",s=t+"px";b(this.hd).style.height=n,b(this.hd).style.width=s,this.Nd.style.height=n,this.Nd.style.width=s,i?this.Fd(new Vt(3)):this.si.rf()}},t.prototype.Xv=function(t){void 0===t&&(t=new Vt(3));for(var e=0;e<this.md.length;e++)this.md[e].Xv(t.ge(e).me);this.Dd.Xv(t.pe())},t.prototype.sh=function(t){this.si.sh(t),this.Bd();var e=t.width||this.Ks,i=t.height||this.Fn;this.Td(e,i)},t.prototype.V_=function(){return this.u_},t.prototype.Mf=function(){return this.Xl},t.prototype.Vd=function(){var t=this;null!==this.kd&&(this.Fd(this.kd),this.kd=null);var e=this.md[0],i=hi(document,new ai(this.Ks,this.Fn)),n=li(i),s=ci(i);return U(n,s,(function(){var i=0,s=0,r=function(e){for(var r=0;r<t.md.length;r++){var o=t.md[r],a=o.P_().st,c=b("left"===e?o.q_():o.H_()),l=c.i_();n.drawImage(l,i,s,c.Kv(),a),s+=a}};t.Od()&&(r("left"),i=b(e.q_()).Kv()),s=0;for(var o=0;o<t.md.length;o++){var a=t.md[o],c=a.P_(),l=a.i_();n.drawImage(l,i,s,c.ht,c.st),s+=c.st}i+=e.P_().ht,t.zd()&&(s=0,r("right"));var h=function(e){var r=b("left"===e?t.Dd.ad():t.Dd.od()),o=r.P_(),a=r.i_();n.drawImage(a,i,s,o.ht,o.st)};if(t.Ni.timeScale.visible){i=0,t.Od()&&(h("left"),i=b(e.q_()).Kv());var u=t.Dd.P_();l=t.Dd.i_(),n.drawImage(l,i,s,u.ht,u.st),t.zd()&&(i+=e.P_().ht,h("right"),n.restore())}})),i},t.prototype.Pd=function(t){return"none"===t||"left"===t&&!this.Od()||"right"===t&&!this.zd()||0===this.md.length?0:b("left"===t?this.md[0].q_():this.md[0].H_()).Kv()},t.prototype.Rd=function(){for(var t=0,e=0,i=0,n=0,s=this.md;n<s.length;n++){var r=s[n];this.Od()&&(e=Math.max(e,b(r.q_()).qv())),this.zd()&&(i=Math.max(i,b(r.H_()).qv())),t+=r._l()}var o=this.Ks,a=this.Fn,c=Math.max(o-e-i,0),l=this.Ni.timeScale.visible?this.Dd.fd():0;l%2&&(l+=1);for(var h=0+l,u=a<h?0:a-h,d=u/t,f=0,p=0;p<this.md.length;++p){(r=this.md[p]).y_(this.si._f()[p]);var v,m;m=p===this.md.length-1?u-f:Math.round(r._l()*d),f+=v=Math.max(m,2),r.Yv(new ai(c,v)),this.Od()&&r.z_(e,"left"),this.zd()&&r.z_(i,"right"),r.$v()&&this.si.bf(r.$v(),v)}this.Dd.ld(new ai(c,l),e,i),this.si.Ar(c),this.gd!==e&&(this.gd=e),this.yd!==i&&(this.yd=i)},t.prototype.Cd=function(t){var e=t.deltaX/100,i=-t.deltaY/100;if(0!==e&&this.Ni.handleScroll.mouseWheel||0!==i&&this.Ni.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,i*=120;break;case t.DOM_DELTA_LINE:e*=32,i*=32}if(0!==i&&this.Ni.handleScale.mouseWheel){var n=Math.sign(i)*Math.min(1,Math.abs(i)),s=t.clientX-this.hd.getBoundingClientRect().left;this.vt().gf(s,n)}0!==e&&this.Ni.handleScroll.mouseWheel&&this.vt().yf(-80*e)}},t.prototype.Fd=function(t){var e=t.pe();if(3===e&&this.Id(),3===e||2===e){for(var i=this.si._f(),n=0;n<i.length;n++)t.ge(n)._h&&i[n].Ll();for(var s=t.Se(),r=0,o=s;r<o.length;r++){var a=o[r];this.Ce(a)}s.length>0&&(this.si.Vr(),this.si.To(),this.si.Or()),this.Dd.O()}this.Xv(t)},t.prototype.Ce=function(t){var e=this.si.U();switch(t.ke){case 0:e.Qr();break;case 1:e.te(t.X);break;case 2:e.dr(t.X);break;case 3:e.wr(t.X);break;case 4:e.Ur()}},t.prototype.Jl=function(t){var e=this;null!==this.kd?this.kd._n(t):this.kd=t,this.xd||(this.xd=!0,this.pd=window.requestAnimationFrame((function(){e.xd=!1,e.pd=0,null!==e.kd&&(e.Fd(e.kd),e.kd=null)})))},t.prototype.Id=function(){this.Ld()},t.prototype.Ld=function(){for(var t=this.si._f(),e=t.length,i=this.md.length,n=e;n<i;n++){var s=v(this.md.pop());this.Nd.removeChild(s.Iv()),s.V_().hn(this),s.en()}for(n=i;n<e;n++)(s=new _i(this,t[n])).V_().Ji(this.Wd.bind(this),this),this.md.push(s),this.Nd.insertBefore(s.Iv(),this.Dd.Iv());for(n=0;n<e;n++){var r=t[n];(s=this.md[n]).$v()!==r?s.y_(r):s.g_()}this.Bd(),this.Rd()},t.prototype.Ud=function(t,e){var i,n=new Map;if(null!==t&&this.si.P().forEach((function(e){var i=e.ka(t);null!==i&&n.set(e,i)})),null!==t){var s=this.si.U().ri(t);null!==s&&(i=s)}var r=this.vt().af(),o=null!==r&&r.ff instanceof Ke?r.ff:void 0,a=null!==r&&void 0!==r.A_?r.A_.va:void 0;return{C:i,jd:e||void 0,qd:o,Hd:n,Yd:a}},t.prototype.Wd=function(t,e){var i=this;this.u_.sn((function(){return i.Ud(t,e)}))},t.prototype.Ad=function(t,e){var i=this;this.Xl.sn((function(){return i.Ud(t,e)}))},t.prototype.Bd=function(){var t=this.Ni.timeScale.visible?"":"none";this.Dd.Iv().style.display=t},t.prototype.Od=function(){return this.Ni.leftPriceScale.visible},t.prototype.zd=function(){return this.Ni.rightPriceScale.visible},t}();function Bi(t,e,i){var n=i.value,s={Ps:e,C:t,X:[n,n,n,n]};return"color"in i&&void 0!==i.color&&(s.et=i.color),s}function Ri(t,e,i){return{Ps:e,C:t,X:[i.open,i.high,i.low,i.close]}}function Ei(t){return void 0!==t.X}function Fi(t){return function(e,i,n){return void 0===(s=n).open&&void 0===s.value?{C:e,Ps:i}:t(e,i,n);var s}}var Li={Candlestick:Fi(Ri),Bar:Fi(Ri),Area:Fi(Bi),Histogram:Fi(Bi),Line:Fi(Bi)};function Qi(t){return Li[t]}function Hi(t){return 60*t*60*1e3}function zi(t){return 60*t*1e3}var Ji=[{Kd:1,Rs:20},{Kd:(1,1e3),Rs:19},{Kd:zi(1),Rs:20},{Kd:zi(5),Rs:21},{Kd:zi(30),Rs:22},{Kd:Hi(1),Rs:30},{Kd:Hi(3),Rs:31},{Kd:Hi(6),Rs:32},{Kd:Hi(12),Rs:33}];function Ui(t,e){if(null!==e){var i=new Date(1e3*e),n=new Date(1e3*t);if(n.getUTCFullYear()!==i.getUTCFullYear())return 70;if(n.getUTCMonth()!==i.getUTCMonth())return 60;if(n.getUTCDate()!==i.getUTCDate())return 50;for(var s=Ji.length-1;s>=0;--s)if(Math.floor(i.getTime()/Ji[s].Kd)!==Math.floor(n.getTime()/Ji[s].Kd))return Ji[s].Rs}return 20}function Gi(t){if(!zt(t))throw new Error("time must be of type BusinessDay");var e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{As:Math.round(e.getTime()/1e3),Cs:t}}function Wi(t){if(!Jt(t))throw new Error("time must be of type isUTCTimestamp");return{As:t}}function qi(t){return 0===t.length?null:zt(t[0].time)?Gi:Wi}function Vi(t){return Jt(t)?Wi(t):zt(t)?Gi(t):Gi(Yi(t))}function Yi(t){var e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string="+t+", expected format=yyyy-mm-dd");return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Xi(t){O(t.time)&&(t.time=Yi(t.time))}function Ki(t){return{Ps:0,$d:new Map,Rh:t}}var Zi=function(){function t(){this.Xd=new Map,this.Zd=new Map,this.Jd=new Map,this.Gd=[]}return t.prototype.en=function(){this.Xd.clear(),this.Zd.clear(),this.Jd.clear(),this.Gd=[]},t.prototype.Qd=function(t,e){var i=this;this.Jd.has(t)&&this.Xd.forEach((function(e){return e.$d.delete(t)}));var n=[];if(0!==e.length){!function(t){t.forEach(Xi)}(e);var s=b(qi(e)),r=Qi(t.za());n=e.map((function(e){var n=s(e.time),o=i.Xd.get(n.As);void 0===o&&(o=Ki(n),i.Xd.set(n.As,o));var a=r(n,o.Ps,e);return o.$d.set(t,a),a}))}return this.tw(),this.iw(t,n),this.nw(t)},t.prototype.Ff=function(t){return this.Qd(t,[])},t.prototype.hw=function(t,e){Xi(e);var i=b(qi([e]))(e.time),n=this.Jd.get(t);if(void 0!==n&&i.As<n.As)throw new Error("Cannot update oldest data, last time="+n.As+", new time="+i.As);var s=this.Xd.get(i.As),r=void 0===s;void 0===s&&(s=Ki(i),this.Xd.set(i.As,s));var o=Qi(t.za())(i,s.Ps,e);s.$d.set(t,o);var a=this.sw(t,o);if(!r){var c=new Map;return null!==a&&c.set(t,a),{rw:c,U:{Lr:this.ew()}}}return this.nw(t)},t.prototype.sw=function(t,e){var i=this.Zd.get(t);void 0===i&&(i=[],this.Zd.set(t,i));var n=0!==i.length?i[i.length-1]:null,s=null;return null===n||e.C.As>n.C.As?Ei(e)&&(i.push(e),s={rf:!1,Wu:[e]}):Ei(e)?(i[i.length-1]=e,s={rf:!1,Wu:[e]}):(i.splice(-1,1),s={rf:!0,Wu:i}),this.Jd.set(t,e.C),s},t.prototype.iw=function(t,e){0!==e.length?(this.Zd.set(t,e.filter(Ei)),this.Jd.set(t,e[e.length-1].C)):(this.Zd.delete(t),this.Jd.delete(t))},t.prototype.tw=function(){var t=new Map;this.Xd.forEach((function(e,i){e.$d.size>0&&t.set(i,e)})),this.Xd=t},t.prototype.uw=function(t){for(var e=-1,i=0;i<this.Gd.length&&i<t.length;++i){var n=this.Gd[i],s=t[i];if(n.C.As!==s.C.As){e=i;break}s.zs=n.zs}if(-1===e&&this.Gd.length!==t.length&&(e=Math.min(this.Gd.length,t.length)),-1===e)return-1;var r=function(e){var i=v(o.Xd.get(t[e].C.As));i.Ps=e,i.$d.forEach((function(t){t.Ps=e}))},o=this;for(i=e;i<t.length;++i)r(i);return function(t,e){void 0===e&&(e=0);for(var i=0===e||0===t.length?null:t[e-1].C.As,n=0,s=e;s<t.length;++s){var r=t[s];r.zs=Ui(r.C.As,i),n+=r.C.As-(i||r.C.As),i=r.C.As}if(0===e&&t.length>1){var o=Math.ceil(n/(t.length-1)),a=t[0].C.As-o;t[0].zs=Ui(t[0].C.As,a)}}(t,e),this.Gd=t,e},t.prototype.ew=function(){if(0===this.Zd.size)return null;var t=0;return this.Zd.forEach((function(e){0!==e.length&&(t=Math.max(t,e[e.length-1].Ps))})),t},t.prototype.nw=function(t){var e=Array.from(this.Xd.values()).map((function(t){return{zs:0,C:t.Rh}}));e.sort((function(t,e){return t.C.As-e.C.As}));var i=this.uw(e),n={rw:new Map,U:{Lr:this.ew()}};if(-1!==i)this.Zd.forEach((function(t,e){n.rw.set(e,{Wu:t,rf:!0})})),this.Zd.has(t)||n.rw.set(t,{Wu:[],rf:!0}),n.U.aw=this.Gd;else{var s=this.Zd.get(t);n.rw.set(t,{Wu:s||[],rf:!0})}return n},t}(),$i={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,axisLabelVisible:!0,title:""},tn=function(){function t(t){this.Ba=t}return t.prototype.applyOptions=function(t){this.Ba.sh(t)},t.prototype.options=function(){return this.Ba.ct()},t.prototype.ow=function(){return this.Ba},t}();function en(t){var e=t.overlay,i=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(t,["overlay"]);return e&&(i.priceScaleId=""),i}var nn=function(){function t(t,e,i){this.Ie=t,this.lw=e,this.fw=i}return t.prototype.priceFormatter=function(){return this.Ie.Kh()},t.prototype.priceToCoordinate=function(t){var e=this.Ie.H();return null===e?null:this.Ie.$().K(t,e.X)},t.prototype.coordinateToPrice=function(t){var e=this.Ie.H();return null===e?null:this.Ie.$().Di(t,e.X)},t.prototype.barsInLogicalRange=function(t){if(null===t)return null;var e=new Lt(new Bt(t.from,t.to)).qs(),i=this.Ie.Hi();if(i.ti())return null;var n=i.Qa(e.ss(),1),s=i.Qa(e.rs(),-1),r=b(i.Za()),o=b(i.qi());if(null!==n&&null!==s&&n.Ps>s.Ps)return{barsBefore:t.from-r,barsAfter:o-t.to};var a={barsBefore:null===n||n.Ps===r?t.from-r:n.Ps-r,barsAfter:null===s||s.Ps===o?o-t.to:o-s.Ps};return null!==n&&null!==s&&(a.from=n.C.Cs||n.C.As,a.to=s.C.Cs||s.C.As),a},t.prototype.setData=function(t){this.Ie.za(),this.lw.cw(this.Ie,t)},t.prototype.update=function(t){this.Ie.za(),this.lw.Bo(this.Ie,t)},t.prototype.setMarkers=function(t){var e=t.map((function(t){return d(d({},t),{time:Vi(t.time)})}));this.Ie.Vo(e)},t.prototype.applyOptions=function(t){var e=en(t);this.Ie.sh(e)},t.prototype.options=function(){return A(this.Ie.ct())},t.prototype.priceScale=function(){return this.fw.priceScale(this.Ie.$().hh())},t.prototype.createPriceLine=function(t){var e=j(A($i),t),i=this.Ie.Oo(e);return new tn(i)},t.prototype.removePriceLine=function(t){this.Ie.zo(t.ow())},t.prototype.seriesType=function(){return this.Ie.za()},t}(),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.applyOptions=function(e){St(e),t.prototype.applyOptions.call(this,e)},e}(nn),rn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},on={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Ut,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},an={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:Ut},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:d({},rn),leftPriceScale:d(d({},rn),{visible:!1}),rightPriceScale:d(d({},rn),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:on,localization:{locale:vi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0}},cn={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},ln={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},hn={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},un={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},dn={color:"#26a69a",base:0},fn={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},pn=function(){function t(t,e){this._w=t,this.dw=e}return t.prototype.applyOptions=function(t){this._w.vt().cf(this.dw,t)},t.prototype.options=function(){return this.Gt().ct()},t.prototype.width=function(){return qt(this.dw)?this._w.Pd("left"===this.dw?"left":"right"):0},t.prototype.Gt=function(){return b(this._w.vt().vf(this.dw)).$},t}(),vn=function(){function t(t){this.ww=new rt,this.ir=new rt,this.si=t,this.rl().Xr().Ji(this.Mw.bind(this)),this.rl().Zr().Ji(this.bw.bind(this))}return t.prototype.en=function(){this.rl().Xr().hn(this),this.rl().Zr().hn(this),this.ww.en()},t.prototype.scrollPosition=function(){return this.rl().Rr()},t.prototype.scrollToPosition=function(t,e){e?this.rl().$r(t,1e3):this.si.wr(t)},t.prototype.scrollToRealTime=function(){this.rl().Kr()},t.prototype.getVisibleRange=function(){var t,e,i=this.rl().gr();return null===i?null:{from:null!==(t=i.from.Cs)&&void 0!==t?t:i.from.As,to:null!==(e=i.to.Cs)&&void 0!==e?e:i.to.As}},t.prototype.setVisibleRange=function(t){var e={from:Vi(t.from),to:Vi(t.to)},i=this.rl().Sr(e);this.si.Vf(i)},t.prototype.getVisibleLogicalRange=function(){var t=this.rl().pr();return null===t?null:{from:t.ss(),to:t.rs()}},t.prototype.setVisibleLogicalRange=function(t){p(t.from<=t.to,"The from index cannot be after the to index."),this.si.Vf(t)},t.prototype.resetTimeScale=function(){this.si.Ne()},t.prototype.fitContent=function(){this.si.Qr()},t.prototype.logicalToCoordinate=function(t){var e=this.si.U();return e.ti()?null:e.G(t)},t.prototype.coordinateToLogical=function(t){var e=this.si.U();return e.ti()?null:e.Er(t)},t.prototype.timeToCoordinate=function(t){var e=Vi(t),i=this.si.U(),n=i.Mr(e,!1);return null===n?null:i.G(n)},t.prototype.coordinateToTime=function(t){var e,i=this.si.U(),n=i.Er(t),s=i.ri(n);return null===s?null:null!==(e=s.Cs)&&void 0!==e?e:s.As},t.prototype.subscribeVisibleTimeRangeChange=function(t){this.ww.Ji(t)},t.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.ww.nn(t)},t.prototype.subscribeVisibleLogicalRangeChange=function(t){this.ir.Ji(t)},t.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.ir.nn(t)},t.prototype.applyOptions=function(t){this.rl().sh(t)},t.prototype.options=function(){return A(this.rl().ct())},t.prototype.rl=function(){return this.si.U()},t.prototype.Mw=function(){this.ww.rn()&&this.ww.sn(this.getVisibleRange())},t.prototype.bw=function(){this.ir.rn()&&this.ir.sn(this.getVisibleLogicalRange())},t}();function bn(t){if(void 0!==t&&"custom"!==t.type){var e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;for(var e=0;e<8;e++){var i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}}function mn(t){return function(t){if(x(t.handleScale)){var e=t.handleScale;t.handleScale={axisDoubleClickReset:e,axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale&&x(t.handleScale.axisPressedMouseMove)){var i=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:i,price:i}}var n=t.handleScroll;x(n)&&(t.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),function(t){if(t.priceScale){t.leftPriceScale=t.leftPriceScale||{},t.rightPriceScale=t.rightPriceScale||{};var e=t.priceScale.position;delete t.priceScale.position,t.leftPriceScale=j(t.leftPriceScale,t.priceScale),t.rightPriceScale=j(t.rightPriceScale,t.priceScale),"left"===e&&(t.leftPriceScale.visible=!0,t.rightPriceScale.visible=!1),"right"===e&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!0),"none"===e&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!1),t.overlayPriceScales=t.overlayPriceScales||{},void 0!==t.priceScale.invertScale&&(t.overlayPriceScales.invertScale=t.priceScale.invertScale),void 0!==t.priceScale.scaleMargins&&(t.overlayPriceScales.scaleMargins=t.priceScale.scaleMargins)}}(t),function(t){t.layout&&t.layout.backgroundColor&&!t.layout.background&&(t.layout.background={type:"solid",color:t.layout.backgroundColor})}(t),t}var jn=function(){function t(t,e){var i=this;this.mw=new Zi,this.pw=new Map,this.gw=new Map,this.yw=new rt,this.kw=new rt;var n=void 0===e?A(an):j(A(an),mn(e));this._w=new Pi(t,n),this._w.V_().Ji((function(t){i.yw.rn()&&i.yw.sn(i.xw(t()))}),this),this._w.Mf().Ji((function(t){i.kw.rn()&&i.kw.sn(i.xw(t()))}),this);var s=this._w.vt();this.Nw=new vn(s)}return t.prototype.remove=function(){this._w.V_().hn(this),this._w.Mf().hn(this),this.Nw.en(),this._w.en(),this.pw.clear(),this.gw.clear(),this.yw.en(),this.kw.en(),this.mw.en()},t.prototype.resize=function(t,e,i){this._w.Td(t,e,i)},t.prototype.addAreaSeries=function(t){void 0===t&&(t={}),bn((t=en(t)).priceFormat);var e=j(A(fn),un,t),i=this._w.vt().Bf("Area",e),n=new nn(i,this,this);return this.pw.set(n,i),this.gw.set(i,n),n},t.prototype.addBarSeries=function(t){void 0===t&&(t={}),bn((t=en(t)).priceFormat);var e=j(A(fn),ln,t),i=this._w.vt().Bf("Bar",e),n=new nn(i,this,this);return this.pw.set(n,i),this.gw.set(i,n),n},t.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),St(t=en(t)),bn(t.priceFormat);var e=j(A(fn),cn,t),i=this._w.vt().Bf("Candlestick",e),n=new sn(i,this,this);return this.pw.set(n,i),this.gw.set(i,n),n},t.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),bn((t=en(t)).priceFormat);var e=j(A(fn),dn,t),i=this._w.vt().Bf("Histogram",e),n=new nn(i,this,this);return this.pw.set(n,i),this.gw.set(i,n),n},t.prototype.addLineSeries=function(t){void 0===t&&(t={}),bn((t=en(t)).priceFormat);var e=j(A(fn),hn,t),i=this._w.vt().Bf("Line",e),n=new nn(i,this,this);return this.pw.set(n,i),this.gw.set(i,n),n},t.prototype.removeSeries=function(t){var e=v(this.pw.get(t)),i=this.mw.Ff(e);this._w.vt().Ff(e),this.Sw(i),this.pw.delete(t),this.gw.delete(e)},t.prototype.cw=function(t,e){this.Sw(this.mw.Qd(t,e))},t.prototype.Bo=function(t,e){this.Sw(this.mw.hw(t,e))},t.prototype.subscribeClick=function(t){this.yw.Ji(t)},t.prototype.unsubscribeClick=function(t){this.yw.nn(t)},t.prototype.subscribeCrosshairMove=function(t){this.kw.Ji(t)},t.prototype.unsubscribeCrosshairMove=function(t){this.kw.nn(t)},t.prototype.priceScale=function(t){return void 0===t&&(t=this._w.vt().Of()),new pn(this._w,t)},t.prototype.timeScale=function(){return this.Nw},t.prototype.applyOptions=function(t){this._w.sh(mn(t))},t.prototype.options=function(){return this._w.ct()},t.prototype.takeScreenshot=function(){return this._w.Vd()},t.prototype.Sw=function(t){var e=this._w.vt();e.Tf(t.U.Lr,t.U.aw),t.rw.forEach((function(t,e){return e.Bo(t.Wu,t.rf)})),e.Vr()},t.prototype.Cw=function(t){return v(this.gw.get(t))},t.prototype.xw=function(t){var e=this,i=new Map;t.Hd.forEach((function(t,n){i.set(e.Cw(n),t)}));var n=void 0===t.qd?void 0:this.Cw(t.qd);return{time:t.C&&(t.C.Cs||t.C.As),point:t.jd,hoveredSeries:n,hoveredMarkerId:t.Yd,seriesPrices:i}},t}();function gn(t,e){var i;if(O(t)){var n=document.getElementById(t);p(null!==n,"Cannot find element in DOM with id="+t),i=n}else i=t;return new jn(i,e)}}}]);
//# sourceMappingURL=20.29ff19e5.chunk.js.map