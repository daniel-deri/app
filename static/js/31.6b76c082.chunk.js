(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[31],{1178:function(e,t,a){"use strict";a.r(t);var i=a(8),s=(a(726),a(727)),c=a(639),r=a.n(c),n=a(26),l=a(613),o=a(25),d=a(728),u=a(47),b=a(18);const m=["ZONE","POOL","BASE TOKEN","POOL ADDRESS","LIQUIDITY","TRADE VOLUME"],O=["zone","catalog","bToken","address","liquidity","notional"],j=`${Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://api.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL}/get_pools`,p={catalog:e=>Object(b.jsx)("span",{className:"catalog",children:e.catalog.toUpperCase()}),zone:e=>e.catalog.indexOf("-")>0?e.catalog.substring(e.catalog.indexOf("-")+1,e.catalog.length).toUpperCase():"",address:e=>Object(n.g)(e.address),liquidity:e=>Object(b.jsx)(l.a,{value:e.liquidity,suffix:` ${e.bToken.split("|")[0]}`,thousandSeparator:!0,decimalScale:2}),notional:e=>Object(b.jsx)(l.a,{value:e.notional,suffix:` ${e.bToken.split("|")[0]}`,thousandSeparator:!0,decimalScale:2})};t.default=Object(u.b)("loading")(Object(u.c)((function({loading:e}){const[t,a]=Object(i.useState)({}),c=Object(o.useHistory)();return Object(i.useEffect)((()=>{(async()=>{e.loading();const t=await r.a.get(j);200===t.status&&t.data.data&&a(t.data.data),e.loaded()})()}),[]),Object(b.jsxs)("div",{className:"info",style:{"min-width":`calc(100vw - ${.3*window.screen.width}px)`},children:[Object(b.jsx)("div",{className:"title",children:"Deri Overview"}),Object(b.jsxs)("div",{className:"chart-box",children:[Object(b.jsxs)("div",{className:"chart",children:[Object(b.jsx)(d.a,{title:"TVL",url:`${Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://api.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL}/get_liquidity_history`,seriesType:"area"})," "]}),Object(b.jsxs)("div",{className:"chart",children:[Object(b.jsx)(d.a,{title:"Volume 24H",url:`${Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://api.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL}/get_trade_history`,seriesType:"histogram"})," "]})]}),Object(b.jsx)("div",{className:"table-by-network",children:Object.keys(t).map((e=>Object(b.jsx)(s.a,{title:e,headers:m,columns:O,columnRenders:p,onRowClick:e=>(e=>{c.push(`/info/${e.address}/${e.catalog}/${e.bToken}/${e.chain}`)})(e),dataSet:t[e]})))})]})})))},613:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(8),s=a(614),c=a(18);function r(e){const[t,a]=Object(i.useState)(Object(c.jsx)("span",{className:"loading-line"}));return Object(i.useEffect)((()=>{const{allowZero:t,...i}=e;return(void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&a(Object(c.jsx)(s.a,{...i,displayType:"text"})),()=>{}}),[e.value]),t}},726:function(e,t,a){},727:function(e,t,a){"use strict";var i=a(8),s=a(639),c=a.n(s),r=a(47),n=a(18);t.a=Object(r.b)("loading")(Object(r.c)((function({title:e,dataSet:t,url:a,headers:s,columns:r,columnRenders:l={},pagination:o,loading:d,onRowClick:u}){const[b,m]=Object(i.useState)([]),[O,j]=Object(i.useState)(1),[p,_]=Object(i.useState)(),[h,f]=Object(i.useState)(10),S=async(e,t)=>{let a=e;o&&(a=`${a}&page=${t}&page_amount=${h}`),d.loading();const i=await c.a.get(a);200===i.status&&Array.isArray(i.data.data)&&(_(i.data.count/h),i.data.count%h>0&&_(Math.floor(i.data.count/h)+1),m(i.data.data),j(t),d.loaded())};return Object(i.useEffect)((()=>{t?m(t):S(a,1)}),[a]),Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"t-title",children:e}),Object(n.jsxs)("div",{className:"tbody",children:[Object(n.jsx)("div",{className:"theader",children:s.map((e=>Object(n.jsx)("div",{className:"col",children:e})))}),b.map((e=>Object(n.jsxs)("div",{className:"row",onClick:()=>u&&u(e),style:{cursor:u?"pointer":"normal"},children:[r.map((t=>Object(n.jsx)("div",{className:"col",children:l[t]?l[t].call(null,e):e[t]}))),Object(n.jsx)("div",{})]}))),o&&Object(n.jsxs)("div",{className:"pagination row",children:[Object(n.jsx)("span",{className:"arrow",onClick:()=>{1!==O&&S(a,O-1)},children:" < "}),Object(n.jsxs)("span",{children:["Page ",O," of ",p]}),Object(n.jsx)("span",{className:"arrow",onClick:()=>{O!==p&&S(a,O+1)},children:" > "})]})]})]})})))},728:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a(8),s=a(736),c=a(639),r=a.n(c),n=a(700),l=a.n(n),o=a(26),d=a(18);function u({title:e,url:t,seriesType:a}){const c=Object(i.useRef)(null),n=Object(i.useRef)(null),[u,b]=Object(i.useState)(""),[m,O]=Object(i.useState)(""),j=Object(i.useRef)(),p=e=>{if(!e.point)return O(""),void(j.current&&b(j.current.value));e.seriesPrices.forEach((e=>{e&&b(e)})),e.time&&O(`${e.time.year}-${e.time.month}-${e.time.day} (UTC+8)`)};return Object(i.useEffect)((()=>{const e=(()=>{const e=document.querySelector(".info-chart").getBoundingClientRect();return Object(s.b)(c.current,{localization:{priceFormatter:e=>"$ "+Object(o.d)(e),locale:"en-US"},timeScale:{rightOffset:0,leftOffset:5,timeVisible:!0,borderColor:"#fff",borderVisible:!1},width:e.width,height:e.height,priceScale:{position:"none",borderColor:"#fff",borderVisible:!1,mode:0},handleScroll:!1,handleScale:!1,crosshair:{mode:s.a.Normal,vertLine:{labelVisible:!1,visible:!1},horzLine:{labelVisible:!1,visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#fff",fontSize:12}})})();return"area"===a&&(async e=>{const a=e.addAreaSeries({priceLineVisible:!1,lastValueVisible:!1,topColor:"RGBA(0,101,159,.5)",bottomColor:"RGBA(0,101,159,0)",lineColor:"RGB(0,101,159)",priceFormat:{precision:1,minMove:"1000"}}),i=await r.a.get(t);if(200===i.status&&Array.isArray(i.data.data)){let e=i.data.data.sort(((e,t)=>e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0));e=e.map((e=>({time:l()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:e.value}))),a.setData(e);const t=e[e.length-1];b(t.value),j.current=t}n.current=a,e.timeScale().fitContent()})(e),"histogram"===a&&(async e=>{const a=e.addHistogramSeries({color:"#00659F",priceLineVisible:!1,lastValueVisible:!1,priceFormat:{type:"volume",priceFormatter:e=>"$ "+e},scaleMargins:{top:.2,bottom:0}}),i=await r.a.get(t);if(200===i.status&&Array.isArray(i.data.data)){const e=i.data.data.sort(((e,t)=>e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0)).map((e=>({time:l()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:Number(e.value)})));a.setData(e);const t=e[e.length-1];b(t.value),j.current=t}n.current=a,e.timeScale().fitContent()})(e),e.subscribeCrosshairMove(p),()=>{e&&(e.unsubscribeCrosshairMove(p),n.current&&e.removeSeries(n.current),e.remove())}}),[t,a]),Object(d.jsxs)("div",{className:"info-chart",children:[Object(d.jsxs)("div",{className:"chart-title",children:[Object(d.jsx)("div",{className:"title-label",children:e}),Object(d.jsxs)("div",{className:"title-value",children:[u?`$${Object(o.d)(u)}`:""," "]}),Object(d.jsxs)("div",{className:"title-date",children:[m," "]})]}),Object(d.jsx)("div",{className:"series",ref:c})]})}}}]);
//# sourceMappingURL=31.6b76c082.chunk.js.map