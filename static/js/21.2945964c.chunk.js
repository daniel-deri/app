(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[21],{1329:function(e,t,n){},1330:function(e,t,n){},1368:function(e,t,n){"use strict";n.r(t);var s=n(4),c=(n(1329),n(1330),n(613)),a=n.n(c),i=n(907),l=n(666),o=n(41),r=n(821),d=n(8),p=n(58),b=n(823),j=n(23),u=n(13);const O=d.a.get(),{chainInfo:m}=p[O],h=b.openPoolList;t.default=Object(o.b)("version","loading")(Object(o.c)((function({lang:e,loading:t}){const[n,c,o,p,b]=Object(l.a)(!0),[f,x]=Object(s.useState)([]),[v,g]=Object(s.useState)("all"),y=a()("filter-area",v),N=async e=>{if(g(e===v?"all":e),"open"===e&&0===f.length){t.loading();let e=Object(j.c)(await(async()=>(await d.mb.update(),Object(d.p)(O,"v2_lite_open")))());e=e.filter((e=>!h.includes(e.pool))),e=e.map((e=>Object(j.r)(e,null,m))),Promise.all(e).then((n=>{e=Object(j.l)(n),x(e),t.loaded()}))}};return Object(s.useEffect)((()=>(n?t.loaded():t.loading(),()=>{})),[n]),Object(u.jsxs)("div",{className:"mining-info",children:[Object(u.jsxs)("div",{className:y,children:[Object(u.jsx)("span",{className:"future-zone",onClick:()=>N("future"),children:e.futures}),Object(u.jsx)("span",{className:"option-zone",onClick:()=>N("option"),children:e.options}),Object(u.jsx)("span",{className:"separator-line"}),Object(u.jsx)("span",{className:"open-zone",onClick:()=>N("open"),children:e["open-zone"]})]}),"all"===v&&Object(u.jsxs)("div",{className:"pools",children:[b.map(((t,n)=>Object(u.jsx)(i.a,{group:t,lang:e},n))),p.concat(o).map(((t,n)=>Object(u.jsx)(i.a,{group:t,lang:e},n)))]}),"future"===v&&Object(u.jsx)("div",{className:"pools",children:p.concat(o).map(((t,n)=>Object(u.jsx)(i.a,{group:t,lang:e},n)))}),"option"===v&&Object(u.jsx)("div",{className:"pools",children:Object(u.jsx)("div",{className:"pools",children:b.map(((t,n)=>Object(u.jsx)(i.a,{group:t,lang:e},n)))})}),"open"===v&&Object(u.jsxs)("div",{className:"pools open-pool",children:[f.map(((t,n)=>Object(u.jsx)(i.a,{group:t,lang:e},n))),f.length>0&&Object(u.jsx)(r.a,{lang:e})]})]})})))},614:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(4),c=n(13);function a({btnText:e,className:t,disabled:n,click:a,afterClick:i,checkApprove:l,wallet:o,spec:r,lang:d}){const[p,b]=Object(s.useState)(n?"disabled":"enabled"),[j,u]=Object(s.useState)(!0),[O,m]=Object(s.useState)(!1),[h,f]=Object(s.useState)(e),x=Object(s.useRef)(null),v=()=>{b("disabled"),m(!0),x.current&&(x.current.style.display="inline-block")},g=()=>{x.current&&(x.current.style.display="none"),b("enabled"),m(!1)};return Object(s.useEffect)((()=>((async()=>{if(l&&o&&o.detail.account){const e=await o.isApproved(r.pool,r.bTokenId);u(e)}})(),()=>{})),[o,r,l]),Object(s.useEffect)((()=>(e&&f(e),()=>{})),[e]),Object(c.jsxs)("button",{className:t,onClick:()=>{j?(async()=>{if("enabled"!==p)return;v(),await a()&&i&&i(),g()})():(async()=>{v(),(await o.approve(r.pool,r.bTokenId)).success?u(!0):(u(!1),alert(d["approve-failed"])),g()})()},children:[Object(c.jsx)("span",{className:"btn-loading-wrap",children:Object(c.jsx)("span",{ref:x,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),O?d.pending:j?h:d.approve]})}},616:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(4),c=n(621),a=n(13);function i(e){const[t,n]=Object(s.useState)(Object(a.jsx)("span",{className:"loading-line"}));return Object(s.useEffect)((()=>{const{allowZero:t,...s}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&n(Object(a.jsx)(c.a,{...s,displayType:"text"})),()=>{}}),[e.value]),t}},624:function(e,t,n){"use strict";var s=n(4),c=n(13);t.a=function(e){const t=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=t.current;if(e){e.querySelectorAll("[tip]").forEach((t=>{let n=null;t.addEventListener("mouseover",(e=>{const t=e.currentTarget.getAttribute("tip");if(t){const s=`hover-box-${(new Date).getTime()}`;n=document.body.querySelector(`#${s}`),n=document.createElement("div"),n.style.cssText=`z-index : 9;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`,document.body.appendChild(n),n.innerText=t,n.id=s,n.style.display="block";const c=e.currentTarget.getBoundingClientRect();if(n.style.top=`${c.y+c.height+window.document.documentElement.scrollTop}px`,n.offsetWidth+e.pageX>window.screen.width)if(e.pageX-n.offsetWidth>=0)n.style.left=e.pageX-n.offsetWidth+"px";else{const t=e.pageX-n.offsetWidth/2>0?e.pageX-n.offsetWidth/2:0;n.style.left=`${t}px`}else n.style.left=`${e.pageX}px`}})),e.addEventListener("mouseout",(e=>{n&&n.remove()}))}))}return()=>{t.current=null}}),[e.title]),e.block?Object(c.jsx)("div",{ref:t,children:e.children}):Object(c.jsx)("span",{ref:t,children:e.children})}},666:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n(0),c=n.n(s),a=n(1),i=n(14),l=n(4),o=n(8),r=n(58),d=n(23),p=n(10),b=(n(658),o.a.get()),j=r[b].chainInfo;function u(e,t,n){var s=Object(l.useState)(!1),r=Object(i.a)(s,2),u=r[0],O=r[1],m=Object(l.useState)([]),h=Object(i.a)(m,2),f=h[0],x=h[1],v=Object(l.useState)([]),g=Object(i.a)(v,2),y=g[0],N=g[1],A=Object(l.useState)([]),k=Object(i.a)(A,2),w=k[0],S=k[1],F=Object(l.useState)([]),I=Object(i.a)(F,2),T=I[0],C=I[1],B=Object(l.useState)([]),E=Object(i.a)(B,2),L=E[0],J=E[1],W=Object(l.useState)([]),q=Object(i.a)(W,2),Y=q[0],z=q[1];return Object(l.useEffect)((function(){return function(){var s=Object(a.a)(c.a.mark((function s(){var i,l,r,u,m,h,f,v;return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=Object(o.p)(b,"v2"),l=Object(o.p)(b,"v2_lite"),r=Object(o.p)(b,"option"),u=i.concat(l).concat(r),n&&(m=Object(o.p)(b,"v1"),h=Object(o.K)(b),u=m.concat(h)),u=(u=Object(d.c)(u)).map((function(e){return Object(d.r)(e,t,j)})),f=Object(o.z)(b).map(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pool||"",Object(d.p)(t.pool),Object(d.q)(t.pool)&&(s=p.a.get("mining","sushi-apy")),Object(d.o)(t.pool)&&(s=p.a.get("mining","cake-apy")),e.abrupt("return",Object.assign(t,{network:j[t.chainId].name,formatAdd:Object(d.g)(n),address:n,type:"lp",label:s,buttonText:"STAKING"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=u.concat(f),Promise.all(v).then((function(t){(new Date).getTime()<=16356744e5&&t.push({network:"BSC",bTokenSymbol:"GIVEAWAY",liquidity:"1740",symbol:"--",airdrop:!0,chainId:56,apy:"--",buttonText:"CLAIM"});var n=t.filter((function(e){return("v1"===e.version||!e.version)&&!e.retired})),s=t.filter((function(e){return("v2"===e.version||"v2_lite"===e.version)&&!e.retired})),c=t.filter((function(e){return"option"===e.version&&!e.retired})),a=t.filter((function(e){return e.retired&&!e.premining})),i=t.filter((function(e){return e.retired&&e.premining})),l=t.filter((function(e){return e.isOpen}));e&&(n=Object(d.l)(n),s=Object(d.l)(s),c=Object(d.l)(c),l=Object(d.l)(l)),S(s),N(n),C(c),x(t),J(a),z(i),O(!0)}));case 10:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}()(),function(){return f.length=0}}),[]),[u,f,y,w,T,L,Y]}},766:function(e,t){},821:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(822);var s=n(100),c=n(142),a=n(13);function i({lang:e}){return Object(a.jsxs)("div",{className:"pool-placehold",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("div",{className:"title",children:e["add-pool"]})}),Object(a.jsxs)("div",{className:"pool-body",children:[Object(a.jsx)("div",{className:"info",children:Object(a.jsx)("div",{children:e["add-pool-text"]})}),Object(a.jsxs)("div",{className:"btn-c",children:[c.isMobile&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{onClick:()=>{alert(e["please-operate"])},children:e.add})}),c.isBrowser&&Object(a.jsx)(s.b,{to:"/addpool",children:Object(a.jsx)("button",{children:e.add})})]})]})]})}},822:function(e,t,n){},823:function(e){e.exports=JSON.parse('{"openPoolList":["0xbe63f663349059F436364aC1700603d9570bFBc3","0x6D1c634964CA200faaF384CD767020C2c64466aC"]}')},907:function(e,t,n){"use strict";var s=n(4),c=n(21),a=n(58),i=n(8),l=n(616),o=n(41),r=n(614),d=n(23),p=n(613),b=n.n(p),j=n(624),u=(n(658),n(13));const O=a[i.a.get()].chainInfo;function m({wallet:e,pool:t,card:n,index:a,list:o,lang:p}){const[b,O]=Object(s.useState)(""),[m,h]=Object(s.useState)(!1),[f,x]=Object(s.useState)({}),v=Object(c.useHistory)(),g=()=>{e.connect().then((()=>{h(!0)}))},y=async()=>{let t=await Object(i.P)(e.detail.account);t.valid?Object(d.e)(e.detail.chainId,t.chainId)?(await Object(i.jb)(t.chainId,e.detail.account)).success||alert(p["claim-failed"]):alert(p["please-switch-to-BSC-to-claim-deri"]):alert(p["no-deri-to-claim"])};return Object(s.useEffect)((()=>{if(t&&t.airdrop)e.isConnected()?O(Object(u.jsx)(r.a,{btnText:p.claim,click:y,lang:p})):O(Object(u.jsx)(r.a,{btnText:p["connect-wallet"],click:g,lang:p}));else{let e=`/mining/${t.version||"v1"}/${t.chainId}/${n.type}/${n.symbol}/${n.bTokenSymbol}/${t.address}`;n.bTokenId&&(e=`${e}?baseTokenId=${n.bTokenId}`),n.symbolId&&(e=e.indexOf("?")>0?`${e}&symbolId=${n.symbolId}`:`${e}?symbolId=${n.symbolId}`),O(Object(u.jsx)("button",{onClick:()=>(e=>{v.push(e)})(e),children:p.staking}))}t&&t.airdrop?x({liquidity:n.liquidity,airdrop:t.airdrop}):(async e=>{const n=await Object(i.F)(e.chainId,e.pool,e.bTokenId),s={liquidity:(await Object(i.G)(e.chainId,e.pool,e.bTokenId)).liquidity,apy:(100*+n.apy).toFixed(2),multiplier:n.multiplier};if(e.isLp){const n=(100*+(await Object(i.B)(e.chainId,e.pool)).apy2).toFixed(2);s.lpApy=n,s.isCakeLP=Object(d.o)(t.address),s.isSushiLP=Object(d.q)(t.address)}x(s)})(n)}),[e.detail.account,m,n]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("div",{className:"top-info",children:[Object(u.jsxs)("div",{className:"pool-top",children:["v2_lite_open"!==t.version&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:`logo ${n.bTokenSymbol}`})}),"v2_lite_open"===t.version&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:"bg-logo",children:Object(u.jsx)("img",{onError:e=>{e.target.src="data:image/png;base64,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"},src:`https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/${n.bTokenSymbol}.png`})})}),Object(d.o)(t.address)&&Object(u.jsx)(j.a,{children:Object(u.jsx)("span",{tip:p["cake-lp-hover"],className:"base-token lp-token",children:n.bTokenSymbol})}),Object(d.q)(t.address)&&Object(u.jsx)(j.a,{children:Object(u.jsx)("span",{tip:p["sushi-lp-hover"],className:"base-token lp-token",children:n.bTokenSymbol})}),!n.isLp&&Object(u.jsx)("span",{className:"base-token",children:n.bTokenSymbol})]}),Object(u.jsxs)("div",{className:"pool-detail",children:[Object(u.jsxs)("div",{className:"liq",children:[Object(u.jsx)("span",{className:"title",children:n.airdrop?p.total:p["pool-liq"]}),Object(u.jsx)(l.a,{value:f.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:f.lpApy?7:0})]}),Object(u.jsx)("div",{className:"multiplier",children:f.multiplier&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:p.multiplier}),Object(u.jsx)(j.a,{block:!1,children:Object(u.jsxs)("span",{className:"multiplier-value",tip:p["multiplier-tip"],children:[f.multiplier,"x"]})})]})}),Object(u.jsx)("div",{className:`apy ${f.lpApy&&"lp-apy"}`,children:!n.isOpen&&!n.airdrop&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:p.apy}),Object(u.jsx)(j.a,{block:!1,title:f.lpApy,children:Object(u.jsx)("span",{className:f.lpApy?"sushi-apy-underline":"",tip:f.lpApy?p["deri-apy"]:"",children:Object(u.jsx)(l.a,{value:f.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})})}),f.lpApy&&f.lpApy>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:"+"}),Object(u.jsx)(j.a,{block:!1,children:Object(u.jsx)("span",{className:f.lpApy?"sushi-apy-underline":"",tip:n.label,children:Object(u.jsx)(l.a,{value:f.lpApy,displayType:"text",suffix:"%",decimalScale:2})})})]})]})})]})]}),Object(u.jsx)("div",{className:"bottom-btn",children:b})]}),a!==o.length-1&&Object(u.jsx)("div",{className:"top-line"})]})}t.a=Object(o.b)("wallet","version")(Object(o.c)((function({wallet:e,group:t={},lang:n}){const{pool:s,list:c}=t,a=b()("pool",{"only-one":1===c.length,full:5===c.length});return Object(u.jsxs)("div",{className:a,children:[Object(u.jsxs)("div",{className:"pool-header",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("div",{className:"network",children:s.network&&s.network.toUpperCase()}),Object(u.jsxs)("div",{className:"pool-desc",children:[Object(u.jsxs)("span",{className:"symbol",children:[Object(u.jsxs)("span",{className:"symbol-label",children:[n.symbol,":"]}),Object(u.jsx)("span",{className:"symbol-value",children:s.symbol})]}),Object(u.jsxs)("span",{className:"address",children:[Object(u.jsxs)("span",{className:"address-label",children:[n.address,":"]}),s.airdrop?"--":Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${O[s.chainId]&&O[s.chainId].viewUrl}/address/${s.address}`,children:s.formatAdd})]})]})]}),Object(u.jsx)("div",{className:"version",children:n[s.version]})]}),Object(u.jsx)("div",{className:"pool-info",children:c.map(((t,a)=>Object(u.jsx)(m,{card:t,index:a,pool:s,list:c,wallet:e,lang:n},a)))})]})})))}}]);
//# sourceMappingURL=21.2945964c.chunk.js.map