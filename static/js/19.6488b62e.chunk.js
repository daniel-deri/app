(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[19,9],{101:function(e,t,i){"use strict";i.r(t);t.default=function(e,t){}},1030:function(e){e.exports=JSON.parse('{"container_id":"tv-container","library_path":"/charting_library/","custom_css_url":"/style/tradingview-overide.css","disabled_features":["header_widget","timeframes_toolbar","go_to_date"],"fullscreen":false,"autosize":true,"overrides":{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","scalesProperties.textColor":"#aaa","mainSeriesProperties.candleStyle.upColor":"#4bffb5","mainSeriesProperties.candleStyle.downColor":"#d75442","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#4bffb5","mainSeriesProperties.candleStyle.borderDownColor":"#ff4976","mainSeriesProperties.candleStyle.wickUpColor":"#4bffb5","mainSeriesProperties.candleStyle.wickDownColor":"#ff4976","mainSeriesProperties.haStyle.upColor":"#6ba583","mainSeriesProperties.haStyle.downColor":"#d75442","mainSeriesProperties.haStyle.drawWick":true,"mainSeriesProperties.haStyle.drawBorder":true,"mainSeriesProperties.haStyle.borderColor":"#378658","mainSeriesProperties.haStyle.borderUpColor":"#225437","mainSeriesProperties.haStyle.borderDownColor":"#5b1a13","mainSeriesProperties.haStyle.wickColor":"#737375","mainSeriesProperties.haStyle.barColorsOnPrevClose":false},"toolbar_bg":"#212327","session":"24x7"}')},1031:function(e,t,i){},1032:function(e,t,i){},1033:function(e,t,i){},1383:function(e,t,i){"use strict";i.r(t);var n=i(4),s=i(14),c=i(613),a=i.n(c),r=i(41),o=i(19),l=i(648),d=i.n(l),j=i(993),b=i(635),u=i.n(b),p=i(23),m=i(136),h=i(13);var O=Object(r.b)("intl","trading")(Object(r.c)((function({interval:e="1",displayCandleData:t,mixedChart:i,lang:s,showLoad:c,preload:r,trading:o}){const l=Object(n.useRef)(null),b=Object(n.useRef)(null),O=Object(n.useRef)(null),g=Object(n.useRef)(null),x=Object(n.useRef)(null),f=Object(n.useRef)(null),A=Object(n.useRef)([]),v=Object(n.useRef)([]),[y,N]=Object(n.useState)(!1),w=a()("scroll-mask",{show:y}),C=async(t,i,n,s)=>{const a=i&&n?[i,n]:Object(p.b)(e),r=`https://oracle4.deri.finance/get_kline?symbol=${t}&time_type=${p.n[e]}&from=${a[0]}&to=${a[1]}`;!s&&c(!0);const o=await u.a.get(r);return c(!1),o.data&&Array.isArray(o.data.data)?o.data.data:[]},k=async(i,n,s)=>{if(n&&i){const c=x.current=i.addCandlestickSeries({priceScaleId:s,upColor:"#4bffb5",downColor:"#ff4976",borderDownColor:"#ff4976",borderUpColor:"#4bffb5",wickDownColor:"#ff4976",wickUpColor:"#4bffb5",priceFormat:{}}),a=await C(n);a&&Array.isArray(a)&&a.length>0&&(c.setData(a),O.current=a[0],v.current=a),t({data:a[a.length-1]}),m.a.subscribe("get_kline_update",{symbol:n,time_type:p.n[e]},(e=>{c.update(e)}))}},S=e=>{e.point&&"function"===typeof t&&e.seriesPrices.forEach((i=>{if(i&&i.open&&i.close&&i.high&&i.low){const n={time:e.time,data:i};t(n)}}))},I=(e,t)=>{if(e.applyOptions({visible:!e.options().visible}),l.current){const e=l.current;e.applyOptions({[`${t}PriceScale`]:{visible:!e.options()[`${t}PriceScale`].visible}})}};return Object(n.useEffect)((()=>{const t=[];let n;if(o.config&&r){const{symbol:s}=o.config;n=l.current=(t=>{if(b.current&&t&&e){const t=Object(j.b)(b.current,{localization:{timeFormatter:e=>d()(e,"yyyy-mm-dd HH:MM")},width:"1198",height:478,timezone:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",timeScale:{rightOffset:3,timeVisible:!0,borderColor:"#fff",tickMarkFormatter:(t,i,n)=>{const s="1W"===e||"1D"===e?"yyyy-mm-dd":"HH:MM";return d()(t,s)}},priceScale:{borderColor:"#fff",mode:1},crosshair:{mode:j.a.Normal,vertLine:{color:"#fff",labelBackgroundColor:"#569bda"},horzLine:{color:"#fff",labelBackgroundColor:"#569bda"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#aaa",fontSize:12}});return t.subscribeCrosshairMove(S),t}})(s),i?((async(t,i,n)=>{if(t&&i){t.applyOptions({leftPriceScale:{title:i,visible:!0,borderColor:"rgba(197, 203, 206, 1)"}});const s=f.current=t.addLineSeries({priceScaleId:n,topColor:"#569bda",bottomColor:"#569bda",lineColor:"#569bda",lineWidth:2}),c=(await C(i)).map((e=>({time:e.time,value:e.close})));s.setData(c),A.current=c,m.a.subscribe("get_kline_update",{symbol:i,time_type:p.n[e]},(e=>{const t={time:e.time,value:e.close};s.update(t)}))}})(n,Object(p.j)(s),"left"),t.push(Object(p.j)(s)),k(n,Object(p.j)(`${s}-MARKPRICE`),"right"),t.push(Object(p.j)(`${s}-MARKPRICE`))):(k(n,Object(p.j)(`${s}-MARKPRICE`),"right"),t.push(Object(p.j)(`${s}-MARKPRICE`))),g.current=t}let s=null;return n&&n.timeScale().subscribeVisibleLogicalRangeChange((()=>{null!=s||y||(s=setTimeout((async()=>{const t=n.timeScale().getVisibleLogicalRange(),c=x.current&&x.current.barsInLogicalRange(t);if(null!==c&&c.barsBefore<-10){N(!0);const t=Math.floor((v.current[0].time-1*p.t[e])/1e3,0),n=t-(Math.abs(Math.floor(c.barsBefore,0))-1)*p.t[e],s=Object(p.j)(`${o.config.symbol}-MARKPRICE`),a=await C(s,n,t,!0);let r;if(v.current&&x.current&&a.length>0&&(r=[...a,...v.current],x.current.setData(r),v.current=r),i&&a.length>0){const e=await C(Object(p.j)(`${o.config.symbol}`),n,t,!0);if(A.current&&f.current&&e.length>0){r=[...e.map((e=>({time:e.time,value:e.close}))),...A.current],f.current.setData(r),A.current=r}}N(!1)}s=null}),500))})),()=>{g.current&&g.current.forEach((t=>m.a.unsubscribe("un_get_kline",{symbol:t,time_type:p.n[e]}))),n&&(x.current&&n.removeSeries(x.current),f.current&&n.removeSeries(f.current),n.remove()),x.current=null,f.current=null}}),[e,r,o.config]),Object(h.jsxs)("div",{className:"ligth-chart-container",id:"ligth-chart-container",ref:b,children:[Object(h.jsx)("div",{className:w}),i&&Object(h.jsxs)("div",{className:"legend",children:[Object(h.jsxs)("div",{onClick:()=>I(x.current,"right"),children:[Object(h.jsx)("span",{className:"legend-option-left",children:" "}),Object(h.jsx)("span",{className:"legend-option-right",children:" "}),s.option]}),Object(h.jsxs)("div",{onClick:()=>I(f.current,"left"),children:[Object(h.jsx)("span",{className:"legend-index"}),o.config&&Object(p.x)(`${o.config.symbol}`)]})]})]})})));function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var f=i(0),A=i.n(f),v=i(1),y=function(){return(y=Object.assign||function(e){for(var t,i=arguments,n=1,s=arguments.length;n<s;n++)for(var c in t=i[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)};function N(e,t){var i=y({},e);for(var n in t)"object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?void 0!==t[n]&&(i[n]=t[n]):i[n]=N(e[n],t[n]);return i}var w={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},C={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var k=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=N(C,e),e.preset){var t=w[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,i){this._innerAPI().changeSymbol(e,t,i)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,i){this._innerAPI().saveChartToServer(e,t,i)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=N(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),i=document.getElementById(this._options.container_id);if(null===i)throw new Error("There is no such element - #"+this._options.container_id);i.innerHTML=t,this._iFrame=i.querySelector("#"+this._id);var n=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(n.style.width="100%",this._options.fullscreen||(n.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){var t=function(){n.removeEventListener("load",t,!1),e()};n.addEventListener("load",t,!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,i=e._readyHandlers;t<i.length;t++){var n=i[t];try{n.call(e)}catch(s){console.error(s)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var S=i(1030),I=["1","5","15","30","60","240","1D","5D","1W","1M"],D="".concat("https://oracle4.deri.finance","/get_kline");var B=Object(r.b)("intl")(Object(r.c)((function(e){var t=e.interval,i=e.symbol,s=e.showLoad,c=e.intl,a=e.preload,r=Object(n.useRef)(null),o=Object(n.useRef)(null),l=Object(n.useRef)({onReady:function(e){setTimeout((function(){return e({supported_resolutions:I})}),0)},getBars:function(e,t,i,n,s,c,a){return d(e,t,i,n,s,c,a)},resolveSymbol:function(e,t){return O(e,t)},subscribeBars:function(e,t,i,n,s){return j(e,t,i,n,s)},unsubscribeBars:function(e){return b(e)}}),d=function(){var e=Object(v.a)(A.a.mark((function e(t,i,n,c,a,r,l){var d,j;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(D,{params:{symbol:Object(p.j)(t.name),time_type:p.n[i],from:n,to:c}});case 2:(d=e.sent)&&200===d.status&&Array.isArray(d.data.data)?(j=d.data.data,s(!1),a(j),o.current=j[j.length-1]):a([],{noData:!0});case 4:case"end":return e.stop()}}),e)})));return function(t,i,n,s,c,a,r){return e.apply(this,arguments)}}(),j=function(e,t,i,n,s){m.a.subscribe("get_kline_update",{symbol:Object(p.j)(e.name),time_type:p.n[t]},(function(e){e&&o.current&&e.time>=o.current.time&&(i(e),o.current=e)}))},b=function(e){i&&m.a.unsubscribe("un_get_kline",{symbol:Object(p.j)(i),time_type:p.n[t]})},O=function(e,t){setTimeout((function(){return t({name:e,pricescale:100,ticker:e,minmov:1,type:"crypto",has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,has_no_volume:!0,pro_name:e,has_daily:!0,timezone:"UTC",session:"24x7",exchange:"Deri",supported_resolutions:I})}),0)},f=function(){var e=Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",n=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({symbol:i,datafeed:l.current,interval:t,locale:c.locale,timezone:e},S);r.current=new k(n),r.current.onChartReady((function(){s&&s(!1),r.current.activeChart().createStudy("Moving Average",!1,!0,[7],null,{"Plot.color":"rgba(241, 156, 56, 0.7)"}),r.current.chart().createStudy("Moving Average",!1,!0,[25],null,{"Plot.color":"rgba(116, 252, 253, 0.7)"}),r.current.chart().createStudy("Moving Average",!1,!0,[99],null,{"Plot.color":"rgba(234, 61, 247, 0.7)"})}))};return Object(n.useEffect)((function(){return i&&t&&a&&f(),function(){r.current&&r.current.remove(),b()}}),[i,t,a]),Object(h.jsx)("div",{id:"tv-container"})})));var M=Object(r.b)("intl","trading")(Object(r.c)((function(e){var t=e.symbol,i=e.lang,c=Object(n.useState)(!0),r=Object(s.a)(c,2),l=r[0],d=r[1],j=Object(n.useState)("one"),b=Object(s.a)(j,2),u=b[0],m=b[1],g=Object(n.useState)(""),x=Object(s.a)(g,2),f=x[0],A=x[1],v=Object(n.useState)("1"),y=Object(s.a)(v,2),N=y[0],w=y[1],C=Object(n.useState)(""),k=Object(s.a)(C,2),S=k[0],I=k[1],D=a()("btn",u),M=a()("switcher",f),Q=function(e,t){m(t),w(e)},E=function(e){A(e)},R=function(e){if(e&&e.data){var t=e.data,n=t.close-t.open>0?"rise":"down";t.open&&t.close&&t.high&&t.low&&I(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:i.open}),Object(h.jsx)("span",{className:n,children:t.open.toFixed(2)}),Object(h.jsx)("span",{children:i.high})," ",Object(h.jsxs)("span",{className:n,children:[" ",t.high.toFixed(2)]}),Object(h.jsx)("span",{children:i.low}),Object(h.jsx)("span",{className:n,children:t.low.toFixed(2)}),Object(h.jsx)("span",{children:i.closed}),Object(h.jsx)("span",{className:n,children:t.close.toFixed(2)})]}))}};return Object(n.useEffect)((function(){return o.a.isOption?A("mark-price"):A("index-price"),function(){}}),[]),Object(h.jsxs)("div",{id:"tradingview",children:[o.a.isOption&&Object(h.jsxs)("div",{className:M,children:[Object(h.jsx)("span",{className:"mark-price-c",onClick:function(){return E("mark-price")},children:i["option-mark-price"]}),Object(h.jsx)("span",{className:"index-price-c",onClick:function(){return E("index-price")},children:Object(p.x)(t)||i.index}),Object(h.jsx)("span",{className:"option-index-c",onClick:function(){return E("option-index")},children:"".concat(i.option," + ").concat(Object(p.x)(t)||i.index)})]}),Object(h.jsxs)("div",{className:D,children:[Object(h.jsxs)("span",{className:"candle-data-area",children:[Object(h.jsx)("span",{className:"symbol-value",style:{display:"mark-price"===f||"option-index"===f?"inline-block":"none"},children:S&&t}),Object(h.jsx)("span",{className:"candle-data",style:{display:"mark-price"===f||"option-index"===f?"inline-block":"none"},children:S})]}),Object(h.jsxs)("span",{className:"interval",children:[Object(h.jsxs)("span",{className:"tab-btn one",onClick:function(){return Q("1","one")},children:["1",i.min]}),Object(h.jsxs)("span",{className:"tab-btn five",onClick:function(){return Q("5","five")},children:["5",i.min]}),Object(h.jsxs)("span",{className:"tab-btn fifteen",onClick:function(){return Q("15","fifteen")},children:["15",i.min]}),Object(h.jsxs)("span",{className:"tab-btn thirty",onClick:function(){return Q("30","thirty")},children:["30",i.min]}),Object(h.jsxs)("span",{className:"tab-btn sixty",onClick:function(){return Q("60","sixty")},children:["1",i.hour]}),Object(h.jsxs)("span",{className:"tab-btn one-day",onClick:function(){return Q("1D","one-day")},children:["1",i.day]}),Object(h.jsxs)("span",{className:"tab-btn one-week",onClick:function(){return Q("1W","one-week")},children:["1",i.week]})]})]}),Object(h.jsx)("div",{className:"loading",style:{display:l?"block":"none"},children:Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"sr-only"})})}),Object(h.jsx)("div",{style:{display:"index-price"===f?"block":"none"},children:Object(h.jsx)(B,{symbol:t,interval:N,showLoad:function(e){return d(e)},preload:"index-price"===f})}),o.a.isOption&&Object(h.jsx)("div",{id:"lightweight-chart",style:{display:"mark-price"===f?"block":"none"},children:Object(h.jsx)(O,{symbol:t,interval:N,displayCandleData:R,showLoad:function(e){return d(e)},lang:i,preload:"mark-price"===f})}),o.a.isOption&&Object(h.jsx)("div",{id:"lightweight-chart",style:{display:"option-index"===f?"block":"none"},children:Object(h.jsx)(O,{symbol:t,interval:N,displayCandleData:R,showLoad:function(e){return d(e)},lang:i,mixedChart:!0,preload:"option-index"===f})})]})}))),Q=i(616),E=i(8),R=i(624);var P=Object(r.b)("trading","version","type")(Object(r.c)((function(e){var t=e.version,i=e.trading,c=e.lang,a=e.type,r=Object(n.useState)("rise"),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)("rise"),b=Object(s.a)(j,2),u=b[0],p=b[1],m=Object(n.useState)(),O=Object(s.a)(m,2),g=O[0],x=O[1],f=Object(n.useRef)(),A=Object(n.useRef)();return Object(n.useEffect)((function(){return f.current&&(f.current>i.index?d("fall"):d("rise")),f.current=i.index,function(){}}),[i.index]),Object(n.useEffect)((function(){if(a.isOption&&i.index&&i.position.strikePrice&&i.position.timePrice){var e=i.position.markPrice;A.current>e?p("fall trade-dashboard-value"):p("rise trade-dashboard-value"),A.current=e,x(e)}}),[i.index,i.position]),Object(h.jsxs)("div",{id:"trading-view",children:[Object(h.jsxs)("div",{className:"right-top",children:[Object(h.jsx)("div",{className:"symbol-basetoken-text",children:a.isOption?"".concat(i.config?i.config.symbol:""):t.isV1||t.isV2Lite||t.isOpen?"".concat(i.config?i.config.symbol:"BTCUSD"," / ").concat(i.config?i.config.bTokenSymbol:"","  (10X)"):"".concat(i.config?i.config.symbol:"BTCUSD"," (10X)")}),a.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsx)("div",{className:"trade-dashboard-title",children:c["index-price"]}),Object(h.jsx)("div",{className:l,children:Object(h.jsx)(Q.a,{value:i.index,decimalScale:2})})]}),Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsxs)("div",{className:"trade-dashboard-title",children:[Object(h.jsx)("span",{children:c["funding-rate-annual"]}),"  "]}),Object(h.jsx)("div",{className:"trade-dashboard-value",children:Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",tip:i.fundingRateTip||"",children:Object(h.jsx)(Q.a,{value:i.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})})]}),Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsx)("div",{className:"trade-dashboard-title",children:c["total-net-position"]}),Object(h.jsx)("div",{className:"trade-dashboard-value",children:Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",tip:i.TotalNetPositionTip||"",children:Object(h.jsx)(Q.a,{value:i.fundingRate.tradersNetVolume})})})})]})]}),a.isOption&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price option-price-weight",children:[Object(h.jsx)("div",{className:"trade-dashboard-title",children:c["eo-mark-price"]}),Object(h.jsx)("div",{className:u,children:Object(h.jsx)(Q.a,{value:g,decimalScale:4})})]}),Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsx)("div",{className:"trade-dashboard-title option-symbol",children:i.config&&a.isOption?i.config.symbol.split("-")[0]:""}),Object(h.jsxs)("div",{className:"trade-dashboard-value",children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(Q.a,{value:i.index,decimalScale:2})," "]}),Object(h.jsx)("span",{className:"vol",children:" | "}),c.vol," : ",Object(h.jsx)(Q.a,{value:i.position.volatility,decimalScale:2,suffix:"%"})]})]}),Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsxs)("div",{className:"trade-dashboard-title",children:[Object(h.jsx)("span",{children:c["funding-rate"]}),"  "]}),Object(h.jsx)("div",{className:"trade-dashboard-value",children:Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"funding-per",tip:i.optionFundingRateTip||"",children:Object(h.jsx)(Q.a,{value:i.fundingRate.premiumFunding0,decimalScale:4})})})})]}),Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsx)("div",{className:"trade-dashboard-title",children:c["total-net-position"]}),Object(h.jsx)("div",{className:"trade-dashboard-value",children:Object(h.jsx)(Q.a,{value:Object(E.g)(i.fundingRate.tradersNetVolume).times(i.contract.multiplier).toString(),decimalScale:4})})]})]}),Object(h.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(h.jsx)("div",{className:"trade-dashboard-title",children:c["pool-total-liquidity"]}),Object(h.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(h.jsx)(Q.a,{allowLeadingZeros:!0,thousandSeparator:!0,value:i.fundingRate.liquidity,decimalScale:2})," ",i.config&&i.config.bTokenSymbol]})]})]}),Object(h.jsx)("div",{className:"tradingview",children:Object(h.jsx)(M,{symbol:i.config&&i.config.symbol,lang:c,version:t})})]})}))),_=i(141),F=i(655),J=i(656),L=i(743),T=i(744),H=(i(741),i(690));i(742);const Y=Object(_.a)(F.a),G=Object(_.a)(J.a),z=Object(_.a)(H.a);function W({wallet:e,trading:t,lang:i}){const[s,c]=Object(n.useState)(Object(h.jsx)("span",{}));return Object(n.useEffect)((()=>{if(e.isConnected()&&t.positions)if(t.positions.length&&t.positions.length>0){if(t.positions[0].liquidationPrice&&t.positions[0].liquidationPrice.length){let e=t.positions[0].liquidationPrice.map(((e,t)=>((e,t)=>{let n=Object(h.jsx)("span",{children:"--"},t);return e.numPositions>1?(e.price1&&e.price2?n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsx)(Q.a,{decimalScale:2,value:e.price1}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(Q.a,{decimalScale:2,value:e.price2})]}),"\xa0"]},t):e.price1||e.price2?!e.price1&&e.price2?n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "}),"  "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(Q.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]},t):e.price1&&!e.price2&&(n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(Q.a,{decimalScale:2,value:e.price1})," "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},t)):n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)(R.a,{block:!1,children:["   ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},t),n):(e.price1&&e.price2?n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsx)(Q.a,{decimalScale:2,value:e.price1}),Object(h.jsx)("span",{children:" / "}),Object(h.jsx)(Q.a,{decimalScale:2,value:e.price2})]}),"\xa0"]},t):e.price1||e.price2?!e.price1&&e.price2?n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(Q.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]},t):e.price1&&!e.price2&&(n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(Q.a,{decimalScale:2,value:e.price1})," "]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},t)):n=Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.underlier,": "]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(h.jsx)("span",{children:" / "}),Object(h.jsxs)(R.a,{block:!1,children:[" ",Object(h.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},t),n)})(e,t)));c(e)}}else c("")}),[e,t.positions]),Object(h.jsx)("span",{children:s})}var U=Object(r.b)("wallet","trading","version","type","loading")(Object(r.c)((function({wallet:e,trading:t,version:i,lang:s,type:c,loading:a}){const[r,o]=Object(n.useState)("LONG"),[l,d]=Object(n.useState)(!1),[j,b]=Object(n.useState)(null),[u,m]=Object(n.useState)(!1),[O,g]=Object(n.useState)(!1),[x,f]=Object(n.useState)(!1),[A,v]=Object(n.useState)(""),[y,N]=Object(n.useState)(""),[w,C]=Object(n.useState)(""),[k,S]=Object(n.useState)([]);Object(n.useEffect)((()=>{e.isConnected()&&t.positions&&S(t.positions)}),[e.detail.account,t.positions]);const I=()=>{B()},D=I,B=()=>{M(),t.refresh()},M=async()=>{if(e.isConnected()&&t.config){const i=await Object(E.Z)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.log(e)));i&&v(i)}};return Object(n.useEffect)((()=>{if(t.position){const{position:e}=t,i=+e.volume>0?"LONG":e.volume&&!Object(p.e)(e.volume,0)&&e.volume?"SHORT":"--";o(i),N(Object(E.g)(e.margin).plus(e.unrealizedPnl).toString()),C(Object(E.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(n.useEffect)((()=>(M(),()=>{})),[e.detail.account,t.config,t.amount.dynBalance]),Object(h.jsxs)("div",{className:"position-box",children:[Object(h.jsxs)("div",{className:"p1-box theader",children:[Object(h.jsxs)("div",{className:"dyn-eff-bal",children:[s["dynamic-effective-balance"]," : \xa0",Object(h.jsxs)("span",{children:[i.isV1||i.isV2Lite||c.isOption||i.isOpen?Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:()=>g(!0),tip:s["remove-margin"],children:Object(h.jsx)("img",{src:L.a,alt:"add margin"})})}):Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"open-add",id:"openAddMargin",tip:s["remove-margin"],onClick:()=>f(!0),children:Object(h.jsx)("img",{src:L.a,alt:"add margin"})})}),Object(h.jsx)(Q.a,{allowZero:!0,value:y,decimalScale:2}),i.isV1||i.isV2Lite||c.isOption||i.isOpen?Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"open-remove",onClick:()=>m(!0),tip:s["add-margin"],children:Object(h.jsx)("img",{src:T.a,alt:"add margin"})})}):Object(h.jsx)(R.a,{block:!1,children:Object(h.jsx)("span",{className:"open-remove",onClick:()=>f(!0),tip:s["add-margin"],children:Object(h.jsx)("img",{src:T.a,alt:"add margin"})})})]})]}),c.isOption&&Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsxs)("div",{className:"liquidation-price",children:[Object(h.jsx)(R.a,{block:!1,children:Object(h.jsxs)("span",{className:"funding-fee",tip:s["liq-price-hover-one"],children:[s["liquidation-price"],"  "]})}),": ",Object(h.jsx)(W,{wallet:e,trading:t,lang:s})]})]})]}),Object(h.jsxs)("div",{className:"p-box theader",children:[Object(h.jsx)("div",{className:"position-symbol",children:s.symbol}),Object(h.jsx)("div",{className:"position",children:s.position}),Object(h.jsx)("div",{className:"ave-entry-price",children:s["average-entry-price"]}),Object(h.jsx)("div",{className:"direction",children:s.direction}),Object(h.jsx)("div",{className:"margin",children:s.margin}),Object(h.jsx)("div",{className:"unrealized-pnl",children:s["unrealized-pnl"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(R.a,{children:Object(h.jsx)("span",{className:"funding-fee",tip:s["funding-fee-tip"],children:s["funding-fee"]})})," "]}),c.isFuture&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"unrealized-pnl",children:[s["liquidation-price"]," "]})})]}),k.map(((i,n)=>Object(h.jsxs)("div",{className:"p-box tbody",children:[Object(h.jsx)("div",{className:"position-symbol",onClick:()=>(e=>{const i=t.configs.find((i=>i.pool===t.config.pool&&e===i.symbolId));i&&(a.loading(),t.pause(),t.setConfig(i),t.onSymbolChange(i,(()=>a.loaded()),c.isOption))})(i.symbolId),children:i.symbol}),Object(h.jsxs)("div",{className:"position",children:[Object(h.jsx)(Q.a,{value:i.volume,allowZero:!0}),Object(h.jsxs)("span",{className:"close-position",children:[Object(h.jsx)("img",{style:{display:j!==n?"inline-block":"none"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAYAAADPf+9qAAAABHNCSVQICAgIfAhkiAAAGEJJREFUeF7tnWmo7VUZh+8pHCvFCZtTUywoJSuKckgrmjBJUaNPURJkNpFSEGXThxKLJvoQpARBZNJEkmGJpFYWyS2xNJOykMKUq5VWlt1+69y9793nnD38hzW871rPhj/n3HPW8K7n956H/9F99l7b1uOxc+fOl2n4ObpO0HXY5Aor/HVy/UIfr1hbW/thj2UZCgEINE5AbjlFCM7S9XxdT5i45VEzbvnlxC1X90G1tmqwNn6Mxlyo6526Dlo1fvL9+/Tx07o+Kdn9s+MchkEAAg0RkFv21XHfoetdE6l1Of39GvQFXR+XW/6+asJSwamA87XAhyY2XbXWvO//RV+8WIV8cchk5kAAAnUSkFvepJN9VNcTB54w3ER9VG75zLL5cwWnzQ/QpCt0vWLg5punfVdfeL2KeTDSeiwDAQg4JCC37Keyv6LrzEjlX6t1zpJbwp3dlscWwamAp2tU+D336EgFTJe5XZ+crkLuiLwuy0EAAg4IyC1PVZlX6XpW5HL/oPVeK7fcsnndDYKb3Llt16AjIxcwXe5efXKiCgmy4wEBCDRCQG55mo56o64nJTryn7Xu8XJL+B+eux+7BacCHq2vXqPr1EQFILnEYFkeAhYJZJDb9Ng/0ycnS3L/nn5hVnDv1xc/lgnQPdrnJSrkN5n2YxsIQKAAAcntCG17va4nZ9r+Unnlog2CUxEH6wt/1BWeEpLrwa+ruUizDwQKEMh45zZ7uof1j6MluT+FL67fwamQ8Jy18Dy33A8kl5s4+0EgA4FCcpue7HIJLjwNZduaCtlbH3fo2j/DuedtgeQKgWdbCKQgUFhu4UiP6DowPC0tCC48163Xnz8kgILkEkBlSQjkJmBAbtMjnynBfTMI7nP6ygW5QczZD8kZCIESIDCUgCG5hSN8SYI7LwguPDflRUMPFXkekosMlOUgkIOAMbmFI2+X4J4TBHen/nFUDggd90ByHUExDAIWCBiUW8ByjwR3eBBc+Iv8x1oANVMDkjMWCOVAYB4Bo3ILpe7UtY9VwYUCkRw/UxAwTMCw3KbU9gqC+63+dYxRjkjOaDCU1TYBB3K7T7+iHhoEd52iCq+mafWB5KwmQ11NEnAgt5DLLRLccUFwn9I/3m08KSRnPCDKa4OAE7mFML4swb0xCC68z0J4FRHrDyRnPSHqq5qAI7mFHM6W4K4Mggsvk/SArpx/aD+0EZDcUHLMg8AIAs7kFv5U6wAJ7qHSf2w/BDmSG0KNORAYSMCZ3MIpL5Pc3hw+mQruEH1+l5O7uFA3khvYrEyDQB8CDuX2H53vSAnu7t2CC5/oIB/Uhw/3OXzhseFFM0/RQW4rXAfbQ6BKAhO53aDD5XqxyhgcPyEnvG+60OaXLL9O3zgxxi6Z1uBOLhNotmmLgMM7txDQz3W9WIILd3Hrj81vOhNe2Te86cxTHMWJ5ByFRan2CTiV2/I3nZli1+GO1efhtvRQ+1HsrpD3eHAUFqXaJaCf/yNUXc73UIgB429aJPznqnBztuGx6I2fn6FRP9J1WIzdM63BnVwm0GxTJwGnd27hKW6nSW43z0tlruDCQB0WydXZx5wKAlsI1Ci3cMiFgkNy/BRAoA0CtcptpeCQXBsNzinbJVCz3DoJDsm12/ycvG4Ctcuts+CQXN2NzunaI9CC3HoJDsm190PAiesk0IrcegsOydXZ8JyqHQItyW2Q4JBcOz8MnLQuAq3JbbDgkFxdjc9p6ifQotxGCQ7J1f9DwQnrINCq3EYLDsnV8QPAKeol0LLcoggOydX7w8HJfBNoXW7RBIfkfP8gUH19BJDbrkyX/i1q39j5A/2+xBgPgfgEkNseplEFx51c/GZlRQj0IYDcNtKKLjgk16cdGQuBeASQ21aWSQSH5OI1LStBoAsB5DafUjLBIbkubckYCIwngNwWM0wqOCQ3vnlZAQLLCCC35f2RXHBIjh9QCKQhgNxWc80iOCS3OghGQKAPAeTWjVY2wSG5boEwCgKrCCC3VYT2fD+r4JBc92AYCYF5BJBbv77ILjgk1y8gRkNgSgC59e+FIoJDcv2DYkbbBJDbsPyLCQ7JDQuMWe0RQG7DMy8qOCQ3PDhmtkEAuY3LubjgkNy4AJldLwHkNj5bE4JDcuODZIW6CCC3OHmaERySixMoq/gngNziZWhKcEguXrCs5JMAcoubmznBIbm4AbOaHwLILX5WJgWH5OIHzYq2CTiV2z9E9ZS1tbWbrdI1KzgkZ7VlqCs2Acdye5nkdlNsHjHXMy04JBczataySAC5pU3FvOCQXNoGYPVyBJBbevYuBIfk0jcCO+QlgNzy8HYjOCSXpyHYJT0B5Jae8XQHV4JDcvkag53SEEBuabguWtWd4JBc3gZht3gEkFs8ll1Xcik4JNc1XsZZIYDcyiThVnAzkrtRnx9cBt+gXe/VrBP1/KHbB81mkjsCyK1cZK4FN5Hcs/XxOiRXronYeTEB5Fa2O9wLDsmVbSB2R26We6AKwSE5yy3WZm3cudnIvRrBITkbDUUV27YhNztdUJXgkJydxmq1EuRmK/nqBIfkbDVYS9UgN3tpVyk4JGev0WqvCLnZTLhawSE5mw1XY1XIzW6qVQsOydltvFoqQ262k6xecEjOdgN6rg652U+vCcEhOfuN6K1C5OYjsWYEh+R8NKSHKpGbh5R21diU4JCcn8a0Wilys5rM/LqaExyS89WglqpFbpbS6FZLk4JDct2ag1F7CCA3n93QrOCQnM+GLVE1citBPc6eTQsOycVpoppXQW6+021ecEjOdwOnrB65paSbZ20EN+GsZuaVgfP0nItdkJuLmFYWieBmECG5lf3SxADkVk/MCG5TlkiunuYechLkNoSa3TkIbk42SM5uw6asDLmlpFtmbQS3gDuSK9OQpXZFbqXIp90XwS3hi+TSNp+V1ZGblSTi14HgVjBFcvGbztKKyM1SGvFrQXAdmCK5DpAcDkFuDkPrWTKC6wgMyXUE5WQYcnMS1MgyEVwPgEiuByzDQ5Gb4XAil4bgegJFcj2BGRuO3IwFkrgcBDcAMJIbAM3AFORmIITMJSC4gcCR3EBwhaYht0LgC2+L4EYEgORGwMs4FbllhG1sKwQ3MhAkNxJg4unILTFg48sjuAgBIbkIEBMsgdwSQHW2JIKLFBiSiwQy0jLILRJI58sguIgBIrmIMEcs5VRuD+nIp62trd004uhM3UQAwUVuCSQXGWjP5RzL7RWS2w09j8vwFQQQXIIWQXIJoHZYErl1gNTYEASXKHAklwjsgmWRW17eXnZDcAmTQnIJ4c4sjdzycPa4C4JLnBqSSwsYuaXl6311BJchQSSXBjJyS8O1plURXKY0kVxc0MgtLs9aV0NwGZN1LLmX6CkMt2ZEtXQr5GYlCft1ILjMGTmV3A5hOsmC5JBb5oZ1vh2CKxAgkhsGHbkN49byLARXKH0k1w88cuvHi9G7CCC4gp2A5LrBR27dODFqKwEEV7grkNzyAJBb4QZ1vj2CMxDgRHLXq5QDDZTTtYTk/+MBuXWNgnGLCCA4I72hH+YTVMq1SG5XIMjNSGM6LwPBGQoQySE3Q+1YRSkIzliMrUuOOzdjDem8HARnMMBWJYfcDDaj85IQnNEAW5MccjPaiM7LQnCGA2xFcsjNcBM6Lw3BGQ+wdskhN+MN6Lw8BOcgwFolh9wcNJ/zEhGckwBrkxxyc9J4zstEcI4CrEVyyM1R0zkvFcE5C9C75JCbs4ZzXi6CcxigY8mdK9yX63qSI+zhHed5U2ZHgc2WiuCcBudUcv8T7kc5Qo7cHIU1r1QE5zhAp5LzQhy5eUlqSZ0IznmISC5JgMgtCdb8iyK4/Myj74jkoiJFblFxll0MwZXlH213JBcFJXKLgtHOIgjOThajK0FyoxAit1H4bE5GcDZzGVwVkhuEDrkNwmZ/EoKzn1HvCpFcL2TIrRcuX4MRnK+8OleL5DqhQm6dMPkdhOD8ZreyciS3FBFyW9lB/gcgOP8ZLj0BkpuLB7lV3vfT4yG4BoJGchtCRm4N9DyCayjkcFQktx44cmus77mDayjwxiWH3Brqde7gGgy74Ts55NZov3MH12Dwjd3JIbcGe5w7uIZDb+hODrk13ufcwTXcAJXfySG3hnubOzjCXydQqeSQG/29ToA7OBqhNsn9S5G+fG1t7QaihQCCowdqupMLcnuN5HYtsUKAOzh6YAMB57+uIjf6eQsB7uBois2SO11f+Laz/3yxU/Wepzu3y4gTArMEEBz9sJuA7uCO0j9+rOtwh1h2qOaTJLlbHdZOyYkIILhEYL0t61xuU9xIzlvjJa4XwSUG7GH5SuSG5Dw0W+YaEVxm4Na2q0xuSM5agxWuB8EVDqDk9pXKDcmVbCpjeyM4Y4HkKqdyuSG5XI1kfB8EZzygFOU1Ijckl6J5nK2J4JwFNrbcxuSG5MY2jPP5CM55gH3Kb1RuSK5Pk1Q2FsFVFuii4zQuNyTXSJ9vPiaCayB45LYhZJ4M3EDPT4+I4CoPG7nNDRjJVd73CK6BgJHb0pCRXAM/A9zBVRoycusULJLrhMnvIATnN7uFlSO3XqEiuV64fA1GcL7yWlktcluJaN4AJDcIm/1JCM5+Rp0rRG6dUSG5Uaj8TEZwfrJaWilyixIkd3JRMNpZBMHZyWJwJchtMDru5KKis7cYgrOXSa+KkFsvXF0HcyfXlZTxcQjOeEDLykNuScNDcknx5lkcweXhHH0X5BYdKb+uZkGadxMEl5d3lN2cyi28b+mFuj6u67FRQORZhDu5PJyT7ILgkmBNt6hjua2/47zqf4Ho/ADJpesRVt5DAME56gbvcpuiRnKOms55qQjOSYC1yA3JOWm4SspEcA6CrE1uSM5B01VSIoIzHmStckNyxhuvkvIQnOEga5cbkjPcfJWUhuCMBtmK3JCc0QaspCwEZzDI1uSG5Aw2YSUlIThjQbYqNyRnrBErKQfBGQqydbkhOUPNWEkpCM5IkMhtYxA8GdhIYzovA8EZCBC5zQ8ByRloTuclILjCASK35QEgucIN6nx7BFcwQOTWDT6S68aJUVsJILhCXYHc+oFHcv14MXoXAQRXoBOQ2zDoSG4Yt5ZnIbjM6SO3ccCR3Dh+rc1GcBkTR25xYCO5OBxbWAXBZUrZqdweFp5XhVfizYSp8zZIrjOqpgciuAzxO5bbGZLb1RkQDdoCyQ3C1tQkBJc4buSWFjCSS8vX++oILmGCyC0h3JmlkVwezh53QXCJUkNuicAuWBbJ5eXtZTcElyAp5JYAaoclkVwHSI0NQXCRA0dukYH2XA7J9QRW+XAEFzFg5BYR5oilkNwIeJVNRXCRAkVukUBGWgbJRQLpfBkEFyFA5BYBYoIlkFwCqM6WRHAjA0NuIwEmno7kEgM2vjyCGxEQchsBL+NUJJcRtrGtENzAQJDbQHCFpiG5QuALb4vgBgSA3AZAMzAFyRkIIXMJCK4ncOTWE5ix4UjOWCCJy0FwPQAjtx6wDA9FcobDiVwagusIFLl1BOVkGJJzEtTIMhFcB4DIrQMkh0OQnMPQepaM4FYAQ249O8rZcCTnLLCe5SK4JcCQW89ucjocyTkNrkPZCG4BJOTWoXsqGoLkKgpz5igIbk6uyK3OZl91KiS3ipC/7yO4TZkhN39NHLNiJBeTZvm1ENxMBsitfENaqGAiufBWiftbqKdjDTs07iS9C9qtHcc3MQzBTWJGbk30e+dDqh9O1ODvI7nOyEwORHCKBbmZ7M3iRSG54hGMLqB5wSG30T1U9QJIzne8TQsOuflu3lzVI7lcpOPv06zgkFv8Zqp5RSTnM90mBYfcfDZr6aqRXOkE+u/fnOCQW/8mYcYeAkjOVzc0JTjk5qs5rVaL5Kwms7WuZgSH3Pw0pYdKkZyHlLZta0JwyM1HM3qrEsnZT6x6wSE3+03ouUIkZzu9qgWH3Gw3Xy3VITm7SVYrOORmt+lqrAzJ2Uy1SsEhN5vNVntVSM5ewtUJDrnZa7KWKkJyttKuSnDIzVZztVoNkrOTfDWCQ252mopK1l+Ci9eTM9AIVQgOuRnoJErYQgDJlW8K94JDbuWbiAoWE0ByZbvDteCQW9nmYfduBJBcN04pRrkVHHJL0Q6smYoAkktFdvm6LgWH3Mo0C7uOI4DkxvEbMtud4JzK7b8K53S9pdvVQ0JiTj0EkFzeLF0JzrHczpLcvpM3WnazSgDJ5UvGjeCQW76mYKf0BJBcesZhBxeCQ255moFd8hJAcul5mxccckvfBOxQjgCSS8vetOCQW9rwWd0GASSXLgezgkNu6UJnZXsEkFyaTEwKDrmlCZtVbRNAcvHzMSc45BY/ZFb0QwDJxc3KlOCQW9xwWc0nASQXLzczgkNu8UJlJf8EkFycDE0IDrnFCZNV6iKA5MbnWVxwyG18iKxQLwEkNy7booJDbuPCY3YbBJDc8JyLCQ65DQ+Nme0RQHLDMi8iOOQ2LCxmtU0AyfXPP7vgkFv/kJgBgSkBJNevF7IKDrn1C4fREJhHwLHkTtPrIm7PmWo2wSG3nLGyV+0EkFy3hLMIDrl1C4NREOhDwKnk/qYznpLrTi654JBbn5ZlLAT6EUByy3klFRxy69esjIbAEAJIbjG1ZIJDbkNalTkQGEYAyc3nlkRwyG1YkzILAmMIILmt9KILDrmNaVHmQmAcASS3kV9UwSG3cc3JbAjEIIDk9lCMJjjkFqM1WQMCcQgguV0cowgOucVpSlaBQEwCE8ldozX3jblu4rWiPk9utOCQW+K4WR4CIwjo5/M0Tb+qVcmNEhxyG9F5TIVAJgItS26w4JBbpu5kGwhEINCq5AYJDrlF6DiWgEBmAi1KrrfgkFvmrmQ7CEQk0JrkegkOuUXsNJaCQCECLUmus+CQW6FuZFsIJCDQiuQ6CQ65JegwloRAYQItSG6l4JBb4S5kewgkJFC75JYKDrkl7CyWhoARAjVLbqHgkJuR7qMMCGQgUKvk5goOuWXoKLaAgDECNUpui+B0yKeL+w26Hm+M/6pyztIbWXxj1SC+DwEILCYwkdx3NWI/R5zuV62nznsjmw2C0+EO0sBf6DrS0eH+q1qD3L7jqGZKhYBZAk7v5P4soMfLA3+dBbtbcDrUo/WN8NIqp5olv7Uw5OYoLEr1Q8Cp5H4mwidLcv+ekp4V3MX64of8RLBe6et0mG85q5lyIeCCwERyP3RR7J4iL5UTLtogOB3kYH3hj7oe4+Qw3Lk5CYoyfRNweCf3sIgfLcn9KZBfv4PTIT6nDxc4iQK5OQmKMusg4FByl0twb1oXnIrfWx936NrfQRyPqMbXq/grHdRKiRCohoAzyQVPHChPPBgE92r9I7yksfUHcrOeEPVVTcCZ5M6U4L4ZBPcFpfJW48kgN+MBUV4bBBxJ7ksS3HlBcD9RNC80HA9yMxwOpbVHwInktktwzwmCu1MRHWU0JuRmNBjKapuAA8ndI8EdHgT3D0Vl8ekhyK3tnyFOb5yAccntFL59rAoOuRlvbsqDQCBgXHJ7BcH9TnWGP7C38kBuVpKgDgh0IGBUcvfpV9RDg+DCK4e8uMM5cgxBbjkoswcEIhMwKLlbJLjjguA+q7O+PfJ5hyyH3IZQYw4EjBAwJrkvS3BvDIJ7pfh8rzAj5FY4ALaHQAwChiR3dviLpyC4fXSwB3SFjyUeyK0EdfaEQCICBiQXnHKABPfQ9I/tP68vvC3ReZcti9wKQGdLCKQmUFhyl0lubw5nnAouvDz573Xtm/rgM+sjt4yw2QoCuQkUktx/dM4jJbi7dwsufKJiPqIPH8gI4RwV8fWM+7EVBCCQmYC88lJtGd7jIdfN0yXyynunx5x9Rd+99MWf6zo+MQPu3BIDZnkIWCKQ8U7u1zr3cyW4f20R3OQu7gh9/JWuxyUChNwSgWVZCFgmkEFyD4WbM8kt/OHC7se8tw18lb4b3n4vxS0lb+1nuQupDQIJCUwkF95DJcUN1PrTQjaXv+iNn8Ovqd/W9bRI571L65yhAn4ZaT2WgQAEHBKQ5MKfhYYX2D02Uvnh7QLDi1v+dN56cwUXBqqQQ/QhvBjmOSML+armn68Cwpuz8oAABBonILeEVy8Kf0G1/r4JIx7hbvAtm98LdXa9hYKbDlIxz9Pnn9bV9+9Vf6A5F2nz7SMOwFQIQKBSAnLLs3S0S3SF/yzW53GjBr9Hbrlp1aSVgpsRXfi19Vxd4Y5u0auP3KbvXaHrK9r8jlWb830IQAACEt0xovCGiV+euYBI+J8H4WllX+vzn7o6C44YIAABCHgj8H9KLGYC1guKQwAAAABJRU5ErkJggg==",onClick:()=>{(async(i,n,c)=>{d(!0),b(c);const a=await Object(E.h)(e.detail.chainId,t.config.pool,e.detail.account,i).finally((()=>{d(!1),b(null)}));a.success?B():"string"===typeof a.error?alert(a.error||s["close-position-failed"]):"object"===typeof a.error?alert(a.error.errorMessage||s["close-position-failed"]):alert(s["close-position-failed"])})(i.symbolId,i.volume,n)}}),Object(h.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:l&&j===n?"block":"none"}})]})]}),Object(h.jsx)("div",{className:"ave-entry-price",children:Object(h.jsx)(Q.a,{value:i.averageEntryPrice,decimalScale:4})}),Object(h.jsx)("div",{className:i.direction,children:s[i.direction.toLowerCase()]||i.direction}),Object(h.jsx)("div",{className:"margin",children:Object(h.jsx)(Q.a,{value:i.marginHeldBySymbol,decimalScale:2})}),Object(h.jsx)("div",{className:"pnl",children:Object(h.jsx)("span",{className:"pnl-list unrealized-pnl",children:Object(h.jsx)(Q.a,{value:i.unrealizedPnl,decimalScale:6})})}),c.isOption&&Object(h.jsx)("div",{children:Object(h.jsx)(Q.a,{value:-i.premiumFundingAccrued,decimalScale:8})}),c.isFuture&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(Q.a,{value:-i.fundingFee,decimalScale:8})}),Object(h.jsx)("div",{children:Object(h.jsx)(Q.a,{value:i.liquidationPrice,decimalScale:4})})]})]},n))),k.length?"":Object(h.jsx)("div",{className:"no-data",children:s["no-data"]}),Object(h.jsx)(Y,{wallet:e,modalIsOpen:u,onClose:()=>m(!1),spec:t.config,afterDeposit:D,balance:A,className:"trading-dialog",lang:s}),Object(h.jsx)(G,{wallet:e,modalIsOpen:O,onClose:()=>g(!1),spec:t.config,afterWithdraw:I,availableBalance:w,position:t.position,className:"trading-dialog",lang:s}),Object(h.jsx)(z,{wallet:e,modalIsOpen:x,onClose:()=>f(!1),spec:t.config,afterDepositAndWithdraw:()=>{B()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:s})]})}))),q=i(643),Z=i.n(q),V=(i(621),i(58)),K=i(657);const X=V[E.a.get()].chainInfo;function $({wallet:e,his:t}){const[i,s]=Object(n.useState)(!1),c=()=>{s(!0)},r=()=>{s(!1)},o=a()("view",{hover:i});return Object(h.jsxs)("span",{className:o,onMouseOut:r,children:[Object(h.jsx)("span",{className:"view-space",onMouseOver:c,children:Object(h.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${X[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",X[e.detail.chainId].viewUrl]})}),Object(h.jsx)("span",{className:"right-arrow",onMouseOver:c,children:Object(h.jsx)("img",{alt:"",src:K.a})}),Object(h.jsx)("span",{className:"view-arrow",onMouseOver:c,onMouseOut:r,children:Object(h.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${X[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(h.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var ee=Object(r.b)("wallet","trading","type")(Object(r.c)((function({wallet:e,trading:t,lang:i,type:s}){const[c,a]=Object(n.useState)([]);return Object(n.useEffect)((()=>(async function(){if(e.isConnected()&&t.config){const e=t.history.map((e=>(e.directionText=i["long-buy"],"SHORT"===e.direction?e.directionText=i["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=i.liquidation),e)));a(e)}}(),()=>{})),[e.detail.account,t.config,t.history]),Object(h.jsxs)("div",{className:"history-box",children:[Object(h.jsxs)("div",{className:"p-box theader",children:[Object(h.jsx)("div",{className:"td",children:i.time}),Object(h.jsx)("div",{children:i.direction}),Object(h.jsxs)("div",{children:[s.isOption&&i["symbol-option"],s.isFuture&&i.symbol]}),Object(h.jsx)("div",{children:i.price}),Object(h.jsxs)("div",{children:[i.volume,"  ",s.isOption?`( ${i.notional} )`:""," "]}),Object(h.jsx)("div",{children:s.isOption?i["contract-value"]:i.notional}),Object(h.jsx)("div",{children:i["transaction-fee"]})]}),c.map(((t,i)=>Object(h.jsxs)("div",{className:"p-box tbody",children:[Object(h.jsx)("div",{className:"td",children:Z.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))}),Object(h.jsxs)("div",{className:t.direction,children:[t.directionText,Object(h.jsx)($,{wallet:e,his:t})]}),Object(h.jsx)("div",{children:t.symbol||"--"}),Object(h.jsx)("div",{children:Object(h.jsx)(Q.a,{value:t.price,decimalScale:4})}),Object(h.jsx)("div",{children:t.volume}),Object(h.jsx)("div",{children:Object(h.jsx)(Q.a,{value:t.notional,decimalScale:4})}),Object(h.jsx)("div",{children:Object(h.jsx)(Q.a,{value:t.transactionFee,decimalScale:4})})]},i))),0===c.length?Object(h.jsx)("div",{className:"no-data",children:i["no-data"]}):""]})})));var te=function({lang:e,type:t}){const[i,s]=Object(n.useState)("position"),c=e=>{s(e)},r=a()("position-info",i);return Object(h.jsxs)("div",{className:r,children:[Object(h.jsxs)("div",{className:"position-header",children:[Object(h.jsxs)("div",{className:"position-title",children:[Object(h.jsx)("span",{className:"position-info-title",children:e["position-info"]}),Object(h.jsx)("span",{className:"history-info-title",children:e["trade-history"]})]}),Object(h.jsxs)("div",{className:"check-position-history ",children:[Object(h.jsx)("div",{className:"btn-position",onClick:()=>c("position"),children:e["current-position"]}),Object(h.jsx)("div",{className:"btn-history",onClick:()=>c("history"),children:e["trade-history"]})]})]}),Object(h.jsxs)("div",{className:"pos-his-info ",children:[Object(h.jsx)(U,{lang:e}),Object(h.jsx)(ee,{lang:e})]})]})},ie=i(768),ne=i(777),se=(i(778),i(779),i(780),i(1031),i(1032),i(1033),i(745)),ce=i(654);t.default=Object(r.b)("wallet","type","version")(Object(r.c)((function({wallet:e,lang:t,type:i,version:s}){return Object(ce.useLocation)().pathname.split("/")[3]&&s.setCurrent("v1"),Object(n.useEffect)((()=>(document.querySelector(".desktop").style.minWidth="1903px",()=>{document.querySelector(".desktop").style.minWidth=""})),[e.detail.account]),Object(h.jsxs)("div",{className:"trade-container",children:[Object(h.jsx)(se.a,{lang:t}),Object(h.jsxs)("div",{className:"trade-body",children:[Object(h.jsx)(ne.a,{lang:t}),Object(h.jsxs)("div",{className:"trade-pro",children:[Object(h.jsx)("div",{className:"left",children:Object(h.jsx)(ie.a,{isPro:!0,lang:t})}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsx)(P,{wallet:e,lang:t}),Object(h.jsx)(te,{lang:t,type:i})]})]})]})]})})))},614:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(4),s=i(13);function c({btnText:e,className:t,disabled:i,click:c,afterClick:a,checkApprove:r,wallet:o,spec:l,lang:d}){const[j,b]=Object(n.useState)(i?"disabled":"enabled"),[u,p]=Object(n.useState)(!0),[m,h]=Object(n.useState)(!1),[O,g]=Object(n.useState)(e),x=Object(n.useRef)(null),f=()=>{b("disabled"),h(!0),x.current&&(x.current.style.display="inline-block")},A=()=>{x.current&&(x.current.style.display="none"),b("enabled"),h(!1)};return Object(n.useEffect)((()=>((async()=>{if(r&&o&&o.detail.account){const e=await o.isApproved(l.pool,l.bTokenId);p(e)}})(),()=>{})),[o,l,r]),Object(n.useEffect)((()=>(e&&g(e),()=>{})),[e]),Object(s.jsxs)("button",{className:t,onClick:()=>{u?(async()=>{if("enabled"!==j)return;f(),await c()&&a&&a(),A()})():(async()=>{f(),(await o.approve(l.pool,l.bTokenId)).success?p(!0):(p(!1),alert(d["approve-failed"])),A()})()},children:[Object(s.jsx)("span",{className:"btn-loading-wrap",children:Object(s.jsx)("span",{ref:x,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),m?d.pending:u?O:d.approve]})}},616:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(4),s=i(621),c=i(13);function a(e){const[t,i]=Object(n.useState)(Object(c.jsx)("span",{className:"loading-line"}));return Object(n.useEffect)((()=>{const{allowZero:t,...n}=e;return("object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&i(Object(c.jsx)(s.a,{...n,displayType:"text"})),()=>{}}),[e.value]),t}},624:function(e,t,i){"use strict";var n=i(4),s=i(13);t.a=function(e){const t=Object(n.useRef)(null);return Object(n.useEffect)((()=>{const e=t.current;if(e){e.querySelectorAll("[tip]").forEach((t=>{let i=null;t.addEventListener("mouseover",(e=>{const t=e.currentTarget.getAttribute("tip");if(t){const n=`hover-box-${(new Date).getTime()}`;i=document.body.querySelector(`#${n}`),i=document.createElement("div"),i.style.cssText=`z-index : 9;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`,document.body.appendChild(i),i.innerText=t,i.id=n,i.style.display="block";const s=e.currentTarget.getBoundingClientRect();if(i.style.top=`${s.y+s.height+window.document.documentElement.scrollTop}px`,i.offsetWidth+e.pageX>window.screen.width)if(e.pageX-i.offsetWidth>=0)i.style.left=e.pageX-i.offsetWidth+"px";else{const t=e.pageX-i.offsetWidth/2>0?e.pageX-i.offsetWidth/2:0;i.style.left=`${t}px`}else i.style.left=`${e.pageX}px`}})),e.addEventListener("mouseout",(e=>{i&&i.remove()}))}))}return()=>{t.current=null}}),[e.title]),e.block?Object(s.jsx)("div",{ref:t,children:e.children}):Object(s.jsx)("span",{ref:t,children:e.children})}},647:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(4);function s(e){return Object(n.useEffect)((()=>(document.querySelector("body").style.overflow="hidden",()=>{e||(document.querySelector("body").style.overflow="auto")})),[]),null}},654:function(e,t,i){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var s=i(21),c=n(i(4)),a=i(40);i(48),i(101);var r=n(i(33));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function d(e,t){if(null==e)return{};var i,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)i=c[n],0<=t.indexOf(i)||(s[i]=e[i]);return s}var j=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).history=a.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(s.Router,{history:this.history,children:this.props.children})},t}(c.Component),b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).history=a.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(s.Router,{history:this.history,children:this.props.children})},t}(c.Component),u=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?a.createLocation(e,null,null,t):e},m=function(e){return e},h=c.forwardRef;void 0===h&&(h=m);var O=h((function(e,t){var i=e.innerRef,n=e.navigate,s=e.onClick,a=d(e,["innerRef","navigate","onClick"]),r=a.target,l=o({},a,{onClick:function(t){try{s&&s(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return l.ref=m!==h&&t||i,c.createElement("a",l)})),g=h((function(e,t){var i=e.component,n=void 0===i?O:i,a=e.replace,l=e.to,j=e.innerRef,b=d(e,["component","replace","to","innerRef"]);return c.createElement(s.__RouterContext.Consumer,null,(function(e){e||r(!1);var i=e.history,s=p(u(l,e.location),e.location),d=s?i.createHref(s):"",O=o({},b,{href:d,navigate:function(){var t=u(l,e.location);(a?i.replace:i.push)(t)}});return m!==h?O.ref=t||j:O.innerRef=j,c.createElement(n,O)}))})),x=function(e){return e},f=c.forwardRef;void 0===f&&(f=x);var A=f((function(e,t){var i=e["aria-current"],n=void 0===i?"page":i,a=e.activeClassName,l=void 0===a?"active":a,j=e.activeStyle,b=e.className,m=e.exact,h=e.isActive,O=e.location,A=e.sensitive,v=e.strict,y=e.style,N=e.to,w=e.innerRef,C=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.createElement(s.__RouterContext.Consumer,null,(function(e){e||r(!1);var i=O||e.location,a=p(u(N,i),i),d=a.pathname,k=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=k?s.matchPath(i.pathname,{path:k,exact:m,sensitive:A,strict:v}):null,I=!!(h?h(S,i):S),D=I?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((function(e){return e})).join(" ")}(b,l):b,B=I?o({},y,{},j):y,M=o({"aria-current":I&&n||null,className:D,style:B,to:a},C);return x!==f?M.ref=t||w:M.innerRef=w,c.createElement(g,M)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return s.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return s.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return s.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return s.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return s.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return s.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return s.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return s.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return s.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return s.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return s.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return s.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return s.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return s.withRouter}}),t.BrowserRouter=j,t.HashRouter=b,t.Link=g,t.NavLink=A},655:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(4),s=i(8),c=i(621),a=i(614),r=i(647),o=i(13);function l({wallet:e,spec:t={},onClose:i,balance:l,afterDeposit:d,nested:j,lang:b}){const[u,p]=Object(n.useState)(""),[m,h]=Object(n.useState)(""),[O,g]=Object(n.useState)(""),[x,f]=Object(n.useState)(!1);Object(r.a)(j);return Object(n.useEffect)((()=>((()=>{if(l){const e=(+l).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";p(l),h(t)}})(),()=>{})),[l]),Object(o.jsx)("div",{className:"modal fade",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(o.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{x||i()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:b["wallet-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsxs)("span",{children:[Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(c.a,{value:u,displayType:"text",decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:m})]}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(o.jsx)("span",{className:"add"})]}),Object(o.jsxs)("div",{className:"enter-margin",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==O?"block":"none"},children:b.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:O,onChange:e=>{const{value:t}=e.target;g(t)}})]})}),Object(o.jsx)("div",{children:t.bTokenSymbol})]}),Object(o.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(o.jsx)("span",{className:"max-num",children:l}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{g(l)},children:b["add-all"]})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(a.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:t,lang:b,click:()=>(async n=>{const c=Object(s.g)(l);if(Object(s.g)(n).gt(c))return void alert(b["insufficient-balance-in-wallet"]);if(+n<=0||isNaN(n))return void alert(b["it-has-to-be-greater-than-zero-tip"]);f(!0),(await Object(s.l)(e.detail.chainId,t.pool,e.detail.account,n,t.bTokenId)).success?(d(),i()):alert(b["deposit-failed"]),f(!1)})(O)})})]})})]})})})}},656:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(4),s=i(8),c=i(614),a=i(616),r=i(23),o=i(647),l=i(13);function d({wallet:e,spec:t={},position:i,onClose:d,afterWithdraw:j,availableBalance:b,nested:u,lang:p}){const[m,h]=Object(n.useState)(""),[O,g]=Object(n.useState)(""),[x,f]=Object(n.useState)(""),[A,v]=Object(n.useState)(!1);Object(o.a)(u);return Object(n.useEffect)((()=>((async()=>{if(e.isConnected()&&b){const e=b;h(e);const t=e.indexOf(".");g(t>0?e.substring(t+1,t+3):"00")}})(),()=>{})),[e.detail.account,i.margin,i.unrealizedPnl]),Object(l.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(l.jsx)("div",{className:"modal-dialog",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("div",{className:"title",children:p["withdraw-margin"]}),Object(l.jsx)("div",{className:"close",onClick:()=>{A||d()},children:Object(l.jsx)("span",{children:"\xd7"})})]}),Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsxs)("div",{className:"margin-box-info",children:[Object(l.jsx)("div",{children:p["available-balance"]}),Object(l.jsxs)("div",{className:"money",children:[Object(l.jsx)("span",{children:Object(l.jsxs)("span",{className:"bt-balance",children:[Object(l.jsx)(a.a,{value:m,thousandSeparator:!0,decimalScale:0}),".",Object(l.jsx)("span",{style:{fontSize:"12px"},children:O})]})}),Object(l.jsx)("span",{className:"remove"})]}),Object(l.jsxs)("div",{className:"enter-margin remv",children:[Object(l.jsx)("div",{className:"input-margin",children:Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{className:"amount",style:{display:""!==x?"block":"none"},children:p.amount}),Object(l.jsx)("input",{type:"number",className:"margin-value",value:x,onChange:e=>{const{value:t}=e.target;f(t)},placeholder:p.amount})]})}),Object(l.jsx)("div",{children:t.baseToken})]}),0===+i.marginHeld&&Object(l.jsxs)("div",{className:"max",children:[p.max,": ",Object(l.jsx)("span",{className:"max-num",children:m||i.margin}),Object(l.jsx)("span",{className:"max-btn-left",onClick:()=>{f(b)},children:p["remove-all"]})]}),+i.volume>0&&Object(l.jsxs)("div",{className:"max",children:[Object(l.jsx)("span",{className:"max-num"}),Object(l.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(l.jsx)("div",{className:"add-margin-btn",children:Object(l.jsx)(c.a,{className:"margin-btn",btnText:p.withdraw,lang:p,click:async()=>{const i=Object(r.a)(m);if(Object(r.a)(x).gt(i))return void alert(p["under-margin"]);if(+x<=0||isNaN(x))return void alert(p["it-has-to-be-greater-than-zero-tip"]);v(!0);const n=i.eq(x),c=await Object(s.zb)(e.detail.chainId,t.pool,e.detail.account,x,t.bTokenId,n);if(c.success)j(),d();else{const e="string"===typeof c.error?c.error:c.error.errorMessage||c.error.message;alert(e)}v(!1)},checkApprove:!0,wallet:e,spec:t})})]})})]})})})}},657:function(e,t,i){"use strict";t.a="data:image/png;base64,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"},690:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i(4),s=i(141),c=i(655),a=i(656),r=i(699),o=i(700),l=i(616),d=i(8),j=i(647),b=i(13);const u=Object(s.a)(c.a),p=Object(s.a)(a.a);function m({wallet:e,spec:t,afterDepositAndWithdraw:i,position:s,onClose:c,lang:a}){const[m,h]=Object(n.useState)([]),O=parseInt((document.body.offsetHeight-140)/54),[g,x]=Object(n.useState)(Array.from({length:O})),[f,A]=Object(n.useState)(!1),[v,y]=Object(n.useState)(!1),[N,w]=Object(n.useState)(""),[C,k]=Object(n.useState)(""),[S,I]=Object(n.useState)(""),[D,B]=Object(n.useState)("");Object(j.a)();const M=async()=>{if(e.detail.account&&t){const i=await Object(d.E)(e.detail.chainId,t.pool,e.detail.account,t.symbolId);h(i),i.length<O&&x(Array.from({length:O-i.length}))}};return Object(n.useEffect)((()=>(M(),window.scrollTo(0,0),()=>{})),[e.detail.account,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modal fade",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:a["balance-in-contract-uppercase"]}),Object(b.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{i(),c()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"balance-list",children:[Object(b.jsxs)("div",{className:"row header",children:[Object(b.jsx)("span",{className:"btoken pc",children:a["base-token"]}),Object(b.jsx)("span",{className:"btoken mobile",children:a["base-token"]}),Object(b.jsx)("span",{className:"w-balance pc",children:a["wallet-balance"]}),Object(b.jsx)("span",{className:"w-balance mobile",children:a["wallet-balance"]}),Object(b.jsx)("span",{className:"avail-balance pc",children:a["available-balance"]}),Object(b.jsx)("span",{className:"avail-balance mobile",children:a["available-balance"]})]}),m.map(((e,t)=>Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(b.jsx)("span",{className:"w-balance",children:Object(b.jsx)(l.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsx)("span",{className:"avail-balance",children:Object(b.jsx)(l.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsxs)("span",{className:"action",children:[Object(b.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:()=>((e,t,i)=>{w(e),I(t),B(i),A(!0)})(e.walletBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:r.a,alt:a["add-margin"]})," ",a.add]}),Object(b.jsxs)("span",{className:"remove-margin",onClick:()=>((e,t,i)=>{k(e),I(t),B(i),y(!0)})(e.availableBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:o.a,alt:a["remove-margin"]})," ",a.remove]})]})]},t))),g.map(((e,t)=>Object(b.jsx)("div",{className:"row"},t)))]})})]})})}),Object(b.jsx)(u,{wallet:e,onClose:()=>A(!1),balance:N,spec:{...t,bTokenId:S,bTokenSymbol:D},position:s,modalIsOpen:f,afterDeposit:()=>{A(!1),M()},className:"trading-dialog",nested:!0,lang:a}),Object(b.jsx)(p,{wallet:e,onClose:()=>y(!1),spec:{...t,bTokenId:S,bTokenSymbol:D},position:s,modalIsOpen:v,afterWithdraw:()=>{y(!1),M()},availableBalance:C,className:"trading-dialog",nested:!0,lang:a})]})}},699:function(e,t,i){"use strict";t.a=i.p+"static/media/remove-margin.1ccb58c4.svg"},700:function(e,t,i){"use strict";t.a=i.p+"static/media/add-margin.8b496dd1.svg"},741:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},742:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},743:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMtJREFUKFNjZACCR35JUoxM/1L//2cMY2Rk0AKJYQP//zNcY2T8v+r/P6bZcpvmPWMEaWRg/LcKqGkPy3/GVZIb51/Dpfm5f6LWH8b/YUBDXBj+M4UxPg5IqAcqZpTdsKABlyZ0cZgexkf+iVdZGRhC8dmIrhnkgt8MDKuBNif+l90wn5FYW2HqQPoGkWaQc3B5Adl7WJ0NDEkH3JoXHBgkfqYwnilJYYi0vRuYtlcTkbZDgWnbFZy2kXJVGjBXhRKRq1YDc9UsUK4CANLUkGF0vLC1AAAAAElFTkSuQmCC"},744:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMNJREFUKFNjZAAC6yOGUsy/2VP///8fxsjIqAUSwwaA8teA8qv+sv6cfdTm/DNGkEamX+yrGBkZ9vxn/r/qsN3Ja7g02x4y12L8yxj2/z+Dyz+2n2GMdvst6oGKGQ85nmjApQldHKaH0Xaf+VUGFoZQfDaiawa5gOEPw2qQzf+BtjJis5WQ3CDSDHIqroBD9h5I3SByNrKTCYY2pfFMfgpDStu7gWl7NRFpOxSYtl3BaRspV6UBc00oEblqNTBXzQLlKgA5rqOIANC/1gAAAABJRU5ErkJggg=="},745:function(e,t,i){"use strict";var n=i(14),s=i(4),c=(i(776),i(613)),a=i.n(c),r=i(41),o=i(13);t.a=Object(r.b)("version","wallet","type")(Object(r.c)((function(e){var t=e.lang,i=e.version,c=e.wallet,r=e.type,l=Object(s.useState)("main"),d=Object(n.a)(l,2),j=d[0],b=d[1],u=a()("area-picker-wrapper",j),p=Object(s.useState)({}),m=Object(n.a)(p,2),h=m[0],O=m[1],g=function(e){b(e),"innovation"===e?i.setCurrent("v2_lite"):"main"===e?i.setCurrent("v2"):"open"===e&&i.setCurrent("v2_lite_open")};return Object(s.useEffect)((function(){return i.isV2Lite?g("innovation"):i.isV2?g("main"):i.isOpen&&c.supportOpen&&g("open"),c.supportOpen?O({width:"".concat(100/3,"%")}):O({width:"".concat(50,"%")}),function(){}}),[c.detail]),(i.isV2||i.isV2Lite||i.isOpen)&&c.supportInnovation&&!r.isOption?Object(o.jsx)("div",{className:"area-picker",children:Object(o.jsxs)("div",{className:u,children:[Object(o.jsx)("span",{className:"left",style:h,onClick:function(){return g("main")},children:t["main-zone"]}),Object(o.jsx)("span",{className:"middle",style:h,onClick:function(){return g("innovation")},children:t["innovation-zone"]}),c.supportOpen&&Object(o.jsx)("span",{className:"right",style:h,onClick:function(){return g("open")},children:t["open-zone"]})]})}):null})))},768:function(e,t,i){"use strict";var n=i(4),s=i(8),c=i(613),a=i.n(c),r=i(141),o=i(655),l=i(656),d=i(616),j=i(23),b=i(41),u=i(690),p=i(700),m=i(699),h=i(741),O=i(742),g=i.p+"static/media/close-position-icon.6e2b1ee2.svg",x=i(624),f=i(13);const A=Object(r.a)(o.a),v=Object(r.a)(l.a),y=Object(r.a)(u.a);function N({trading:e,wallet:t,lang:i}){const[s,c]=Object(n.useState)(Object(f.jsx)("span",{}));return Object(n.useEffect)((()=>{let n="";t.isConnected()&&e.position.liquidationPrice&&(e.position.liquidationPrice.numPositions>1?e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?n=Object(f.jsxs)("span",{children:[Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(f.jsx)("span",{children:" / "}),Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?n=Object(f.jsxs)("span",{children:[Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})}),Object(f.jsx)("span",{children:" / "}),Object(f.jsxs)("span",{children:[" ",Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(n=Object(f.jsxs)("span",{children:[Object(f.jsxs)("span",{children:[" ",Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(f.jsx)("span",{children:" / "}),Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})})]})):n=Object(f.jsxs)("span",{children:[Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})}),Object(f.jsx)("span",{children:" / "}),Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-three"],children:" ? "})})]}):e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?n=Object(f.jsxs)("span",{children:[Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1}),Object(f.jsx)("span",{children:" / "}),Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})]}):e.position.liquidationPrice.price1||e.position.liquidationPrice.price2?!e.position.liquidationPrice.price1&&e.position.liquidationPrice.price2?n=Object(f.jsxs)("span",{children:[Object(f.jsxs)(x.a,{block:!1,children:[" ",Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(f.jsx)("span",{children:" / "}),Object(f.jsxs)("span",{children:[" ",Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price2})," "]})]}):e.position.liquidationPrice.price1&&!e.position.liquidationPrice.price2&&(n=Object(f.jsxs)("span",{children:[Object(f.jsxs)("span",{children:[" ",Object(f.jsx)(d.a,{decimalScale:2,value:e.position.liquidationPrice.price1})," "]}),Object(f.jsx)("span",{children:" / "}),Object(f.jsxs)(x.a,{block:!1,children:[" ",Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]})):n=Object(f.jsxs)("span",{children:[Object(f.jsxs)(x.a,{block:!1,children:[" ",Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]}),Object(f.jsx)("span",{children:" / "}),Object(f.jsxs)(x.a,{block:!1,children:[" ",Object(f.jsx)("span",{className:"funding-fee",tip:i["liq-price-hover-two"],children:" -- "})]})]}),c(n))}),[e.position,t.detail]),Object(f.jsx)("span",{children:s})}var w=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function({wallet:e,trading:t,version:i,lang:c,type:r}){const[o,l]=Object(n.useState)(!1),[b,u]=Object(n.useState)(""),[w,C]=Object(n.useState)(""),[k,S]=Object(n.useState)(""),[I,D]=Object(n.useState)(!1),[B,M]=Object(n.useState)(!1),[Q,E]=Object(n.useState)(!1),[R,P]=Object(n.useState)(""),_=async()=>{if(e.isConnected()&&t.config){const i=await Object(s.Z)(e.detail.chainId,t.config.pool,e.detail.account,t.config.bTokenId).catch((e=>console.error("load balance error,maybe network is wrong")));i&&P(i)}},F=()=>{t.refresh(),_()},J=a()("Direction","info-num",{LONG:+t.position.volume>0,SHORT:+t.position.volume<0});return Object(n.useEffect)((()=>(_(),()=>{})),[e.detail.account,t.config]),Object(n.useEffect)((()=>{if(t.position){const{position:e}=t,i=+e.volume>0?c.long:Object(j.e)(e.volume,0)||!e.volume?"--":c.short;u(i),C(Object(s.g)(e.margin).plus(e.unrealizedPnl).toString()),S(Object(s.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return()=>{}}),[t.position.volume,t.position.margin,t.position.unrealizedPnl]),Object(f.jsxs)("div",{className:"position-info",children:[Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("div",{className:"title-text",children:c.position}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsx)(d.a,{value:t.position.volume,allowZero:!0})})]}),Object(f.jsx)("div",{className:"info-right",children:Object(f.jsxs)("div",{className:"close-position",id:"close-p",onClick:async()=>{l(!0);const i=await Object(s.h)(e.detail.chainId,t.config.pool,e.detail.account,t.config.symbolId).finally((()=>l(!1)));i.success?F():"string"===typeof i.error?alert(i.error||c["close-position-failed"]):"object"===typeof i.error?alert(i.error.errorMessage||c["close-position-failed"]):alert(c["close-position-failed"])},children:[Object(f.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:o?"block":"none"}}),Object(f.jsx)("img",{src:g})," ",c.close]})})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("div",{className:"title-text",children:c["average-entry-price"]}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsx)(d.a,{value:t.position.averageEntryPrice,decimalScale:2})})]}),Object(f.jsx)("div",{className:"info-right"})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("div",{className:"title-text balance-con",children:i.isV1||i.isV2Lite||r.isOption?Object(f.jsxs)(f.Fragment,{children:[c["balance-in-contract"],Object(f.jsx)("br",{})," (",c["dynamic-balance"],")"]}):c["dynamic-effective-balance"]}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsx)(d.a,{decimalScale:2,allowZero:!0,value:w})})]}),Object(f.jsx)("div",{className:`info-right action ${i.current}`,children:i.isV1||i.isV2Lite||r.isOption||i.isOpen?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:()=>M(!0),children:[Object(f.jsx)("img",{src:m.a,alt:"add margin"})," ",c.add]}),Object(f.jsxs)("div",{className:"remove-margin",onClick:()=>E(!0),children:[Object(f.jsx)("img",{src:p.a,alt:"add margin"})," ",c.remove]})]}):Object(f.jsxs)("div",{onClick:()=>D(!0),children:[Object(f.jsx)("img",{src:h.a,alt:"Remove margin"})," ",c.detail]})})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("div",{className:"title-text",children:c.direction}),Object(f.jsx)("div",{className:J,children:b})]}),Object(f.jsx)("div",{className:"info-right"})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("div",{className:"title-text",children:c.margin}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsx)(d.a,{value:t.position.marginHeld,decimalScale:2})})]}),Object(f.jsx)("div",{className:"info-right"})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("div",{className:"title-text",children:c["unrealized-pnl"]}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsxs)("span",{className:"pnl-list",children:[Object(f.jsx)(d.a,{value:t.position.unrealizedPnl,decimalScale:8}),(t.position.unrealizedPnlList?(i.isV2||i.isV2Lite||i.isOption)&&t.position.unrealizedPnlList.length:i.isV2||i.isV2Lite)&&Object(f.jsx)("img",{src:O.a,alt:"unrealizePnl"}),(i.isV2||i.isV2Lite||i.isOption)&&Object(f.jsx)("div",{className:"pnl-box",children:t.position.unrealizedPnlList&&t.position.unrealizedPnlList.map(((e,t)=>Object(f.jsxs)("div",{className:"unrealizePnl-item",children:[Object(f.jsx)("span",{children:e[0]}),Object(f.jsx)("span",{children:Object(f.jsx)(d.a,{value:e[1],decimalScale:8})})]},t)))})]})})]}),Object(f.jsx)("div",{className:"info-right"})]}),Object(f.jsxs)("div",{className:"info",children:[r.isFuture&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)(x.a,{children:Object(f.jsx)("div",{className:"title-text  funding-fee",tip:c["funding-fee-tip"],children:c["funding-fee"]})}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsx)(d.a,{value:-t.position.fundingFee,decimalScale:8})})]}),Object(f.jsx)("div",{className:"info-right"})]}),r.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)(x.a,{children:Object(f.jsx)("div",{className:"title-text  funding-fee",tip:c["funding-fee-tip"],children:c["funding-fee"]})}),Object(f.jsx)("div",{className:"info-num",children:Object(f.jsx)(d.a,{value:-t.position.premiumFundingAccrued,decimalScale:8})})]}),Object(f.jsx)("div",{className:"info-right"})]})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsxs)("div",{className:"title-text",children:[Object(f.jsx)("span",{}),r.isOption?Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-fee",tip:c["liq-price-hover-one"],children:c["liquidation-price"]})}):Object(f.jsx)("span",{children:c["liquidation-price"]})]}),Object(f.jsx)("div",{className:"info-num",children:r.isOption?Object(f.jsx)(N,{trading:t,wallet:e,lang:c}):Object(f.jsx)(d.a,{decimalScale:4,value:t.position.liquidationPrice})})]}),Object(f.jsx)("div",{className:"info-right"})]}),Object(f.jsx)(A,{wallet:e,modalIsOpen:B,onClose:()=>{M(!1)},spec:t.config,afterDeposit:()=>{M(!1),F()},balance:R,className:"trading-dialog",lang:c}),Object(f.jsx)(v,{wallet:e,modalIsOpen:Q,onClose:()=>{E(!1)},spec:t.config,afterWithdraw:()=>{E(!1),F()},position:t.position,availableBalance:k,className:"trading-dialog",lang:c}),Object(f.jsx)(y,{wallet:e,modalIsOpen:I,onClose:()=>{D(!1)},spec:t.config,afterDepositAndWithdraw:()=>{F()},position:t.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:c})]})}))),C=i(643),k=i.n(C),S=i(621);var I=i(58),D=i(657);const B=I[s.a.get()].chainInfo;function M({wallet:e,his:t}){const[i,s]=Object(n.useState)(!1),c=()=>{s(!0)},r=()=>{s(!1)},o=a()("view",{hover:i});return Object(f.jsxs)("span",{className:o,onMouseOut:r,children:[Object(f.jsx)("span",{className:"view-space",onMouseOver:c,children:Object(f.jsxs)("a",{target:"_blank",rel:"noreferrer",href:`${B[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:["View at ",B[e.detail.chainId].viewUrl]})}),Object(f.jsx)("span",{className:"right-arrow",onMouseOver:c,children:Object(f.jsx)("img",{alt:"",src:D.a})}),Object(f.jsx)("span",{className:"view-arrow",onMouseOver:c,onMouseOut:r,children:Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${B[e.detail.chainId].viewUrl}tx/${t.transactionHash}`,children:Object(f.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var Q=Object(b.b)("wallet","trading","type")(Object(b.c)((function({wallet:e,trading:t,lang:i,type:s}){const[c,a]=Object(n.useState)([]);return Object(n.useEffect)((()=>(async function(){if(e.isConnected()&&t.configs&&t.config&&t.contract){const e=t.history.map((e=>{e.directionText=i["long-buy"],"SHORT"===e.direction?e.directionText=i["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=i.liquidation);const n=t.config;return n&&(e.symbol=e.symbol?e.symbol:n.symbol,e.baseTokenText=e.baseToken?` ${e.symbol} / ${e.baseToken}`:e.symbol),e}));a(e)}}(),()=>{})),[e.detail,t.configs,t.config,t.history]),Object(f.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[c.map(((t,n)=>Object(f.jsxs)("div",{className:"history-box",children:[Object(f.jsxs)("div",{className:"direction-bToken-price",children:[Object(f.jsxs)("span",{className:"direction",children:[Object(f.jsxs)("span",{className:`${t.direction}`,children:[" ",t.directionText]}),Object(f.jsx)("span",{className:"basetoken",children:t.baseTokenText}),Object(f.jsx)(M,{wallet:e,his:t})]}),Object(f.jsx)("span",{className:"history-text time",children:k.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(t.time)))})]}),Object(f.jsxs)("div",{className:"time-price-volume",children:[Object(f.jsxs)("div",{className:"history-price",children:[Object(f.jsxs)("div",{className:"history-title",children:[" ",s.isOption?i["volume-notional-price"]:i["volume-price"]]}),Object(f.jsxs)("div",{className:"history-text",children:[t.volume," @ ",Object(f.jsx)(d.a,{value:t.price,decimalScale:4,displayType:"text"})]})]}),Object(f.jsxs)("div",{className:"notional",children:[Object(f.jsxs)("div",{className:"history-title",children:[" ",s.isOption?i["contract-value"]:i.notional]}),Object(f.jsx)("div",{className:"history-text",children:Object(f.jsx)(d.a,{value:t.notional,decimalScale:4})})]}),Object(f.jsxs)("div",{className:"history-fee",children:[Object(f.jsx)("div",{className:"history-title pc",children:i["transaction-fee"]}),Object(f.jsx)("div",{className:"history-title mobile",children:i["transaction-fee"]}),Object(f.jsx)("div",{className:"history-text",children:Object(f.jsx)(d.a,{value:t.transactionFee,decimalScale:4})})]})]})]},n))),0===+c.length?Object(f.jsx)("div",{className:"no-data",children:i["no-data"]}):""]})}))),E=i(20);var R=Object(b.b)("wallet","trading","type")(Object(b.c)((function(e){e.wallet;var t=e.trading,i=e.lang,n=e.type;return Object(f.jsxs)("div",{className:"contract-box",children:[Object(f.jsx)("div",{className:"contract-header"}),Object(f.jsxs)("div",{className:"contract-info",children:[Object(f.jsx)("div",{className:"conntract-header",children:i["contract-info"]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i["base-token"]}),Object(f.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map((function(e,s){return E.a.isV2&&n.isFuture?Object(f.jsx)(x.a,{children:Object(f.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(f.jsxs)("span",{className:"multiplier",tip:i["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[s],"x"]}),")"]})},s):Object(f.jsx)("span",{className:"btoken-symbol",children:e},s)}))})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"title",children:[n.isOption&&i["symbol-option"],n.isFuture&&i.symbol]}),Object(f.jsx)("div",{className:"text",children:t.contract.symbol})]}),n.isFuture&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"title",children:[" ",Object(f.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(f.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i["funding-rate-coefficient"]}),Object(f.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i["min-initial-margin-ratio"]}),Object(f.jsx)("div",{className:"text",children:Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i["min-maintenance-margin-ratio"]}),Object(f.jsx)("div",{className:"text",children:Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),n.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i.underlier}),Object(f.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i.strike}),Object(f.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i["option-type"]}),Object(f.jsx)("div",{className:"text",children:"C"===t.contract.optionType?"".concat(i.call):"".concat(i.put)})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"title",children:[" ",Object(f.jsxs)("span",{children:[i["min-trade-volume"]," ( ",i.notional," )"]})," "]}),Object(f.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{tip:t.initialMarginRatioTip,className:"margin-per",children:i["initial-margin-ratio"]})})}),Object(f.jsx)("div",{className:"text",children:Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"title",children:[" ",Object(f.jsx)(x.a,{block:!1,children:Object(f.jsxs)("span",{tip:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",i["maintenance-margin-ratio"]]})})," "]}),Object(f.jsx)("div",{className:"text",children:Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(f.jsxs)("div",{className:"info",children:[n.isFuture&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"title",children:i["transaction-fee"]})}),n.isOption&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"title",children:Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"margin-per",tip:t.TransactionFeeTip,children:i["transaction-fee"]})})})}),Object(f.jsxs)("div",{className:"text",children:[n.isOption&&Object(f.jsxs)(f.Fragment,{children:["C"===t.contract.optionType&&Object(f.jsxs)(f.Fragment,{children:[t.contract.strike>=t.index&&Object(f.jsxs)(f.Fragment,{children:[i["eo-mark-price"]," * ",Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike<t.index&&Object(f.jsxs)(f.Fragment,{children:[t.contract.underlier," ",i.price," * ",Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==t.contract.optionType&&Object(f.jsxs)(f.Fragment,{children:[t.contract.strike<t.index&&Object(f.jsxs)(f.Fragment,{children:[i["eo-mark-price"]," * ",Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike>=t.index&&Object(f.jsxs)(f.Fragment,{children:[t.contract.underlier," ",i.price," * ",Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),n.isFuture&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(S.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),t.contract.indexConstituents&&t.contract.indexConstituents.tokens.length>0&&Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("div",{className:"title",children:i["index-constituent"]}),Object(f.jsx)("div",{className:"text",children:t.contract.indexConstituents.tokens.join(" | ")})]})]})]})}))),P=i(0),_=i.n(P),F=i(1),J=i(14),L=i(988);i(914),i(775);const{Handle:T}=L.b;function H(e){const{value:t,dragging:i,index:n,...s}=e;return Object(f.jsx)(L.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(f.jsx)(T,{value:t,...s})},n)}function Y({max:e="--",start:t,onValueChange:i,freeze:c,currentSymbolMarginHeld:r,originMarginHeld:o,setStopCalculate:l}){const[d,j]=Object(n.useState)(0),[b,u]=Object(n.useState)(0),[p,m]=Object(n.useState)(!1),[h,O]=Object(n.useState)({}),[g,x]=Object(n.useState)(!1),[A,v]=Object(n.useState)(!1);Object(n.useEffect)((()=>(m(c),0===Math.abs(e)&&m(!0),()=>{})),[c,e]),Object(n.useEffect)((()=>{const t=e;return 0!==Math.abs(e)&&"--"!==e||(e=100),isNaN(t)&&j(""),e&&O((e=>{const t={},i=+e/10;for(let n=0;n<=10;n++)if(0===n||10===n){const e={top:"-16px",position:"relative"};10===n&&(e.width=100,e.left="-10px",e.paddingRight="10px"),t[n*i]=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:e,children:10===n?(n*i).toFixed(2):n*i}),Object(f.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[n*i]="l";return t})(e)),j(+e),"--"!==t&&x(!0),0!==Math.abs(e)&&0!==Math.abs(t)||x(!1),()=>{}}),[e]),Object(n.useEffect)((()=>(A||(isNaN(t)?u(0):u(t)),()=>{})),[t]);const y=a()("deri-slider",{controlled:g});return Object(f.jsx)(L.b,{handle:H,className:y,start:t,min:0,max:d,value:b,onChange:e=>{v(!0),l(!0),u(e),i(e,!1)},onAfterChange:e=>{if(r){const t=Object(s.g)(o).minus(r);Object(s.g)(e).lt(t)&&(u(t),i(t))}v(!1),l(!1)},disabled:p,overlay:b,step:.01,marks:h})}var G=i(614),z=i(19);var W=i.p+"static/media/arrow-down.5e5e4213.svg",U=i.p+"static/media/arrow-up.d36fae6d.svg";function q({symbol:e,trading:t,onSelect:i,index:s,version:c,type:r}){const[o,l]=Object(n.useState)(0),d=a()("sub-menu",{show:s===o});return Object(f.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(f.jsxs)("div",{className:"catalog",onClick:()=>(e=>{l(o===e?-1:e)})(s),children:[e,Object(f.jsx)("span",{className:"sub-memu-icon",children:o===s?Object(f.jsx)("img",{src:U,alt:""}):Object(f.jsx)("img",{src:W,alt:""})})]}),Object(f.jsx)("div",{className:d,children:Array.isArray(t.optionsConfigs[e])&&t.optionsConfigs[e].map(((e,t)=>Object(f.jsx)("div",{className:"dropdown-item",onClick:()=>i(e),children:Object(f.jsx)(Z,{spec:e,version:c,type:r})},t)))},s)]},s)}function Z({version:e,spec:t,type:i}){return i.isOption?`${t&&t.symbol||"BTCUSD-70000-C"}`:e.isV1||e.isV2Lite||e.isOpen?`${t&&t.symbol||"BTCUSD"} / ${t&&t.bTokenSymbol||"BUSD"} (10X)`:`${t&&t.symbol||"BTCUSD"} (10X)`}var V=Object(b.b)("trading","version","loading","type")(Object(b.c)((function({trading:e,version:t,loading:i,type:s}){const[c,r]=Object(n.useState)(!1),o=a()("dropdown-menu",{show:c}),l=t=>{t&&(i.loading(),e.pause(),e.onSymbolChange(t,(()=>i.loaded()),s.isOption),r(!1))};return Object(n.useEffect)((()=>{const e=e=>{document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&r(!1)};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[]),Object(f.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(f.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),r(!c)},className:"btn chec",children:[Object(f.jsx)(Z,{spec:e.config,version:t,type:s}),Object(f.jsx)("span",{className:"check-base-down",children:c?Object(f.jsx)("img",{src:U,alt:""}):Object(f.jsx)("img",{src:W,alt:""})})]}),Object(f.jsx)("div",{className:o,children:s.isFuture?e.configs.map(((e,i)=>Object(f.jsx)("div",{className:"dropdown-item",onClick:t=>l(e),children:Object(f.jsx)(Z,{spec:e,version:t,type:s})},i))):Object.keys(e.optionsConfigs).map(((i,n)=>Object(f.jsx)(q,{index:n,symbol:i,trading:e,onSelect:l,version:t,type:s},n)))})]})}))),K=i(743),X=i(744),$=Object(r.a)((function(e){var t=e.wallet,i=e.spec,c=e.onClose,a=e.direction,r=e.volume,o=e.position,l=void 0===o?0:o,d=e.indexPrice,j=e.leverage,b=e.afterLeverage,u=e.transFee,p=e.afterTrade,m=e.lang,h=e.markPriceAfter,O=e.trading,g=e.liquidationPrice,x=Object(n.useState)(!1),A=Object(J.a)(x,2),v=A[0],y=A[1],N=function(){var e=Object(F.a)(_.a.mark((function e(){var n,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),r=Object(s.g)(r).div(Object(s.g)(O.contract.multiplier)).toString(),r="long"===a?r:-+r,e.next=5,Object(s.tb)(t.detail.chainId,i.pool,t.detail.account,r,i.symbolId);case 5:(n=e.sent).success?(p(),c()):(o="string"===typeof n.error?n.error:n.error.errorMessage||n.error.message,alert(o)),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){v||c()},C="long"===a?Object(s.g)(r).plus(Object(s.g)(l)).toString():Object(s.g)(l).minus(Object(s.g)(r)).toString();return Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsx)("div",{className:"title",children:m.confirm}),Object(f.jsx)("div",{className:"close","data-dismiss":"modal",onClick:w,children:Object(f.jsx)("span",{children:"\xd7"})})]}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("div",{className:"contract-box-info",children:[Object(f.jsxs)("div",{className:"top",children:[Object(f.jsxs)("div",{className:"text",children:[Object(f.jsxs)("div",{className:"text-title",children:["# ",m["of-contracts"]]}),Object(f.jsx)("div",{className:"text-num",children:"long"===a?r:"-".concat(r)})]}),Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m["position-after-execution"]}),Object(f.jsx)("div",{className:"text-num",children:C})]}),Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m.direction}),Object(f.jsx)("div",{className:"text-num",children:Object(f.jsx)("span",{className:a,children:m[a.toLowerCase()]})})]}),z.a.isFuture&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"text",children:[Object(f.jsxs)("div",{className:"text-title",children:[i.symbol," ",m["trade-price-estimated"]]}),Object(f.jsx)("div",{className:"text-num",children:Object(f.jsx)(S.a,{value:d,decimalScale:2,displayType:"text"})})]})}),z.a.isOption&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m["trade-price"]}),Object(f.jsx)("div",{className:"text-num",children:Object(f.jsx)(S.a,{value:h,decimalScale:2,displayType:"text"})})]})}),z.a.isFuture&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m["cur-pos-leverage"]}),Object(f.jsxs)("div",{className:"text-num",children:[j,"X"]})]}),Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m["leverage-after-execution"]}),Object(f.jsxs)("div",{className:"text-num",children:[b,"X"]})]})]}),z.a.isFuture&&Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m["liquidation-price"]}),Object(f.jsx)("div",{className:"text-num",children:Object(f.jsx)(S.a,{value:g,decimalScale:2,displayType:"text"})})]}),Object(f.jsxs)("div",{className:"text",children:[Object(f.jsx)("div",{className:"text-title",children:m["transaction-fee"]}),Object(f.jsx)("div",{className:"text-num",children:Object(f.jsx)(S.a,{value:u,decimalScale:2,suffix:" ".concat(i.bTokenSymbol),displayType:"text"})})]})]}),Object(f.jsx)("div",{className:"modal-footer",children:Object(f.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(f.jsx)("button",{className:"cancel",onClick:w,children:m.cancel}),Object(f.jsx)(G.a,{className:"confirm",btnText:m.ok,click:N,lang:m})]})})]})})]})})})),ee=Object(r.a)(o.a),te=Object(r.a)(l.a),ie=Object(r.a)(u.a);function ne(e){var t=e.hasConnectWallet,i=e.wallet,c=e.spec,a=e.volume,r=e.available,o=e.baseToken,l=e.leverage,d=e.indexPrice,j=e.position,b=e.transFee,u=e.afterTrade,p=e.direction,m=e.trading,h=e.version,O=e.lang,g=e.type,x=e.markPriceAfter,A=e.afterLeverage,v=e.liquidationPrice,y=Object(n.useState)(!0),N=Object(J.a)(y,2),w=N[0],C=N[1],k=Object(n.useState)(!0),S=Object(J.a)(k,2),I=S[0],D=S[1],B=Object(n.useState)(!1),M=Object(J.a)(B,2),Q=M[0],E=M[1],R=Object(n.useState)(!1),P=Object(J.a)(R,2),L=P[0],T=P[1],H=Object(n.useState)(""),Y=Object(J.a)(H,2),z=Y[0],W=Y[1],U=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.approve(c.pool,c.bTokenId);case 2:e.sent.success?(C(!0),V()):(C(!1),alert(O["approve-failed"]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.refresh(),T(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){m.refresh(),T(!1)},V=function(){var e=Object(F.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!c){e.next=5;break}return e.next=3,i.isApproved(c.pool,c.bTokenId);case 3:n=e.sent,C(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isConnected()||!c){e.next=5;break}return e.next=3,Object(s.Z)(i.detail.chainId,c.pool,i.detail.account,c.bTokenId).catch((function(e){return console.error("getWalletBalance was error,maybe network is Wrong")}));case 3:(t=e.sent)&&W(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return t()&&c&&K(),function(){}}),[i.detail.account,c,r]),Object(n.useEffect)((function(){return D(!a),function(){}}),[a]),Object(n.useEffect)((function(){return c&&V(),function(){}}),[i.detail.isApproved,c]);var X=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)($,{wallet:i,className:"trading-dialog",spec:c,modalIsOpen:Q,onClose:function(){return E(!1)},leverage:l,baseToken:o,volume:a,position:j.volume,indexPrice:d,transFee:b,afterTrade:u,direction:p,lang:O,markPriceAfter:x,afterLeverage:A,liquidationPrice:v,trading:m}),Object(f.jsx)("button",{className:"short-submit",onClick:function(){return E(!0)},children:O.trade})]});return t()?w?!r||+r<=0?X=Object(f.jsxs)(f.Fragment,{children:[h.isV2&&!g.isOption?Object(f.jsx)(ie,{wallet:i,modalIsOpen:L,onClose:Z,spec:c,afterDepositAndWithdraw:Z,position:m.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:O}):Object(f.jsx)(ee,{wallet:i,modalIsOpen:L,onClose:function(){return T(!1)},spec:c,balance:z,afterDeposit:q,className:"trading-dialog",lang:O}),Object(f.jsx)("div",{className:"noMargin-text",children:0!==+m.position.margin&&m.position.margin?O["not-enough-margin-tip"]:O["no-margin-tip"]}),Object(f.jsx)("button",{className:"short-submit",onClick:function(){return T(!0)},children:O.deposit})]}):I&&(X=Object(f.jsx)("button",{className:"btn btn-danger short-submit",children:O["enter-volume"]})):X=Object(f.jsx)(G.a,{className:"approve",btnText:O.approve,click:U,lang:O}):X=Object(f.jsx)(G.a,{className:"btn btn-danger connect",btnText:O["connect-wallet"],click:function(){i.connect()},lang:O}),Object(f.jsx)("div",{className:"submit-btn",children:X})}var se=Object(b.b)("wallet","trading","version","type")(Object(b.c)((function(e){var t=e.wallet,i=void 0===t?{}:t,c=e.trading,r=e.version,o=e.lang,l=e.type,j=Object(n.useState)("long"),b=Object(J.a)(j,2),u=b[0],p=b[1],m=Object(n.useState)(),h=Object(J.a)(m,2),O=h[0],g=h[1],A=Object(n.useState)({}),v=Object(J.a)(A,2),y=v[0],N=v[1],w=Object(n.useState)(""),C=Object(J.a)(w,2),k=C[0],S=C[1],I=Object(n.useState)(""),D=Object(J.a)(I,2),B=D[0],M=D[1],Q=Object(n.useState)(""),E=Object(J.a)(Q,2),R=E[0],P=E[1],L=Object(n.useState)(""),T=Object(J.a)(L,2),H=T[0],G=T[1],z=Object(n.useState)({}),W=Object(J.a)(z,2),U=W[0],q=W[1],Z=Object(n.useState)("rise"),$=Object(J.a)(Z,2),se=$[0],ce=$[1],ae=Object(n.useState)("rise"),re=Object(J.a)(ae,2),oe=re[0],le=re[1],de=Object(n.useState)("0.000"),je=Object(J.a)(de,2),be=je[0],ue=je[1],pe=Object(n.useState)(""),me=Object(J.a)(pe,2),he=me[0],Oe=me[1],ge=Object(n.useState)(!0),xe=Object(J.a)(ge,2),fe=xe[0],Ae=xe[1],ve=Object(n.useState)(!1),ye=Object(J.a)(ve,2),Ne=ye[0],we=ye[1],Ce=Object(n.useState)(!1),ke=Object(J.a)(Ce,2),Se=ke[0],Ie=ke[1],De=Object(n.useState)(!1),Be=Object(J.a)(De,2),Me=Be[0],Qe=Be[1],Ee=Object(n.useState)(!1),Re=Object(J.a)(Ee,2),Pe=Re[0],_e=Re[1],Fe=Object(n.useState)(!1),Je=Object(J.a)(Fe,2),Le=Je[0],Te=Je[1],He=Object(n.useState)(!1),Ye=Object(J.a)(He,2),Ge=Ye[0],ze=Ye[1],We=Object(n.useState)(""),Ue=Object(J.a)(We,2),qe=Ue[0],Ze=Ue[1],Ve=Object(n.useRef)(),Ke=Object(n.useRef)(),Xe=a()("checked-long","check-long-short"," long-short",{"checked-short":"short"===u}),$e=a()("contrant-input",{inputFamliy:""!==c.volume}),et=function(){tt()},tt=function(){it(),c.refresh()},it=function(){var e=Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isConnected()||!c.config){e.next=5;break}return e.next=3,Object(s.Z)(i.detail.chainId,c.config.pool,i.detail.account,c.config.bTokenId).catch((function(e){return console.log(e)}));case 3:(t=e.sent)&&Oe(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=et,st=function(){return i&&i.detail&&i.detail.account},ct=function(e){c.setVolume(""),p(e)},at=function(){var e=Object(F.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(st()&&c.config&&c.volumeDisplay)){e.next=6;break}return t=rt(c.volumeDisplay),e.next=4,Object(s.r)(i.detail.chainId,c.config.pool,Math.abs(t),c.config.symbolId);case 4:n=e.sent,isNaN(n)||G((+n).toFixed(2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(e){return Object(s.g)(e).div(Object(s.g)(c.contract.multiplier)).toString()},ot=function(){var e=Object(F.a)(_.a.mark((function e(){var t,n,a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(st()&&c.config&&c.volumeDisplay&&l.isFuture)){e.next=10;break}return t=i.detail,n="long"===u?c.volumeDisplay:-c.volumeDisplay,e.next=5,Object(s.y)(t.chainId,c.config.pool,c.config.symbolId);case 5:return a=e.sent,e.next=8,Object(s.u)(t.chainId,c.config.pool,n,c.config.symbolId);case 8:r=e.sent,a&&r&&q({curLiqUsed:a.liquidityUsed0,afterLiqUsed:r.liquidityUsed1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(F.a)(_.a.mark((function e(){var t,n,a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(st()&&c.config&&c.volumeDisplay)){e.next=7;break}return t=rt(c.volumeDisplay),n="long"===u?t:-t,e.next=5,Object(s.s)(i.detail.chainId,c.config.pool,n,c.config.symbolId);case 5:(a=e.sent)&&(r=l.isOption?a.deltaFunding1:a.fundingRate1,S(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(F.a)(_.a.mark((function e(){var t,n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(st()&&c.config&&c.volumeDisplay)){e.next=7;break}return t=rt(c.volumeDisplay),n="long"===u?t:-t,e.next=5,Object(s.v)(i.detail.chainId,c.config.pool,n,c.config.symbolId);case 5:(a=e.sent)&&M(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(F.a)(_.a.mark((function e(){var t,n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(st()&&c.config&&c.volumeDisplay)){e.next=7;break}return t=rt(c.volumeDisplay),n="long"===u?t:-t,e.next=5,Object(s.t)(i.detail.chainId,c.config.pool,i.detail.account,n,c.config.symbolId);case 5:(a=e.sent)&&P(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e;return c.position&&c.position.volume&&(e=+c.position.volume,p(e>=0?"long":"short")),function(){}}),[c.position.volume]),Object(n.useEffect)((function(){return Me||""===c.volumeDisplay?i.detail.account&&c.resume():(c.pause(),lt(),l.isOption&&dt(),ot(),at(),jt()),function(){}}),[c.volumeDisplay,Me]),Object(n.useEffect)((function(){return it(),function(){}}),[i.detail.account,c.config,c.amount.dynBalance]),Object(n.useEffect)((function(){if(Ve.current>c.index?ce("fall"):ce("rise"),Ve.current=c.index,c.index){var e=c.index.toLocaleString(void 0,{minimumFractionDigits:2}),t=c.config&&c.config.symbol.split("-")[0];document.querySelector("head title").innerText="$".concat(e," ").concat(t,".deri")}return function(){document.querySelector("head title").innerText="deri"}}),[c.index,c.config]),Object(n.useEffect)((function(){if(c.position){var e=c.position;Ze(Object(s.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[c.position.volume,c.position.margin,c.position.unrealizedPnl]),Object(n.useEffect)((function(){if(l.isOption){var e=c.position.markPrice;Ke.current>e?le("fall"):le("rise"),Ke.current=e,g(e)}}),[c.index,c.position]),Object(n.useEffect)((function(){return c.config&&N(c.config),function(){}}),[c.config]),Object(n.useEffect)((function(){return c.margin&&c.direction&&p(c.direction),function(){}}),[c.margin]),Object(n.useEffect)((function(){var e="0.000";"0.0001"===c.contract.multiplier?e="0.0000":"0.001"===c.contract.multiplier?e="0.000":"0.01"===c.contract.multiplier?e="0.00":"0.1"===c.contract.multiplier?e="0.0":"1"===c.contract.multiplier&&(e="0"),ue(e)}),[c.contract]),Object(n.useEffect)((function(){return c.index&&i.isConnected()&&i.supportChain&&Ae(!1),function(){}}),[i.detail.account,c.index]),Object(n.useEffect)((function(){return Ne||(c.position.volume>0?c.volume<0?p("short"):p("long"):c.position.volume<0&&(c.volume>0?p("short"):p("long"))),function(){}}),[c.volume,Ne]),Object(n.useEffect)((function(){return c.setUserSelectedDirection(u),function(){}}),[u]),Object(f.jsx)("div",{className:"trade-info",children:Object(f.jsxs)("div",{className:"trade-peration",children:[Object(f.jsxs)("div",{className:"check-baseToken",children:[Object(f.jsx)(V,{setSpec:N,spec:c.config,isOption:l.isOption}),Object(f.jsxs)("div",{className:l.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[l.isFuture&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"index-prcie",children:[o["index-price"],": ",Object(f.jsxs)("span",{className:se,children:["\xa0 ",Object(f.jsx)(d.a,{value:c.index,decimalScale:2})]})]})}),l.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"mark-price",children:[o["eo-mark-price"]," : ",Object(f.jsxs)("span",{className:oe,children:["\xa0 ",Object(f.jsx)(d.a,{value:O,decimalScale:4})]})]}),Object(f.jsxs)("div",{className:"index-prcie",children:[c.config&&l.isOption?c.config.symbol.split("-")[0]:""," : ",Object(f.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(f.jsxs)("span",{children:[" ",Object(f.jsx)(d.a,{value:c.index,decimalScale:2})]}),Object(f.jsx)("span",{className:"vol",children:" | "}),o.vol," : ",Object(f.jsx)(d.a,{value:c.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(f.jsxs)("div",{className:"funding-rate",children:[l.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{children:[o["funding-rate"]," : \xa0"]}),Object(f.jsx)(x.a,{block:!1,tip:c.optionFundingRateTip,children:Object(f.jsx)("span",{className:"funding-per",tip:c.optionFundingRateTip||"",children:Object(f.jsx)(d.a,{value:c.fundingRate.premiumFunding0,decimalScale:4})})})]}),l.isFuture&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{children:[o["funding-rate-annual"]," : \xa0"]}),Object(f.jsx)(x.a,{block:!1,tip:c.fundingRateTip,children:Object(f.jsx)("span",{className:"funding-per",tip:c.fundingRateTip||"",children:Object(f.jsx)(d.a,{value:c.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]}),Object(f.jsxs)("div",{className:l.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[l.isFuture&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"index-prcie",children:[o.index,": ",Object(f.jsxs)("span",{className:se,children:["\xa0 ",Object(f.jsx)(d.a,{value:c.index,decimalScale:2})]})]})}),l.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"mark-price",children:[o["eo-mark-price"]," : ",Object(f.jsxs)("span",{className:oe,children:["\xa0 ",Object(f.jsx)(d.a,{value:O,decimalScale:2})]})]}),Object(f.jsxs)("div",{className:"index-prcie",children:[c.config&&l.isOption?c.config.symbol.split("-")[0]:"",": ",Object(f.jsxs)("span",{className:se,children:["\xa0 ",Object(f.jsx)(d.a,{value:c.index,decimalScale:2})]})]}),Object(f.jsxs)("div",{className:"index-prcie",children:[o.vol,": ",Object(f.jsx)(d.a,{value:c.position.volatility,decimalScale:2})]})]}),Object(f.jsxs)("div",{className:"funding-rate",children:[l.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{children:[o["funding-rate"]," : \xa0"]}),Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-per",tip:c.optionFundingRateTip||"",children:Object(f.jsx)(d.a,{value:c.fundingRate.premiumFunding0,decimalScale:4})})})]}),l.isFuture&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{children:[o["funding-rate-annual"]," : \xa0"]}),Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"funding-per",tip:c.fundingRateTip||"",children:Object(f.jsx)(d.a,{value:c.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]})]}),Object(f.jsxs)("div",{className:Xe,children:[Object(f.jsx)("div",{className:"check-long",onClick:function(){return ct("long")},children:o["long-buy"]}),Object(f.jsx)("div",{className:"check-short",onClick:function(){return ct("short")},children:o["short-sell"]})]}),Object(f.jsxs)("div",{className:"the-input",children:[Object(f.jsxs)("div",{className:"left",children:[Object(f.jsxs)("div",{className:"current-position",children:[Object(f.jsx)("span",{children:o["current-position"]}),Object(f.jsx)("span",{className:"position-text",children:Object(f.jsx)(d.a,{value:c.position.volume,allowZero:!0})})]}),Object(f.jsx)("div",{className:"contrant option-input",children:Object(f.jsxs)("div",{className:"bg-input",children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"number",step:c.contract.multiplier,onFocus:function(e){e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:function(e){var t=e.target,i=c.contract.multiplier.indexOf("."),n=c.contract.multiplier.slice(i).length,s=t.value;-1!==t.value.indexOf(".")&&(s=t.value.substring(0,t.value.indexOf(".")+n),Ie(0===+(s="0"===s?"":s)),c.setVolume(s)),""===t.value&&t.setAttribute("class","contrant-input")},onKeyPress:function(e){46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},disabled:!c.index||0===Math.abs(c.position.margin),onChange:function(e){return function(e){var t=e.target.value;c.setVolume(t),we(!0)}(e)},value:c.volumeDisplay,className:$e,placeholder:be})}),Object(f.jsx)("div",{className:"option-unit",children:c.config&&c.config.unit})]})}),Se&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"min-quantity",children:[o["option-input-min-quantity"],"\xa0 ",c.contract.multiplier," \xa0",c.config&&c.config.unit]})})]}),Object(f.jsx)("div",{className:"right-info",children:Object(f.jsxs)("div",{className:"contrant-info ".concat(r.current),children:[Object(f.jsxs)("div",{className:"balance-contract",children:[r.isV1&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{className:"balance-contract-text pc v1",children:[o["balance-in-contract"],Object(f.jsx)("br",{}),"(",o["dynamic-balance"],")"]}),Object(f.jsxs)("span",{className:"balance-contract-text mobile v1",children:[o["balance-in-contract"],Object(f.jsx)("br",{}),"(",o["dynamic-balance"],")"]})]}),(r.isV2||r.isV2Lite||l.isOption||r.isOpen)&&Object(f.jsxs)(x.a,{block:!1,children:[Object(f.jsx)("span",{className:"balance-contract-text pc",tip:o["dynamic-effective-balance-title"],children:o["dynamic-effective-balance"]}),Object(f.jsx)("span",{className:"balance-contract-text mobile",tip:o["dynamic-effective-balance-title"],children:o["dynamic-effective-balance"]})]}),Object(f.jsxs)("span",{className:"balance-contract-num ".concat(r.current),children:[r.isV1||r.isV2Lite||l.isOption||r.isOpen?Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:function(){return Te(!0)},tip:o["remove-margin"],children:Object(f.jsx)("img",{src:K.a,alt:"add margin"})})}):Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"open-add",id:"openAddMargin",tip:o["remove-margin"],onClick:function(){return ze(!0)},children:Object(f.jsx)("img",{src:K.a,alt:"add margin"})})}),Object(f.jsx)(d.a,{value:c.amount.dynBalance,allowZero:!0,decimalScale:2}),r.isV1||r.isV2Lite||l.isOption||r.isOpen?Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"open-remove",onClick:function(){return _e(!0)},tip:o["add-margin"],children:Object(f.jsx)("img",{src:X.a,alt:"add margin"})})}):Object(f.jsx)(x.a,{block:!1,children:Object(f.jsx)("span",{className:"open-remove",onClick:function(){return ze(!0)},tip:o["add-margin"],children:Object(f.jsx)("img",{src:X.a,alt:"add margin"})})})]})]}),r.isV1&&Object(f.jsxs)("div",{className:"box-margin",children:[Object(f.jsx)("span",{children:o.margin}),Object(f.jsx)("span",{className:"margin",children:Object(f.jsx)(d.a,{value:c.amount.margin,allowZero:!0,decimalScale:2})})]}),(r.isV2||r.isV2Lite||l.isOption||r.isOpen)&&Object(f.jsxs)(x.a,{block:!1,children:[Object(f.jsx)("div",{className:"box-margin",children:o.margin}),Object(f.jsxs)("div",{className:"box-margin",children:[Object(f.jsxs)("span",{className:"total-held",tip:o["total-held-title"],children:["\xa0- ",o["total-held"]]}),Object(f.jsx)("span",{className:"margin",children:Object(f.jsx)(d.a,{value:c.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(f.jsxs)("div",{className:"margin-held-pos",children:[Object(f.jsxs)("span",{className:"pos-held",tip:o["for-this-pos-title"],children:["\xa0- ",o["for-this-pos"]," "]}),Object(f.jsx)("span",{className:"margin",children:Object(f.jsx)(d.a,{value:c.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(f.jsx)(x.a,{block:!0,children:Object(f.jsxs)("div",{className:"available-balance",children:[Object(f.jsxs)("span",{className:"pc",tip:o["available-balance-title"],children:[" ",o["available-balance"]," "]}),Object(f.jsx)("span",{className:"mobile",tip:o["available-balance-title"],children:o["available-balance"]}),Object(f.jsx)("span",{className:"available-balance-num",children:Object(f.jsx)(d.a,{value:c.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(f.jsx)("div",{className:"slider mt-13",children:Object(f.jsx)(Y,{max:c.amount.dynBalance,onValueChange:function(e,t){c.setSlideMargin(e),we(!1),t&&p("long"===u?"short":"long")},start:c.amount.margin,freeze:fe,currentSymbolMarginHeld:c.position.marginHeldBySymbol,originMarginHeld:c.position.marginHeld,setStopCalculate:function(e){return Qe(e)}})}),Object(f.jsx)("div",{className:"title-margin",children:o.margin}),Object(f.jsx)("div",{className:"enterInfo",children:!!c.volumeDisplay&&Object(f.jsxs)(f.Fragment,{children:[l.isFuture&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter pool",children:o["trade-price"]}),Object(f.jsx)("div",{className:"text-enter poolL",children:Object(f.jsx)(d.a,{value:c.index,decimalScale:4})})]}),Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter pool",children:o["pool-liquidity"]}),Object(f.jsx)("div",{className:"text-enter poolL",children:Object(f.jsx)(d.a,{value:c.fundingRate.liquidity,decimalScale:2,suffix:" ".concat(y.bTokenSymbol)})})]}),Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter",children:o["liquidity-used"]}),Object(f.jsxs)("div",{className:"text-enter",children:[Object(f.jsx)(d.a,{value:U.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(f.jsx)(d.a,{value:U.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter",children:o["funding-rate-impact"]}),Object(f.jsxs)("div",{className:"text-enter",children:[Object(f.jsx)(d.a,{value:c.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(f.jsx)(d.a,{value:k,decimalScale:4,suffix:"%"})]})]})]}),l.isOption&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter pool",children:o["mark-price"]}),Object(f.jsx)("div",{className:"text-enter poolL",children:Object(f.jsx)(d.a,{value:O,decimalScale:4})})]}),Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter pool",children:o["trade-price"]}),Object(f.jsx)("div",{className:"text-enter poolL",children:Object(f.jsx)(d.a,{value:B,decimalScale:4})})]}),Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter pool",children:o["pool-liquidity"]}),Object(f.jsx)("div",{className:"text-enter poolL",children:Object(f.jsx)(d.a,{value:c.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:" ".concat(c.config.bTokenSymbol)})})]})]}),Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter",children:o["transaction-fee"]}),Object(f.jsx)("div",{className:"text-enter",children:Object(f.jsx)(d.a,{value:H,allowZero:!0,decimalScale:2,suffix:" ".concat(c.config.bTokenSymbol)})})]}),l.isFuture&&Object(f.jsxs)("div",{className:"text-info",children:[Object(f.jsx)("div",{className:"title-enter",children:o["liquidation-price"]}),Object(f.jsx)("div",{className:"text-enter",children:R>0?Object(f.jsx)(d.a,{value:R,decimalScale:2}):"--"})]})]})}),Object(f.jsx)(ne,{hasConnectWallet:st,transFee:H,wallet:i,spec:c.config,indexPrice:c.index,available:c.amount.available,volume:c.volumeDisplay,direction:u,leverage:c.amount.leverage,afterLeverage:c.amount.afterLeverage,afterTrade:function(){c.setVolume(""),c.refresh(),i.refresh()},position:c.position,trading:c,version:r,lang:o,type:l,markPriceAfter:B,liquidationPrice:R}),Object(f.jsx)(ee,{wallet:i,modalIsOpen:Pe,onClose:function(){return _e(!1)},spec:c.config,afterDeposit:nt,balance:he,className:"trading-dialog",lang:o}),Object(f.jsx)(te,{wallet:i,modalIsOpen:Le,onClose:function(){return Te(!1)},spec:c.config,afterWithdraw:et,availableBalance:qe,position:c.position,className:"trading-dialog",lang:o}),Object(f.jsx)(ie,{wallet:i,modalIsOpen:Ge,onClose:function(){return ze(!1)},spec:c.config,afterDepositAndWithdraw:function(){tt()},position:c.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:o})]})})})));t.a=Object(b.b)("wallet","trading","loading","version","type")(Object(b.c)((function({wallet:e,trading:t,isPro:i,lang:s,loading:c,version:r,type:o}){const[l,d]=Object(n.useState)("trade"),j=e=>d(e),b=a()("trade-position",l);return Object(n.useEffect)((()=>(e.detail.account&&(c.loading(),t.init(e,(()=>{c.loaded()}))),()=>{t.clean()})),[e.detail.account,r.current]),Object(f.jsxs)("div",{className:b,children:[Object(f.jsx)("div",{className:"header-top",children:Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("span",{className:"trade",onClick:()=>j("trade"),children:s.trade}),!i&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"pc position",onClick:()=>j("position"),children:s["my-position"]}),Object(f.jsx)("span",{className:"mobile position",onClick:()=>j("position"),children:s["my-position"]}),Object(f.jsx)("span",{className:"history",onClick:()=>j("history"),children:s.history})]})]})}),Object(f.jsx)(se,{lang:s}),Object(f.jsx)(w,{lang:s}),Object(f.jsx)(Q,{wallet:e,spec:t.config,specs:t.configs,lang:s}),Object(f.jsx)(R,{lang:s})]})})))},775:function(e,t,i){},776:function(e,t,i){},777:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i(4);var n=i(21),s=i(613),c=i.n(s),a=i(19),r=i(654),o=i(13);function l({lite:e=!1,lang:t}){const i=Object(r.useLocation)().pathname.split("/")[3],s=Object(n.useHistory)(),l=c()("check-lite-pro",{lite:e,pro:!e}),d=e=>{s.push(e)};return Object(o.jsxs)("div",{className:l,children:[a.a.isFuture&&!i&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"lite",onClick:()=>d("/futures/lite"),children:t.lite}),Object(o.jsxs)("div",{className:"pro",onClick:()=>d("/futures/pro"),children:[" ",t.pro]})]}),a.a.isFuture&&i&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"lite",onClick:()=>d("/futures/lite/v1"),children:t.lite}),Object(o.jsxs)("div",{className:"pro",onClick:()=>d("/futures/pro/v1"),children:[" ",t.pro]})]}),a.a.isOption&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"lite",onClick:()=>d("/options/lite"),children:t.lite}),Object(o.jsxs)("div",{className:"pro",onClick:()=>d("/options/pro"),children:[" ",t.pro]})]})]})}},778:function(e,t,i){},779:function(e,t,i){},780:function(e,t,i){}}]);
//# sourceMappingURL=19.6488b62e.chunk.js.map