{"version":3,"sources":["desktop/pages/Permission/img/warn.svg","desktop/pages/Permission/AddSymbol.js","components/Button/Button.js","components/TipWrapper/TipWrapper.js","../node_modules/react-step-wizard/dist/react-step-wizard.min.js","desktop/pages/Permission/img/down.svg","desktop/pages/Permission/img/up.svg"],"names":["Step1","goToStep","lang","wallet","props","loading","OnChange","multiplier","setMultiplier","useState","fundingRateCoefficient","setFundingRateCoefficient","transactionFeeRatio","setTransactionFeeRatio","selectAdvanced","setSelectAdvanced","dropdown","setDropdown","isDefault","setIsDefault","chainLinkAddress","setChainLinkAddress","oracleConfigs","setOracleConfigs","multiplierList","oracleConfig","setOracleConfig","DeriEnv","get","symbol","symbolId","address","chainId","selectClass","classNames","hasConnectWallet","detail","account","connect","btnText","setBtnText","OnClick","nextStep","alert","setDefault","useEffect","async","res","getPoolOpenOracleList","loaded","length","sort","a","b","blockNumber","oracleList","elem","onClick","className","baseToken","type","event","preventDefault","SymbolDisplay","spec","src","symbolArrowIcon","alt","map","config","index","e","select","selected","find","onSelect","value","placeholder","onChange","target","chainLinkAddressValue","Button","click","createOracle","success","oracle","up","down","TipWrapper","block","tip","multiplierValue","fundingRateCoefficientValue","transactionFeeRatioValue","Step2","parameters","history","useHistory","bg","times","toString","addSymbol","push","inject","observer","setSymbolId","setParameters","version","useParams","query","useQuery","has","getPoolAcitveSymbolIds","item","id","getPoolALLSymbolId","arr","div","initialStep","name","disabled","afterClick","checkApprove","status","setStatus","isApproved","setIsApproved","pending","setPending","buttonText","setbuttonText","loadRef","useRef","beforeAction","current","style","display","afterAction","pool","bTokenId","loadApproveStatus","approve","ref","marginRight","currentNode","querySelectorAll","forEach","hoverNode","hover","addEventListener","tips","currentTarget","getAttribute","Date","getTime","document","body","querySelector","createElement","cssText","window","screen","width","appendChild","innerText","rect","getBoundingClientRect","top","y","height","documentElement","scrollTop","offsetWidth","pageX","left","remove","title","children","t","o","i","default","s","Symbol","iterator","constructor","prototype","c","n","enumerable","configurable","writable","Object","defineProperty","key","p","r","setPrototypeOf","getPrototypeOf","__proto__","f","u","ReferenceError","l","Reflect","construct","sham","Proxy","Boolean","valueOf","call","this","arguments","apply","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","createTextNode","d","animated","fadeInRight","fadeInLeft","fadeOutRight","fadeOutLeft","m","h","TypeError","create","PureComponent","activeStep","classes","hashKeys","namedSteps","getHash","getSteps","hashKey","concat","stepName","isHashEnabled","transitions","intro","decodeURI","location","hash","replace","enterRight","enterLeft","exitRight","exitLeft","state","setActiveStep","totalSteps","isInvalidStep","console","error","getTransitions","setState","onStepChange","previousStep","updateHash","Children","toArray","initialState","onHashChange","instance","removeEventListener","currentStep","goToNamedStep","firstStep","lastStep","isActive","isLazyMount","isReactComponent","cloneElement","nav","defaultProps","trim","Step","exports","require"],"mappings":"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","file":"static/js/36.9c770697.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/warn.db926076.svg\";","/* eslint-disable jsx-a11y/alt-text */\nimport { useState, useEffect } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport StepWizard from \"react-step-wizard\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport classNames from 'classnames';\nimport Button from '../../../components/Button/Button';\nimport { bg, addSymbol, getPoolOpenOracleList, DeriEnv, getPoolAllSymbolNames, getPoolAcitveSymbolIds, createOracle } from '../../../lib/web3js/indexV2'\nimport useQuery from '../../../hooks/useQuery'\nimport down from './img/down.svg';\nimport up from './img/up.svg';\nimport warn from './img/warn.svg';\nimport symbolArrowIcon from '../../../assets/img/symbol-arrow.svg'\nimport TipWrapper from '../../../components/TipWrapper/TipWrapper';\nimport './addsymbol.less'\n\nfunction AddSymbol({ wallet = {}, lang, loading }) {\n  const [multiplier, setMultiplier] = useState('0.0001')\n  const [fundingRateCoefficient, setFundingRateCoefficient] = useState('0.000004')\n  const [transactionFeeRatio, setTransactionFeeRatio] = useState('0.1')\n  const [symbolId, setSymbolId] = useState(0)\n  const [oracleConfig, setOracleConfig] = useState(\n    DeriEnv.get() === 'dev' ?\n      {\n        symbol: \"BTCUSD\",\n        address: \"0x78Db6d02EE87260a5D825B31616B5C29f927E430\",\n        chainId: '96'\n      }\n      : {\n        symbol: \"BTCUSD\",\n        address: \"0x5632A70669411D4de43d405E1880018ff85daaD3\",\n        chainId: '56'\n      }\n  )\n\n\n\n  const [parameters, setParameters] = useState([]);\n  const { version, chainId, symbol, baseToken, address, type } = useParams();\n  const query = useQuery();\n  const props = { version, chainId, symbol, baseToken, address, wallet, type, lang }\n  if (query.has('baseTokenId')) {\n    props['baseTokenId'] = query.get('baseTokenId')\n  }\n  if (query.has('symbolId')) {\n    props['symbolId'] = query.get('symbolId')\n  }\n  const hasConnectWallet = () => wallet && wallet.detail && wallet.detail.account\n  const getPoolALLSymbolId = async () => {\n    let res = await getPoolAcitveSymbolIds(wallet.detail.chainId, address)\n    res = res.map(item => {\n      return item = +item\n    })\n    res = res.sort(function (a, b) { return b - a })\n    let id = 0\n    if (res.length) {\n      id = +res[0] + 1\n    }\n    setSymbolId(id)\n  }\n\n  useEffect(() => {\n    if (hasConnectWallet()) {\n      getPoolALLSymbolId();\n    }\n  }, [wallet, wallet.detail, address])\n\n  const StepChange = (name, value) => {\n    if (name === 'multiplier') {\n      setMultiplier(value)\n    }\n    if (name === 'fundingRateCoefficient') {\n      setFundingRateCoefficient(value)\n    }\n    if (name === 'transactionFeeRatio') {\n      setTransactionFeeRatio(value)\n    }\n    if (name === 'oracleConfig') {\n      setOracleConfig(value)\n    }\n  }\n\n  useEffect(() => {\n    let arr = [symbolId, oracleConfig.symbol, oracleConfig.address, multiplier, bg(transactionFeeRatio).div(bg(100)).toString(), fundingRateCoefficient]\n    setParameters(arr)\n  }, [multiplier, fundingRateCoefficient, transactionFeeRatio, oracleConfig, symbolId])\n\n  useEffect(() => {\n  }, [wallet, wallet.detail])\n  return (\n    <div className='add-symbol'>\n      <div className='Step-box'>\n        <StepWizard\n          initialStep={1}\n        >\n          <Step1 lang={lang} wallet={wallet} props={props} loading={loading} OnChange={StepChange} />\n          <Step2 lang={lang} wallet={wallet} props={props} parameters={parameters} />\n        </StepWizard>\n      </div>\n    </div>\n  )\n}\n\nfunction Step1({ goToStep, lang, wallet, props, loading, OnChange }) {\n  const [multiplier, setMultiplier] = useState('0.0001')\n  const [fundingRateCoefficient, setFundingRateCoefficient] = useState('0.000004')\n  const [transactionFeeRatio, setTransactionFeeRatio] = useState('0.1')\n  const [selectAdvanced, setSelectAdvanced] = useState(true)\n  const [dropdown, setDropdown] = useState(false);\n  const [isDefault, setIsDefault] = useState(true);\n  const [chainLinkAddress, setChainLinkAddress] = useState('')\n  const [oracleConfigs, setOracleConfigs] = useState([])\n  const multiplierList = {\n    \"BTCUSD\": \"0.0001\",\n    \"ETHUSD\": \"0.001\",\n    \"BNBUSD\": \"0.01\",\n    \"AXSUSDT\": \"1\",\n    \"MBOXUSDT\": \"1\",\n    \"IBSCDEFI\": \"0.01\",\n    \"IGAME\": \"0.01\",\n    \"ALICEUSDT\": \"0.1\",\n    \"NULSUSDT\": \"1\",\n  }\n  const [oracleConfig, setOracleConfig] = useState(DeriEnv.get() === 'dev' ?\n    {\n      symbol: \"BTCUSD\",\n      symbolId: 0,\n      address: \"0x78Db6d02EE87260a5D825B31616B5C29f927E430\",\n      chainId: '96'\n    }\n    : {\n      symbol: \"BTCUSD\",\n      symbolId: 0,\n      address: \"0x5632A70669411D4de43d405E1880018ff85daaD3\",\n      chainId: '56'\n    })\n  const selectClass = classNames('dropdown-menu', { 'show': dropdown })\n  const hasConnectWallet = () => wallet && wallet.detail && wallet.detail.account\n  const connect = () => {\n    wallet.connect()\n  }\n  const [btnText, setBtnText] = useState(\n    <button OnClick={connect}>\n      {lang['connect-wallet']}\n    </button>\n  )\n\n  const onDropdown = (event) => {\n    if (oracleConfigs.length > 0) {\n      event.preventDefault();\n      setDropdown(!dropdown)\n    }\n  }\n  const onSelect = (select) => {\n    const selected = oracleConfigs.find(config => config.address === select.address && select.chainId === config.chainId)\n    if (selected) {\n      setMultiplier(multiplierList[selected.symbol])\n      setOracleConfig(selected)\n      setDropdown(false)\n    }\n  }\n\n  const nextStep = () => {\n    if (!oracleConfig.symbol) {\n      alert(lang['please-enter-a-correct-address'])\n      return;\n    }\n    OnChange('multiplier', multiplier)\n    OnChange('fundingRateCoefficient', fundingRateCoefficient)\n    OnChange('transactionFeeRatio', transactionFeeRatio)\n    OnChange('oracleConfig', oracleConfig)\n    goToStep(2)\n  }\n\n  const multiplierValue = (event) => {\n    let { value } = event.target\n    setMultiplier(value)\n  }\n\n  const fundingRateCoefficientValue = (event) => {\n    let { value } = event.target\n    setFundingRateCoefficient(value)\n  }\n\n  const transactionFeeRatioValue = (event) => {\n    let { value } = event.target\n    setTransactionFeeRatio(value)\n  }\n\n  const chainLinkAddressValue = (event) => {\n    let { value } = event.target\n    setChainLinkAddress(value)\n  }\n\n  const oracleList = async () => {\n    let res = await getPoolOpenOracleList(wallet.detail.chainId,wallet.detail.account)\n    loading.loaded()\n    if (res.length) {\n      res.sort(function (a, b) {\n        return (+a.blockNumber - (+b.blockNumber))\n      })\n      setMultiplier(multiplierList[res[0].symbol])\n      setOracleConfig(res[0])\n      setOracleConfigs(res)\n    }\n\n  }\n\n  const setDefault = () => {\n    setIsDefault(!isDefault)\n    if (isDefault) {\n      setOracleConfig({})\n    } else {\n      setOracleConfig(oracleConfigs[0])\n    }\n  }\n\n  const generateOracle = async () => {\n    if (!chainLinkAddress) {\n      alert(lang['please-enter-a-correct-address'])\n      return;\n    }\n\n    let res = await createOracle(wallet.detail.chainId, wallet.detail.account, chainLinkAddress)\n    if (res.success) {\n      let oracle = await getPoolOpenOracleList(wallet.detail.chainId, wallet.detail.account)\n      setOracleConfig(oracle[0])\n      setOracleConfigs(oracle)\n    } else {\n      alert(lang['fail'])\n    }\n  }\n\n\n  useEffect(() => {\n    if (hasConnectWallet()) {\n      loading.loading()\n      oracleList()\n    }\n  }, [wallet.detail.chainId])\n\n  useEffect(() => {\n    let elem;\n    if (hasConnectWallet()) {\n      elem = <button onClick={nextStep}>\n        {lang['next']}\n      </button>\n    } else {\n      elem = <button onClick={connect}>\n        {lang['connect-wallet']}\n      </button>\n    }\n    setBtnText(elem)\n  }, [wallet, wallet.detail, wallet.detail.account, oracleConfig, multiplier, fundingRateCoefficient, transactionFeeRatio])\n  return (\n    <div className='step1'>\n      <div className='header'>\n        <span>{lang['add-symbol']}</span>\n        <span>{props.baseToken} @ {lang['bsc']}</span>\n      </div>\n      <div className='context'>\n        <div className='box'>\n          <span className='base-title'> {lang['oracle']}</span>\n          <div className='select-oracle'>\n            {isDefault ?\n              <div className='radio'>\n              </div>\n              : <div className='radio-no' onClick={setDefault}></div>}\n            <span>{lang['choose-from-exsting-ones']}</span>\n\n            {!isDefault ?\n              <div className='radio optional'>\n              </div>\n              : <div className='radio-no optional' onClick={setDefault}></div>}\n            <span>{lang['generate-oracle-address']}</span>\n          </div>\n\n          {isDefault && <>\n            <div className='select-symbol'>\n              <div className='btn-group check-baseToken-btn'>\n                <button\n                  type='button'\n                  onClick={onDropdown}\n                  className='btn chec'>\n                  <SymbolDisplay spec={oracleConfig} />\n                  <span className='check-base-down'><img src={symbolArrowIcon} alt='' /></span>\n                </button>\n                <div className={selectClass}>\n                  {oracleConfigs.map((config, index) => {\n                    return (\n                      <div className='dropdown-item' key={index} onClick={(e) => onSelect(config)}>\n                        <SymbolDisplay spec={config} />\n                      </div>\n                    )\n                  })}\n                </div>\n              </div>\n            </div>\n          </>}\n\n\n          {!isDefault && <>\n            <div className='optional-oracle'>\n              <div className='input'>\n                <input\n                  type='text'\n                  value={chainLinkAddress}\n                  placeholder={lang['chain-link-address']}\n                  onChange={event => chainLinkAddressValue(event)}\n                />\n                <Button className='btn' click={generateOracle} btnText={lang['generate']} lang={lang}></Button>\n              </div>\n              <div className='optional-oracle-address'>\n                <input\n                  type='text'\n                  value={oracleConfig.address}\n                />\n              </div>\n            </div>\n          </>}\n\n          {/* <div className='warn'>\n            <img src={warn} />\n            <span>\n              {lang['please-contact-the-team']}\n            </span>\n          </div> */}\n          <div className='symbol-name'>\n            <div className='symbol-title'>\n              {lang['symbol-name']}\n            </div>\n            <div className='symbol-value'>\n              {oracleConfig ? oracleConfig.symbol : ''}\n            </div>\n          </div>\n          <div className='advanced' onClick={() => setSelectAdvanced(!selectAdvanced)}>\n            <span className='select-advanced' >\n              {lang['advanced']}\n            </span>\n            {selectAdvanced ? <img src={up} /> : <img src={down} />}\n          </div>\n          <div className='advanced-border'></div>\n          {selectAdvanced && <>\n            <div className='margin-rewards'>\n              <div className='margin-ratio-parameters'>\n                <div className='title'>\n                  {lang['parameters']}\n                </div>\n                <div className='parameters'>\n                  <div>\n                    <div className='text'>\n                      <TipWrapper block={false}>\n                        <span className='hover-title' tip={lang['multiplier-hover']}>\n                          {lang['multiplier']}\n                        </span>\n                      </TipWrapper>\n                    </div>\n                    <div className='input-value'>\n                      <input\n                        type='number'\n                        value={multiplier}\n                        onChange={event => multiplierValue(event)}\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <div className='text'>\n                      <TipWrapper block={false}>\n                        <span className='hover-title' tip={lang['funding-rate-coefficient-hover']}>\n                          {lang['funding-rate-coefficient']}\n                        </span>\n                      </TipWrapper>\n                    </div>\n                    <div className='input-value'>\n                      <input\n                        type='number'\n                        value={fundingRateCoefficient}\n                        onChange={event => fundingRateCoefficientValue(event)}\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <div className='text'>\n                      <span className='hover-title-fee'>\n                        {lang['transaction-fee-ratio']}\n                      </span>\n                    </div>\n                    <div className='input-value'>\n                      <input\n                        type='number'\n                        value={transactionFeeRatio}\n                        onChange={event => transactionFeeRatioValue(event)}\n                      />  %\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </>}\n\n          <div className='next-button'>\n            {btnText}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction Step2({ goToStep, lang, wallet, props, parameters }) {\n  const history = useHistory();\n  let url = '/mining'\n  const add = async () => {\n    let res = await addSymbol(wallet.detail.chainId, props.address, wallet.detail.account, parameters)\n    if (res.success) {\n      alert(lang['success'])\n      history.push(url)\n    } else {\n      alert(lang['fail'])\n    }\n  }\n  return (\n    <div className='step2'>\n      <div className='header'>\n        <span>{lang['confirm']}</span>\n      </div>\n      <div className='context'>\n        <div className='box'>\n          <span className='oracle-title'> {lang['oracle']}</span>\n          <div className='oracle-name'>\n            {parameters[2]}\n          </div>\n\n          <span className='symbol-title'> {lang['symbol-name']}</span>\n          <div className='symbol-name'>\n            {parameters[1]}\n          </div>\n\n          <div className='margin-rewards'>\n            <div className='margin-ratio-parameters'>\n              <div className='title'>\n                {lang['parameters']}\n              </div>\n              <div className='parameters'>\n                <div>\n                  <div className='text'>\n                    {lang['multiplier']}\n                  </div>\n                  <div className='input-value'>\n                    {parameters[3]}\n                  </div>\n                </div>\n                <div>\n                  <div className='text'>\n                    {lang['funding-rate-coefficient']}\n                  </div>\n                  <div className='input-value'>\n                    {parameters[5]}\n                  </div>\n                </div>\n                <div>\n                  <div className='text'>\n                    {lang['transaction-fee-ratio']}\n                  </div>\n                  <div className='input-value'>\n                    {bg(parameters[4]).times(bg(100)).toString()}  %\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className='next-button'>\n            <div className='next-button'>\n              <button onClick={() => { goToStep(1) }}>\n                {lang['cancel']}\n              </button>\n              <Button click={add} btnText={lang['ok']} lang={lang} >\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SymbolDisplay({ spec }) {\n  if (spec) {\n    return (\n      `${spec.symbol}`\n    )\n  }\n  return ''\n\n}\n\nexport default inject('wallet', 'loading')(observer(AddSymbol))","import {useState,useRef,useEffect} from 'react';\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [isApproved, setIsApproved] = useState(true);\n  const [pending, setPending] = useState(false);\n  const [buttonText, setbuttonText] = useState(btnText)\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    beforeAction()\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    afterAction()\n  }\n\n  const beforeAction = ()  => {\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n  }\n\n  const afterAction = () => {\n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  const loadApproveStatus = async () => {\n    if(checkApprove && wallet && wallet.detail.account){\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\n      setIsApproved(res);\n    }\n  }\n  const approve = async () => {\n    beforeAction();\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\n    if(res.success){\n      setIsApproved(true);\n    } else {\n      setIsApproved(false)\n      alert(lang['approve-failed'])\n    }\n    afterAction();\n  }\n\n  const action = () => {\n    if(isApproved){\n      onClick();\n    } else {\n      approve();\n    }\n  }\n\n  useEffect(() => {\n    loadApproveStatus();\n    return () => {};\n  }, [wallet,spec,checkApprove]);\n\n  useEffect(() => {\n    if(btnText){\n      setbuttonText(btnText)\n    }\n    return () => {\n    }\n  }, [btnText])\n\n  return(\n    <button className={className} onClick={action} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? lang['pending'] : (isApproved ? buttonText : lang['approve'])  }\n        </button>\n  )\n}","import React, { useState, useEffect,useRef } from 'react'\n\nfunction TipWrapper(props){\n  const ref = useRef(null)\n  useEffect(() => {\n    const currentNode = ref.current\n    if(currentNode){\n      const hoverNodes = currentNode.querySelectorAll('[tip]')\n      hoverNodes.forEach(hoverNode => {\n        let hover = null;\n        hoverNode.addEventListener('mouseover',event => {\n          const currentTarget = event.currentTarget\n          const tips = currentTarget.getAttribute('tip')\n          if(tips){\n            const id = `hover-box-${new Date().getTime()}`\n            hover = document.body.querySelector(`#${id}`)\n            hover = document.createElement('div')\n            hover.style.cssText = `z-index : 9;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`\n            document.body.appendChild(hover)\n            hover.innerText = tips\n            hover.id = id\n            hover.style.display = 'block'\n            const rect = event.currentTarget.getBoundingClientRect()\n            hover.style.top = `${rect.y + rect.height + window.document.documentElement.scrollTop}px`\n            if(hover.offsetWidth + event.pageX > window.screen.width){\n              if(event.pageX - hover.offsetWidth >= 0){\n                hover.style.left = `${event.pageX - hover.offsetWidth}px`\n              } else {\n                const left = event.pageX - (hover.offsetWidth / 2) > 0 ? (event.pageX - (hover.offsetWidth / 2)) : 0;\n                hover.style.left = `${left}px`\n              }\n            } else {\n              hover.style.left = `${event.pageX}px`\n            } \n          }\n        })\n        currentNode.addEventListener('mouseout',event => {\n          if(hover){\n            hover.remove()\n          }\n        })   \n      });\n    }\n  return () => {ref.current = null}\n  }, [props.title])\n  return props.block ? <div ref={ref}>{props.children}</div> : <span ref={ref}>{props.children}</span>\n}\n\nexport default TipWrapper","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports,require(\"react\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"react\"],n):n((t=t||self).ReactStepWizard={},t.React)}(this,function(t,o){\"use strict\";var i=\"default\"in o?o.default:o;function s(t){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function c(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function p(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,n){return(f=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function l(e){var a=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=r(e);return t=a?(t=r(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!(t=t)||\"object\"!=typeof t&&\"function\"!=typeof t?u(n):t}}function n(t,n){var e,a=(n=void 0===n?{}:n).insertAt;t&&\"undefined\"!=typeof document&&(e=document.head||document.getElementsByTagName(\"head\")[0],(n=document.createElement(\"style\")).type=\"text/css\",\"top\"===a&&e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)))}var d={animated:\"rsw_1z\",fadeInRight:\"rsw_1M\",fadeInLeft:\"rsw_19\",fadeOutRight:\"rsw_3C\",fadeOutLeft:\"rsw_1u\"};n(\"/**\\n * Snippets from animate.css\\n * Credit goes to https://github.com/daneden\\n * github.com/daneden/animate.css\\n*/\\n.rsw_1z {\\n  -webkit-animation-duration: .8192s;\\n  animation-duration: .8192s;\\n  -webkit-animation-fill-mode: backwards;\\n  animation-fill-mode: backwards;\\n}\\n\\n/** fadeInRight */\\n@-webkit-keyframes rsw_1M {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(100%, 0, 0);\\n    transform: translate3d(100%, 0, 0);\\n  }\\n\\n  to {\\n    opacity: 1;\\n    -webkit-transform: none;\\n    transform: none;\\n  }\\n}\\n\\n@keyframes rsw_1M {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(100%, 0, 0);\\n    transform: translate3d(100%, 0, 0);\\n  }\\n\\n  to {\\n    opacity: 1;\\n    -webkit-transform: none;\\n    transform: none;\\n  }\\n}\\n\\n.rsw_1M {\\n  -webkit-animation-name: rsw_1M;\\n  animation-name: rsw_1M;\\n}\\n\\n/** fadeInLeft */\\n@-webkit-keyframes rsw_19 {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(-100%, 0, 0);\\n    transform: translate3d(-100%, 0, 0);\\n  }\\n\\n  to {\\n    opacity: 1;\\n    -webkit-transform: none;\\n    transform: none;\\n  }\\n}\\n\\n@keyframes rsw_19 {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: translate3d(-100%, 0, 0);\\n    transform: translate3d(-100%, 0, 0);\\n  }\\n\\n  to {\\n    opacity: 1;\\n    -webkit-transform: none;\\n    transform: none;\\n  }\\n}\\n\\n.rsw_19 {\\n  -webkit-animation-name: rsw_19;\\n  animation-name: rsw_19;\\n}\\n\\n/** fadeOutRight */\\n@-webkit-keyframes rsw_3C {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n    -webkit-transform: translate3d(100%, 0, 0);\\n    transform: translate3d(100%, 0, 0);\\n  }\\n}\\n\\n@keyframes rsw_3C {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n    -webkit-transform: translate3d(100%, 0, 0);\\n    transform: translate3d(100%, 0, 0);\\n  }\\n}\\n\\n.rsw_3C {\\n  -webkit-animation-name: rsw_3C;\\n  animation-name: rsw_3C;\\n}\\n\\n/** fadeOutLeft */\\n@-webkit-keyframes rsw_1u {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n    -webkit-transform: translate3d(-100%, 0, 0);\\n    transform: translate3d(-100%, 0, 0);\\n  }\\n}\\n\\n@keyframes rsw_1u {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n    -webkit-transform: translate3d(-100%, 0, 0);\\n    transform: translate3d(-100%, 0, 0);\\n  }\\n}\\n\\n.rsw_1u {\\n  -webkit-animation-name: rsw_1u;\\n  animation-name: rsw_1u;\\n}\\n\");var m=\"rsw_2Y\",a=\"rsw_2f\",h=\"rsw_3G\";n(\"/** Step Wizard */\\n.rsw_2Y {\\n    position: relative;\\n}\\n\\n.rsw_2f {\\n    opacity: 0;\\n    pointer-events: none;\\n    position: absolute;\\n    top: 0;\\n    width: 100%;\\n    z-index: 0;\\n}\\n\\n.rsw_3G {\\n    opacity: 1;\\n    pointer-events: inherit;\\n    position: relative;\\n    z-index: 1;\\n}\\n\");var e=function(){!function(t,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&f(t,n)}(r,o.PureComponent);var t,n,e,a=l(r);function r(t){var o;return function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,r),p(u(o=a.call(this,t)),\"initialState\",function(){var e={activeStep:0,classes:{},hashKeys:{},namedSteps:{}},t=\"object\"===(\"undefined\"==typeof window?\"undefined\":s(window))?o.getHash():\"\",n=o.getSteps();n.forEach(function(t,n){e.hashKeys[n]=t.props&&t.props.hashKey||\"step\".concat(n+1),e.hashKeys[e.hashKeys[n]]=n,e.namedSteps[n]=t.props&&t.props.stepName||\"step\".concat(n+1),e.namedSteps[e.namedSteps[n]]=n});var a=o.props.initialStep-1;return a&&n[a]&&(e.activeStep=a),o.props.isHashEnabled&&t&&void 0!==e.hashKeys[t]&&(e.activeStep=e.hashKeys[t]),o.props.transitions&&(e.classes[e.activeStep]=o.props.transitions.intro||\"\"),e}),p(u(o),\"getHash\",function(){return decodeURI(window.location.hash).replace(/^#/,\"\")}),p(u(o),\"getTransitions\",function(){return o.props.transitions||{enterRight:\"\".concat(d.animated,\" \").concat(d.fadeInRight),enterLeft:\"\".concat(d.animated,\" \").concat(d.fadeInLeft),exitRight:\"\".concat(d.animated,\" \").concat(d.fadeOutRight),exitLeft:\"\".concat(d.animated,\" \").concat(d.fadeOutLeft)}}),p(u(o),\"onHashChange\",function(){var t=o.state.hashKeys[o.getHash()];void 0!==t&&o.setActiveStep(t)}),p(u(o),\"isInvalidStep\",function(t){return t<0||t>=o.totalSteps}),p(u(o),\"setActiveStep\",function(t){var n,e,a=o.state.activeStep;a!==t&&(o.isInvalidStep(t)?console.error(\"\".concat(t+1,\" is an invalid step\")):(n=o.state.classes,e=o.getTransitions(),a<t?(n[a]=e.exitLeft,n[t]=e.enterRight):(n[a]=e.exitRight,n[t]=e.enterLeft),o.setState({activeStep:t,classes:n},function(){o.onStepChange({previousStep:a+1,activeStep:t+1})})))}),p(u(o),\"onStepChange\",function(t){o.props.onStepChange(t),o.props.isHashEnabled&&o.updateHash(o.state.activeStep)}),p(u(o),\"getSteps\",function(){return i.Children.toArray(o.props.children)}),p(u(o),\"firstStep\",function(){return o.goToStep(1)}),p(u(o),\"lastStep\",function(){return o.goToStep(o.totalSteps)}),p(u(o),\"nextStep\",function(){return o.setActiveStep(o.state.activeStep+1)}),p(u(o),\"previousStep\",function(){return o.setActiveStep(o.state.activeStep-1)}),p(u(o),\"goToStep\",function(t){o.props.isHashEnabled&&\"string\"==typeof t&&void 0!==o.state.hashKeys[t]?o.setActiveStep(o.state.hashKeys[t]):o.setActiveStep(t-1)}),p(u(o),\"goToNamedStep\",function(t){\"string\"==typeof t&&void 0!==o.state.namedSteps[t]?o.setActiveStep(o.state.namedSteps[t]):console.error('Cannot find step with name \"'.concat(t,'\"'))}),p(u(o),\"updateHash\",function(t){window.location.hash=o.state.hashKeys[t]}),p(u(o),\"isReactComponent\",function(t){t=t.type;return\"function\"==typeof t||\"object\"===s(t)}),o.state=o.initialState(),o}return t=r,(n=[{key:\"componentDidMount\",value:function(){this.props.isHashEnabled&&window.addEventListener(\"hashchange\",this.onHashChange),this.props.instance(this)}},{key:\"componentWillUnmount\",value:function(){this.props.isHashEnabled&&window.removeEventListener(\"hashchange\",this.onHashChange)}},{key:\"currentStep\",get:function(){return this.state.activeStep+1}},{key:\"totalSteps\",get:function(){return this.getSteps().length}},{key:\"render\",value:function(){var e=this,a={currentStep:this.currentStep,totalSteps:this.totalSteps,nextStep:this.nextStep,previousStep:this.previousStep,goToStep:this.goToStep,goToNamedStep:this.goToNamedStep,firstStep:this.firstStep,lastStep:this.lastStep},o=this.state.classes,t=i.Children.map(this.getSteps(),function(t,n){return t?(a.isActive=n===e.state.activeStep,a.transitions=o[n],!e.props.isLazyMount||e.props.isLazyMount&&a.isActive?i.createElement(y,a,e.isReactComponent(t)?i.cloneElement(t,a):t):null):null});return i.createElement(\"div\",{className:this.props.className},this.props.nav&&i.cloneElement(this.props.nav,a),i.createElement(\"div\",{className:m},t))}}])&&c(t.prototype,n),e&&c(t,e),r}();e.defaultProps={children:[],className:null,initialStep:1,instance:function(){},isHashEnabled:!1,isLazyMount:!1,nav:null,onStepChange:function(){},transitions:void 0};var y=function(t){var n=t.children,e=t.isActive,t=t.transitions;return i.createElement(\"div\",{className:\"\".concat(a,\" \").concat(t,\" \").concat(e?h:\"\").trim()},n)};process.env.NODE_ENV,y.defaultProps={children:[],isActive:!1,transitions:\"\"},t.Step=y,t.default=e,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","export default __webpack_public_path__ + \"static/media/down.611894d4.svg\";","export default __webpack_public_path__ + \"static/media/up.2c6adea1.svg\";"],"sourceRoot":""}