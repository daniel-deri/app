(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[30],{1179:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));a(726);var i=a(727),s=a(25),c=a(26),r=a(613),n=a(818),o=a.n(n),l=a(728),d=a(116),u=a(18);const m=["ACTION","ACCOUNT","LIQUIDITY","AMOUNT","TIMESTAMP (UTC+8)"],b=["action","account","notional","amount","timestamp"],j=`${Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://api.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL}`,O=["DIRECTION","ACCOUNT","SYMBOL","PRICE","VOLUME","NOTIONAL","TIMESTAMP (UTC+8)"],p=["direction","account","symbol","price","volume","notional","timestamp"],_={account:e=>Object(c.g)(e.account),timestamp:e=>o()(new Date(1e3*e.timestamp)).format("YYYY-MM-DD HH:mm:ss"),notional:e=>Object(u.jsx)(r.a,{value:e.notional,prefix:"$",thousandSeparator:!0,decimalScale:5}),amount:e=>Object(u.jsx)(r.a,{value:e.amount,suffix:` ${e.bToken}`,thousandSeparator:!0,decimalScale:5}),price:e=>Object(u.jsx)(r.a,{value:e.price,thousandSeparator:!0,decimalScale:5}),direction:e=>Object(u.jsx)("span",{className:`direction ${e.direction}`,children:e.direction}),action:e=>Object(u.jsx)("span",{className:`action ${e.action}`,children:e.action})};function h(){const{network:e,add:t,catalog:a,bToken:r}=Object(s.useParams)(),n=`${j}/get_liquidity?pool=${t}`,o=`${j}/get_trade?pool=${t}`;return Object(u.jsxs)("div",{className:"info",style:{"min-width":`calc(100vw - ${.3*window.screen.width}px)`},children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(d.b,{to:"/info",children:"Deri Overview"})," > ",`${e} - ${a.toUpperCase()} - ${Object(c.g)(t)} (${r})`]}),Object(u.jsxs)("div",{className:"chart-box",children:[Object(u.jsxs)("div",{className:"chart",children:[Object(u.jsx)(l.a,{title:"TVL",url:`${Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://api.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL}/get_liquidity_history?pool=${t}`,seriesType:"area"})," "]}),Object(u.jsxs)("div",{className:"chart",children:[Object(u.jsx)(l.a,{title:"Volume 24H",url:`${Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HTTP_URL:"https://oracle4.deri.finance",REACT_APP_REST_SERVER_URL:"https://api.deri.finance",REACT_APP_WSS_URL:"wss://oracle4.deri.finance"}).REACT_APP_INFO_HTTP_URL}/get_trade_history?pool=${t}`,seriesType:"histogram"})," "]})]}),Object(u.jsxs)("div",{className:"table-by-network",children:[Object(u.jsx)(i.a,{title:"LIQUIDITY",headers:m,columns:b,columnRenders:_,url:n,pagination:!0}),Object(u.jsx)(i.a,{title:"TRADE",headers:O,columns:p,columnRenders:_,url:o,pagination:!0})]})]})}},613:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(8),s=a(614),c=a(18);function r(e){const[t,a]=Object(i.useState)(Object(c.jsx)("span",{className:"loading-line"}));return Object(i.useEffect)((()=>{const{allowZero:t,...i}=e;return(void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&a(Object(c.jsx)(s.a,{...i,displayType:"text"})),()=>{}}),[e.value]),t}},726:function(e,t,a){},727:function(e,t,a){"use strict";var i=a(8),s=a(639),c=a.n(s),r=a(47),n=a(18);t.a=Object(r.b)("loading")(Object(r.c)((function({title:e,dataSet:t,url:a,headers:s,columns:r,columnRenders:o={},pagination:l,loading:d,onRowClick:u}){const[m,b]=Object(i.useState)([]),[j,O]=Object(i.useState)(1),[p,_]=Object(i.useState)(),[h,T]=Object(i.useState)(10),v=async(e,t)=>{let a=e;l&&(a=`${a}&page=${t}&page_amount=${h}`),d.loading();const i=await c.a.get(a);200===i.status&&Array.isArray(i.data.data)&&(_(i.data.count/h),i.data.count%h>0&&_(Math.floor(i.data.count/h)+1),b(i.data.data),O(t),d.loaded())};return Object(i.useEffect)((()=>{t?b(t):v(a,1)}),[a]),Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"t-title",children:e}),Object(n.jsxs)("div",{className:"tbody",children:[Object(n.jsx)("div",{className:"theader",children:s.map((e=>Object(n.jsx)("div",{className:"col",children:e})))}),m.map((e=>Object(n.jsxs)("div",{className:"row",onClick:()=>u&&u(e),style:{cursor:u?"pointer":"normal"},children:[r.map((t=>Object(n.jsx)("div",{className:"col",children:o[t]?o[t].call(null,e):e[t]}))),Object(n.jsx)("div",{})]}))),l&&Object(n.jsxs)("div",{className:"pagination row",children:[Object(n.jsx)("span",{className:"arrow",onClick:()=>{1!==j&&v(a,j-1)},children:" < "}),Object(n.jsxs)("span",{children:["Page ",j," of ",p]}),Object(n.jsx)("span",{className:"arrow",onClick:()=>{j!==p&&v(a,j+1)},children:" > "})]})]})]})})))},728:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a(8),s=a(736),c=a(639),r=a.n(c),n=a(700),o=a.n(n),l=a(26),d=a(18);function u({title:e,url:t,seriesType:a}){const c=Object(i.useRef)(null),n=Object(i.useRef)(null),[u,m]=Object(i.useState)(""),[b,j]=Object(i.useState)(""),O=Object(i.useRef)(),p=e=>{if(!e.point)return j(""),void(O.current&&m(O.current.value));e.seriesPrices.forEach((e=>{e&&m(e)})),e.time&&j(`${e.time.year}-${e.time.month}-${e.time.day} (UTC+8)`)};return Object(i.useEffect)((()=>{const e=(()=>{const e=document.querySelector(".info-chart").getBoundingClientRect();return Object(s.b)(c.current,{localization:{priceFormatter:e=>"$ "+Object(l.d)(e),locale:"en-US"},timeScale:{rightOffset:0,leftOffset:5,timeVisible:!0,borderColor:"#fff",borderVisible:!1},width:e.width,height:e.height,priceScale:{position:"none",borderColor:"#fff",borderVisible:!1,mode:0},handleScroll:!1,handleScale:!1,crosshair:{mode:s.a.Normal,vertLine:{labelVisible:!1,visible:!1},horzLine:{labelVisible:!1,visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#fff",fontSize:12}})})();return"area"===a&&(async e=>{const a=e.addAreaSeries({priceLineVisible:!1,lastValueVisible:!1,topColor:"RGBA(0,101,159,.5)",bottomColor:"RGBA(0,101,159,0)",lineColor:"RGB(0,101,159)",priceFormat:{precision:1,minMove:"1000"}}),i=await r.a.get(t);if(200===i.status&&Array.isArray(i.data.data)){let e=i.data.data.sort(((e,t)=>e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0));e=e.map((e=>({time:o()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:e.value}))),a.setData(e);const t=e[e.length-1];m(t.value),O.current=t}n.current=a,e.timeScale().fitContent()})(e),"histogram"===a&&(async e=>{const a=e.addHistogramSeries({color:"#00659F",priceLineVisible:!1,lastValueVisible:!1,priceFormat:{type:"volume",priceFormatter:e=>"$ "+e},scaleMargins:{top:.2,bottom:0}}),i=await r.a.get(t);if(200===i.status&&Array.isArray(i.data.data)){const e=i.data.data.sort(((e,t)=>e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0)).map((e=>({time:o()(new Date(1e3*e.timestamp),"yyyy-mm-dd"),value:Number(e.value)})));a.setData(e);const t=e[e.length-1];m(t.value),O.current=t}n.current=a,e.timeScale().fitContent()})(e),e.subscribeCrosshairMove(p),()=>{e&&(e.unsubscribeCrosshairMove(p),n.current&&e.removeSeries(n.current),e.remove())}}),[t,a]),Object(d.jsxs)("div",{className:"info-chart",children:[Object(d.jsxs)("div",{className:"chart-title",children:[Object(d.jsx)("div",{className:"title-label",children:e}),Object(d.jsxs)("div",{className:"title-value",children:[u?`$${Object(l.d)(u)}`:""," "]}),Object(d.jsxs)("div",{className:"title-date",children:[b," "]})]}),Object(d.jsx)("div",{className:"series",ref:c})]})}}}]);
//# sourceMappingURL=30.8b66b946.chunk.js.map