(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[34],{1393:function(e,t,c){},1442:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return n}));var s=c(897),a=(c(1393),c(898),c(28));function n({lang:e}){return Object(a.jsx)("div",{className:"governance",children:Object(a.jsx)(s.a,{lang:e})})}},665:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var s=c(9),a=c(28);function n({btnText:e,className:t,disabled:c,click:n,afterClick:l,checkApprove:i,wallet:r,spec:j,lang:d}){const[o,b]=Object(s.useState)(c?"disabled":"enabled"),[u,O]=Object(s.useState)(!0),[v,x]=Object(s.useState)(!1),[h,p]=Object(s.useState)(e),m=Object(s.useRef)(null),f=()=>{b("disabled"),x(!0),m.current&&(m.current.style.display="inline-block")},w=()=>{m.current&&(m.current.style.display="none"),b("enabled"),x(!1)};return Object(s.useEffect)((()=>((async()=>{if(i&&r&&r.detail.account){const e=await r.isApproved(j.pool,j.bTokenId);O(e)}})(),()=>{})),[r,j,i]),Object(s.useEffect)((()=>(e&&p(e),()=>{})),[e]),Object(a.jsxs)("button",{className:t,onClick:()=>{u?(async()=>{if("enabled"!==o)return;f(),await n()&&l&&l(),w()})():(async()=>{f(),(await r.approve(j.pool,j.bTokenId)).success?O(!0):(O(!1),alert(d["approve-failed"])),w()})()},children:[Object(a.jsx)("span",{className:"btn-loading-wrap",children:Object(a.jsx)("span",{ref:m,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),v?d.pending:u?h:d.approve]})}},666:function(e,t,c){"use strict";var s=c(54),a=c(677),n=c(120),l=c(7),i=c(9),r=c(671),j=c(70),d=c(28);t.a=Object(j.b)("wallet","trading")(Object(j.c)((function(e){var t=Object(i.useState)(Object(d.jsx)("span",{className:"loading-line"})),c=Object(l.a)(t,2),j=c[0],o=c[1],b=function(){var t=e.allowZero;return"object"!==Object(n.a)(e.value)&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t};return Object(i.useEffect)((function(){e.allowZero;var t=e.wallet,c=e.defaultValue,n=void 0===c?"--":c,l=Object(a.a)(e,["allowZero","wallet","defaultValue"]);b()?o(Object(d.jsx)(r.a,Object(s.a)(Object(s.a)({},l),{},{displayType:"text",fixedDecimalScale:!0}))):o(Object(d.jsx)("span",{className:"loading-line"}));var i=window.setTimeout((function(){b()||!t||t.isConnected()||o(n)}),3e4);return function(){clearTimeout(i)}}),[e.value]),j})))},737:function(e,t,c){"use strict";var s=c(9),a=c(70),n=c(665),l=c(666),i=c(12),r=c(28);t.a=Object(a.b)("wallet","loading")(Object(a.c)((function({wallet:e={},lang:t,loading:c}){const[a,j]=Object(s.useState)(!1),[d,o]=Object(s.useState)(!1),[b,u]=Object(s.useState)(!1),[O,v]=Object(s.useState)(""),[x,h]=Object(s.useState)(""),[p,m]=Object(s.useState)(""),[f,w]=Object(s.useState)([]),[N,g]=Object(s.useState)(""),[I,y]=Object(s.useState)(""),S=()=>{e.connect()},[k,C]=Object(s.useState)(Object(r.jsx)(n.a,{click:S,lang:t,className:"vote",btnText:t["connet-wallet"]})),E=e=>{let{value:t}=e.target;v(t)},_=async()=>{if(!O)return void alert(t["please-choose-your-vote-first"]);await T()&&(D(),R(),B())},T=async()=>{if((await Object(i.Cb)(e.detail.chainId,e.detail.account,O)).success){let t=!0;for(;t;){let c=await Object(i.X)(e.detail.account);t=c.timestamp?!(c.timestamp>I):!c.timestamp}return!0}},D=async()=>{let t=await Object(i.X)(e.detail.account);t&&("1"===t.option?(j(!0),h("I")):"2"===t.option?(o(!0),h("II")):"3"===t.option&&(u(!0),h("III")),y(t.timestamp))},R=async()=>{let t=await Object(i.W)(e.detail.account);t&&m(t)},B=async()=>{let e=await Object(i.bb)();if(c.loaded(),e){let t=+e[0]+ +e[1]+ +e[2];w(e),g(t)}else alert(e.error)};return Object(s.useEffect)((()=>{c.loading();let e=null;e=window.setInterval((()=>{B()}),1e3)}),[]),Object(s.useEffect)((()=>{document.getElementsByClassName("pre_eth")[0].style.width=+f[0]/N*100+"%",document.getElementsByClassName("pre_bsc")[0].style.width=+f[1]/N*100+"%",document.getElementsByClassName("pre_heco")[0].style.width=+f[2]/N*100+"%"}),[f,N]),Object(s.useEffect)((()=>{let t=null;e.isConnected()&&(t=window.setInterval((()=>{R(),D()}),1e3))}),[e,e.detail.account]),Object(s.useEffect)((()=>{let c;c=e.isConnected()?Object(r.jsx)(n.a,{className:"vote",lang:t,btnText:t.vote,click:_}):Object(r.jsx)(n.a,{click:S,className:"vote",lang:t,btnText:t["connet-wallet"]}),C(c)}),[e.detail.account,O]),Object(r.jsxs)("div",{className:"dip_two_box",children:[Object(r.jsx)("div",{className:"H2 DIP1",children:t["governance-title"]}),Object(r.jsxs)("div",{className:"title-describe",children:[Object(r.jsx)("div",{children:t["governance-describe"]}),Object(r.jsx)("div",{children:t["governance-describe-two"]}),Object(r.jsxs)("div",{children:[t["governance-describe-three"]," ",Object(r.jsx)("a",{className:"doc-a",rel:"noreferrer",target:"_blank",href:"https://docs.deri.finance/mining-faq#what-do-i-harvest-for-liquidity-mining",children:t["governance-describe-three-a"]}),"  ",t["governance-describe-three-one"]]}),Object(r.jsx)("br",{})]}),Object(r.jsxs)("div",{className:"flex",children:["I.",t["governance-options-one-describe"],Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"II.",t["governance-options-two-describe"],Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"III.",t["governance-options-three"],Object(r.jsx)("br",{})]}),Object(r.jsxs)("div",{className:"radio",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"fle",children:[Object(r.jsxs)("div",{className:"rad",children:[Object(r.jsx)("input",{type:"radio",name:"option",value:"1",id:"I",onChange:e=>E(e),defaultChecked:a})," ",Object(r.jsx)("label",{for:"I",children:"I"})]}),Object(r.jsxs)("div",{className:"prele_eth",children:[Object(r.jsx)("div",{className:"pre_eth"}),Object(r.jsxs)("span",{className:"num-deri",children:[" ",f[0]?Object(r.jsx)(l.a,{value:f[0],decimalScale:0,thousandSeparator:!0}):"0","   DERI"]})]})]}),Object(r.jsxs)("div",{className:"fle",children:[Object(r.jsxs)("div",{className:"rad",children:[Object(r.jsx)("input",{type:"radio",name:"option",value:"2",id:"II",onChange:e=>E(e),defaultChecked:d})," ",Object(r.jsx)("label",{for:"II",children:"II"})]}),Object(r.jsxs)("div",{className:"prele_bsc",children:[Object(r.jsx)("div",{className:"pre_bsc"}),Object(r.jsxs)("span",{className:"num-deri",children:[" ",f[1]?Object(r.jsx)(l.a,{value:f[1],decimalScale:0,thousandSeparator:!0}):"0","   DERI"]})]})]}),Object(r.jsxs)("div",{className:"fle",children:[Object(r.jsxs)("div",{className:"rad",children:[Object(r.jsx)("input",{type:"radio",name:"option",value:"3",id:"III",onChange:e=>E(e),defaultChecked:b})," ",Object(r.jsx)("label",{for:"III",children:"III"})]}),Object(r.jsxs)("div",{className:"prele_heco",children:[Object(r.jsx)("div",{className:"pre_heco"}),Object(r.jsxs)("span",{className:"num-deri",children:[" ",f[2]?Object(r.jsx)(l.a,{value:f[2],decimalScale:0,thousandSeparator:!0}):"0","   DERI"]})]})]})]}),Object(r.jsx)("div",{children:k}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[t["your-vote"]," : ",x]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[t["your-voting-power"]," : ",p?Object(r.jsx)(l.a,{value:p,decimalScale:0,thousandSeparator:!0}):"0"]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{class:"H2",children:"Voting rules:"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"1.",t["vote-rules-one"],Object(r.jsx)("br",{}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{className:"rules-describe",children:t["vote-rules-one-describe-one"]}),Object(r.jsx)("li",{className:"rules-describe",children:t["vote-rules-one-describe-two"]}),Object(r.jsx)("li",{className:"rules-describe",children:t["vote-rules-one-describe-three"]}),Object(r.jsx)("li",{className:"rules-describe",children:t["vote-rules-one-describe-four"]})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"2. ",t["vote-rules-two"],Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"3. ",t["vote-rules-three"],Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"4. ",t["vote-rules-four"]]})]})]})})))},897:function(e,t,c){"use strict";var s=c(1),a=c.n(s),n=c(3),l=c(7),i=c(9),r=c(70),j=(c(664),c(142)),d=(c(737),c(28));t.a=Object(r.b)("wallet")(Object(r.c)((function(e){e.wallet;var t=e.lang,c=Object(i.useState)(!0),s=Object(l.a)(c,2),r=s[0],o=s[1],b=function(){var e=Object(n.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"governance_box",children:[Object(d.jsxs)("div",{className:"check",children:[Object(d.jsx)("div",{className:r?"checked-now":"",onClick:function(){return b(!0)},children:t["vote-now"]}),Object(d.jsx)("div",{className:r?"":"checked-now",onClick:function(){return b(!1)},children:t.closed})]}),r&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"now-vote",children:t["no-proposals-found"]})}),!r&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"closed",children:[Object(d.jsx)("div",{className:"title"}),Object(d.jsx)("div",{children:Object(d.jsxs)(j.b,{to:"/diptwo",children:[" ",t["dip-two"]," "]})}),Object(d.jsx)("div",{children:Object(d.jsxs)(j.b,{to:"/diphistory",children:[" ",t["dip-one"]," "]})})]})})]})})))},898:function(e,t,c){}}]);
//# sourceMappingURL=34.c5a0d31d.chunk.js.map