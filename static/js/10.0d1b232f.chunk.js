(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[10],{665:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c(9),a=c(28);function n({btnText:e,className:t,disabled:c,click:n,afterClick:s,checkApprove:l,wallet:r,spec:o,lang:d}){const[j,b]=Object(i.useState)(c?"disabled":"enabled"),[u,m]=Object(i.useState)(!0),[O,A]=Object(i.useState)(!1),[p,x]=Object(i.useState)(e),g=Object(i.useRef)(null),f=()=>{b("disabled"),A(!0),g.current&&(g.current.style.display="inline-block")},h=()=>{g.current&&(g.current.style.display="none"),b("enabled"),A(!1)};return Object(i.useEffect)((()=>((async()=>{if(l&&r&&r.detail.account){const e=await r.isApproved(o.pool,o.bTokenId);m(e)}})(),()=>{})),[r,o,l]),Object(i.useEffect)((()=>(e&&x(e),()=>{})),[e]),Object(a.jsxs)("button",{className:t,onClick:()=>{u?(async()=>{if("enabled"!==j)return;f(),await n()&&s&&s(),h()})():(async()=>{f(),(await r.approve(o.pool,o.bTokenId)).success?m(!0):(m(!1),alert(d["approve-failed"])),h()})()},children:[Object(a.jsx)("span",{className:"btn-loading-wrap",children:Object(a.jsx)("span",{ref:g,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),O?d.pending:u?p:d.approve]})}},666:function(e,t,c){"use strict";var i=c(54),a=c(677),n=c(120),s=c(7),l=c(9),r=c(671),o=c(70),d=c(28);t.a=Object(o.b)("wallet","trading")(Object(o.c)((function(e){var t=Object(l.useState)(Object(d.jsx)("span",{className:"loading-line"})),c=Object(s.a)(t,2),o=c[0],j=c[1],b=function(){var t=e.allowZero;return"object"!==Object(n.a)(e.value)&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t};return Object(l.useEffect)((function(){e.allowZero;var t=e.wallet,c=e.defaultValue,n=void 0===c?"--":c,s=Object(a.a)(e,["allowZero","wallet","defaultValue"]);b()?j(Object(d.jsx)(r.a,Object(i.a)(Object(i.a)({},s),{},{displayType:"text",fixedDecimalScale:!0}))):j(Object(d.jsx)("span",{className:"loading-line"}));var l=window.setTimeout((function(){b()||!t||t.isConnected()||j(n)}),3e4);return function(){clearTimeout(l)}}),[e.value]),o})))},672:function(e,t,c){"use strict";var i=c(9),a=c(28);t.a=function(e){const t=Object(i.useRef)(null);return Object(i.useEffect)((()=>{const e=t.current;if(e){e.querySelectorAll("[tip]").forEach((t=>{let c=null;t.addEventListener("mouseover",(e=>{const t=e.currentTarget.getAttribute("tip");if(t){const i=`hover-box-${(new Date).getTime()}`;c=document.body.querySelector(`#${i}`),c=document.createElement("div"),c.style.cssText=`z-index : 9;min-width : 100px;max-width : ${window.screen.width}px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;`,document.body.appendChild(c),c.innerText=t,c.id=i,c.style.display="block";const a=e.currentTarget.getBoundingClientRect();if(c.style.top=`${a.y+a.height+window.document.documentElement.scrollTop}px`,c.offsetWidth+e.pageX>window.screen.width)if(e.pageX-c.offsetWidth>=0)c.style.left=e.pageX-c.offsetWidth+"px";else{const t=e.pageX-c.offsetWidth/2>0?e.pageX-c.offsetWidth/2:0;c.style.left=`${t}px`}else c.style.left=`${e.pageX}px`}})),e.addEventListener("mouseout",(e=>{c&&c.remove()}))}))}return()=>{t.current=null}}),[e.title]),e.block?Object(a.jsx)("div",{ref:t,children:e.children}):Object(a.jsx)("span",{ref:t,children:e.children})}},703:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c(9);function a(e){return Object(i.useEffect)((()=>(document.querySelector("body").style.overflow="hidden",()=>{e||(document.querySelector("body").style.overflow="auto")})),[]),null}},718:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var i=c(9),a=c(12),n=c(671),s=c(665),l=c(703),r=c(28);function o({wallet:e,spec:t={},onClose:c,balance:o,afterDeposit:d,nested:j,lang:b}){const[u,m]=Object(i.useState)(""),[O,A]=Object(i.useState)(""),[p,x]=Object(i.useState)(""),[g,f]=Object(i.useState)(!1);Object(l.a)(j);return Object(i.useEffect)((()=>((()=>{if(o){const e=(+o).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";m(o),A(t)}})(),()=>{})),[o]),Object(r.jsx)("div",{className:"modal fade",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(r.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{g||c()},children:Object(r.jsx)("span",{children:"\xd7"})})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("div",{className:"margin-box-info",children:[Object(r.jsx)("div",{children:b["wallet-balance"]}),Object(r.jsxs)("div",{className:"money",children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{className:"bt-balance",children:[Object(r.jsx)(n.a,{value:u,displayType:"text",decimalScale:0}),".",Object(r.jsx)("span",{style:{fontSize:"12px"},children:O})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(r.jsx)("span",{className:"add"})]}),Object(r.jsxs)("div",{className:"enter-margin",children:[Object(r.jsx)("div",{className:"input-margin",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"amount",style:{display:""!==p?"block":"none"},children:b.amount}),Object(r.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:p,onChange:e=>{const{value:t}=e.target;x(t)}})]})}),Object(r.jsx)("div",{children:t.bTokenSymbol})]}),Object(r.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(r.jsx)("span",{className:"max-num",children:o}),Object(r.jsx)("span",{className:"max-btn-left",onClick:()=>{x(o)},children:b["add-all"]})]}),Object(r.jsx)("div",{className:"add-margin-btn",children:Object(r.jsx)(s.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:t,lang:b,click:()=>(async i=>{const n=Object(a.g)(o);if(Object(a.g)(i).gt(n))return void alert(b["insufficient-balance-in-wallet"]);if(+i<=0||isNaN(i))return void alert(b["it-has-to-be-greater-than-zero-tip"]);f(!0),(await Object(a.m)(e.detail.chainId,t.pool,e.detail.account,i,t.bTokenId)).success?(d(),c()):alert(b["deposit-failed"]),f(!1)})(p)})})]})})]})})})}},719:function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var i=c(9),a=c(12),n=c(665),s=c(666),l=c(29),r=c(703),o=c(28);function d({wallet:e,spec:t={},position:c,onClose:d,afterWithdraw:j,availableBalance:b,nested:u,lang:m}){const[O,A]=Object(i.useState)(""),[p,x]=Object(i.useState)(""),[g,f]=Object(i.useState)(""),[h,v]=Object(i.useState)(!1);Object(r.a)(u);return Object(i.useEffect)((()=>((async()=>{if(e.isConnected()&&b){const e=b;A(e);const t=e.indexOf(".");x(t>0?e.substring(t+1,t+3):"00")}})(),()=>{})),[e.detail.account,c.margin,c.unrealizedPnl]),Object(o.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:m["withdraw-margin"]}),Object(o.jsx)("div",{className:"close",onClick:()=>{h||d()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:m["available-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsx)("span",{children:Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(s.a,{value:O,thousandSeparator:!0,decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:p})]})}),Object(o.jsx)("span",{className:"remove"})]}),Object(o.jsxs)("div",{className:"enter-margin remv",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==g?"block":"none"},children:m.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",value:g,onChange:e=>{const{value:t}=e.target;f(t)},placeholder:m.amount})]})}),Object(o.jsx)("div",{children:t.baseToken})]}),0===+c.marginHeld&&Object(o.jsxs)("div",{className:"max",children:[m.max,": ",Object(o.jsx)("span",{className:"max-num",children:O||c.margin}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{f(b)},children:m["remove-all"]})]}),+c.volume>0&&Object(o.jsxs)("div",{className:"max",children:[Object(o.jsx)("span",{className:"max-num"}),Object(o.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(n.a,{className:"margin-btn",btnText:m.withdraw,lang:m,click:async()=>{const c=Object(l.a)(O);if(Object(l.a)(g).gt(c))return void alert(m["under-margin"]);if(+g<=0||isNaN(g))return void alert(m["it-has-to-be-greater-than-zero-tip"]);v(!0);const i=c.eq(g),n=await Object(a.Db)(e.detail.chainId,t.pool,e.detail.account,g,t.bTokenId,i);if(n.success)j(),d();else{const e="string"===typeof n.error?n.error:n.error.errorMessage||n.error.message;alert(e)}v(!1)},checkApprove:!0,wallet:e,spec:t})})]})})]})})})}},720:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABBdSURBVHic7d0tj2xZFcfhBeFFkAwCLA6HJEGgwYHEkyBwgwJHwGEQjOILoPgKIAmCQDAEEiZoSHAkCEAMom/PdPet6qrzuvda63mS9mfudFf/797nNxMxn+9ExI8j4tODnwMAONG7EfFBRLwfEd8a/CwAwEkeB8Dj168i4ktDnwgAivn46Ae4w9ci4o8R8V5EvDP4WQCAg7w8AXj69c+I+F7kGC4AwAKvDYDHr99HxFdHPSAAZJf1b9JfjojfRMQvI+ILg58FANLJOgAiIj4WD5XAX0I2CADp3XMFcOlLNggAd8p8AvDSF+PhSkA2CAA3VBoAj2SDAJDQ2isA2SAAJLbnAJANAsAFXf5mLBsEgCe6DIAI2SAATO2IKwDZIAA80ekE4CXZIABtdR4Aj2SDALRjADz4ZDxcPfwtZIMANOAX3XOfj4ifRcTvQjYIQGEGwGWyQQBKMwCukw0CUJYBcNtnIuJHEfGnkA0CUIQBcD/ZIABlGADLyQYBSM8AWEc2CEBqfnFtIxsEICUDYB+yQQBSMQD2IxsEIA0DYH+yQQCmZwAcRzYIwLQMgOM9zQY/O/hZACAiDICzyAYBmIpfROf6XMgGAZiAATCGbBCAoQyAcWSDAAxjAIwnGwTgdAbAPGSDAJzGAJiPbBCAwxkAc5INAnAov1jmJhsE4BAGQA6yQQB2ZQDkIRsEYDcGQD6yQQA2MwDykg0CsJoBkJ9sEIDFDIAaZIMALOIXRS2yQQDuYgDUJBsE4FUGQF2yQQCuMgDqkw0C8BYDoA/ZIAAfMgD6kQ0CYAA0JRsEaM4Hf2+yQYCmDAAiZIMA7RgAPJINAjRiAPCSbBCgAQOAa2SDAIUZANwiGwQoyADgHrJBgGJ8kLOEbBCgCAOANWSDAMkZAKwlGwRIzABgK9kgQEIGAHuRDQIkYgCwN9kgQAIGAEeQDQJMzgczR5INAkzKAOAMskGAyRgAnEU2CDARA4CzyQYBJmAAMIpsEGAgA4DRZIMAAxgAzEA2CHAyH7TMRDYIcBIDgBnJBgEOZgAwK9kgwIEMAGYnGwQ4gAFAFrJBgB0ZAGQjGwTYgQFARrJBgI18cJKZbBBgJQOACmSDAAsZAFQhGwRYwACgGtkgwB0MAKqSDQK8wgCgOtkgwAUGAB3IBgFe8EFIJ7JBgDcMADqSDQLtGQB0JRsEWjMA6E42CLRkAMAD2SDQigEAz8kGgRYMAHibbBAozwcbXCcbBMoyAOA22SBQjgEA95ENAqUYALCMbBAowQCAdWSDQGoGAGwjGwRSMgBgO9kgkI4PKtiPbBBIwwCA/ckGgekZAHAM2SAwNQMAjiUbBKZkAMA5ZIPAVAwAOJdsEJiCAQDnkw0Cw/nggXFkg8AwBgCMJxsETmcAwBxkg8CpDACYi2wQOIUBAHOSDQKHMgBgbrJB4BAGAMxPNgjszgcJ5CEbBHZjAEA+skFgMwMAcpINApsYAJCbbBBYxQCAGmSDwCIGANQiGwTuYgBAPbJB4CYfDFCXbBC4ygCA+mSDwFsMAOhBNgg8YwBAL7JBICIMAOhKNgjNGQDQm2wQmjIAANkgNOQHHXgkG4RGDADgJdkgNGAAAJfIBqE4AwB4jWwQijIAgHvIBqEYAwBYQjYIRRgAwFKyQSjADy6wlmwQEjMAgK1kg5CQAQDsQTYIyRgAwJ5kg5CEAQAcQTYIkzMAgCPJBmFSBgBwNNkgTMgPInAW2SBMxAAAziYbhAkYAMAIskEYzAAARpINwiAGADAD2SCczAAAZiIbhJMYAMBsZINwAj9YwKxkg3AgAwCYnWwQDmAAABnIBmFnBgCQiWwQdmIAABnJBmEjAwDITDYIKxkAQHayQVjBDwpQhWwQFjAAgGpkg3AHAwCoSDYINxgAQGWyQbjCAAA6kA3CCwYA0IlsEN4wAIBuZIMQvvGBvmSDtGYAAN3JBmnJAACQDdKQAQDwEdkgbRgAAG+TDVKeAQBwnWyQsgwAgNfJBinJNzLAfWSDlGIAACwjG6QEAwBgOdkg6RkAAOvJBknLAADYTjZIOgYAwH5kg6RhAADsSzZICr4xAY4hG2RqBgDAsWSDTMkAADiebJDpGAAA55ENMg0DAOB8skGGMwAAxpENMowBADCWbJAhfKMBzEE2yKkMAIC5yAY5hQEAMB/ZIIczAADmJRvkMAYAwPxkg+zOAADIQzbIbgwAgFxkg+zCNw5ATrJBNjEAAHKTDbKKAQCQn2yQxQwAgDpkg9zNAACoRzbITQYAQF2yQa4yAABqkw1ykW8EgB5kgzxjAAD0IhskIgwAgI5kgxgAAI3JBhszAACQDTZkAADwSDbYiAEAwFOywSb8iwXgEtlgcQYAAK+RDRZlAABwi2ywIAMAgHvJBgsxAABYSjZYgAEAwFqywcQMAAC2kA0m5V8UAHuQDSZjAACwJ9lgEgYAAHuTDSZgAABwFNngxAwAAI4mG5yQAQDAWWSDEzEAADiTbHAS/uABGEE2OJgBAMBIssFBDAAARpMNDmAAADAL2eCJDAAAZiMbPIEBAMCsZIMHMgAAmJls8CD+IAHIQDa4MwMAgExkgzsxAADIRja4AwMAgKxkgxsYAABkJxtcwQAAoArZ4AIGAACVyAbv5A8GgIpkgzcYAABUJhu8wgAAoDrZ4AUGAABdyAafMAAA6EY2GAYAAH21zgYNAAA6a5sNtvkHBYBXtMsGDQAA+EibbNAAAIDnWmSDBgAAXFY6GzQAAOB1JbNBAwAA7lMqGzQAAOB+ZbLBtA8OAAOlzwYNAABYL202aAAAwDYps0EDAAD2kSobNAAAYF8pskEDAACOMXU2aAAAwPE+GP0AL31i9AMAQFG/jof/VsCfRz/IJU4AAGBf70fENyPi6zHpL/8IJwAAsJd/R8RPI+InEfGfwc9ykwEAANt8EBG/iIgfRMQ/Bj/L3QwAAFjvD/Hw/wb47egHWco7AACw3D8i4rsR8ZVI+Ms/wgkAACzxv4j4eUT8MCL+NfhZNjEAAOA+U2d9S7kCAIDXpcj6lnICAACXpcr6ljIAAOC5lFnfUgYAAHwkbda3lHcAAKBA1reUEwAAOiuT9S1lAADQVamsbylXAAB0UzLrW8oJAABdlM76ljIAAKiuRda3lAEAQGVtsr6lvAMAQEXtsr6lnAAAUEnbrG8pAwCAKlpnfUu5AgAgO1nfCk4AAMhK1reBAQBANrK+HRgAAGQi69uJdwAAyEDWtzMnAADMTNZ3EAMAgFnJ+g7kCgCA2cj6TuAEAIBZyPpOZAAAMJqsbwADAICRZH2DeAcAgBFkfYM5AQDgTLK+SRgAAJxF1jcRVwAAHE3WNyEnAAAcRdY3MQMAgL3J+hIwAADYk6wvCe8AALAHWV8yTgAA2ELWl5QBAMBasr7EXAEAsJSsrwAnAADcS9ZXiAEAwC2yvoIMAABeI+sryjsAAFwi6yvOCQAAT8n6mjAAAHgk62vEFQAAsr6GnAAA9CXra8wAAOhH1ocBANCMrI+I8A4AQBeyPp5xAgBQm6yPiwwAgLpkfVzlCgCgHlkfNzkBAKhD1sfdDACA/GR9LGYAAOQm62MV7wAA5CTrYxMnAAC5yPrYhQEAkIesj924AgCYn6yP3TkBAJiXrI/DGAAA85H1cTgDAGAusj5O4R0AgDnI+jiVEwCAsWR9DGEAAIwj62MYVwAA55P1MZwTAIDzyPqYhgEAcDxZH9MxAACOJetjSt4BADiGrI+pOQEA2JesjxQMAID9yPpIwxUAwHayPtJxAgCwnqyPtAwAgOVkfaRnAAAsI+ujBO8AANxH1kcpTgAAXifroyQDAOA6WR9luQIAeJusj/KcAAB8RNZHGwYAgKyPhgwAoDtZHy15BwDoStZHa04AgG5kfRAGANCLrA/ecAUAdCDrgxecAACVyfrgCgMAqEjWBzcYAEA1sj64g3cAgCpkfbCAEwAgO1kfrGAAAJnJ+mAlVwBARrI+2MgJAJCJrA92YgAAGcj6YGcGADA7WR8cwDsAwKxkfXAgJwDAbGR9cAIDAJiJrA9O4goAmIGsD07mBAAYSdYHgxgAwAiyPhjMAADOJuuDCXgHADiLrA8m4gQAOJqsDyZkAABHkvXBpFwBAEeQ9cHknAAAe5L1QRIGALAHWR8kYwAAW8n6ICHvAABryfogMScAwFKyPijAAACWkPVBEa4AgHvI+qAYJwDAa2R9UJQBAFwi64PiDADgJVkfNOAdAOCRrA8acQIAyPqgIQMAepP1QVOuAKAnWR805wQAepH1ARFhAEAXsj7gGQMA6pP1AW/xDgDUJesDrnICAPXI+oCbDACoRdYH3MUVANQg6wMWcQIAucn6gFUMAMhJ1gdsYgBAPrI+YDPvAEAesj5gN04AYH6yPmB3BgDMTdYHHMIVAMxJ1gccygkAzEXWB5zCAIA5yPqAUxkAMJ6sDziddwBgHFkfMIwTADifrA8YzgCAc8n6gCm4AoBzyPqAqTgBgGPJ+oApGQBwDFkfMDUDAPYn6wOm5x0A2I+sD0jDCQBsJ+sD0jEAYBtZH5CSKwBYR9YHpOYEAJaR9QElGABwH1kfUIoBALfJ+oByvAMA18n6gLKcAMDbZH1AeQYAPCfrA1pwBQAPZH1AK04A6E7WB7RkANCVrA9ozQCgI1kf0J53AOhE1gfwhhMAOpD1AbxgAFCdrA/gAlcAVCXrA3iFEwCqkfUB3MEAoApZH8ACBgAVyPoAFvIOAJnJ+gBWcgJARrI+gI0MALKR9QHswBUAWcj6AHbkBIDZyfoADmAAMCtZH8CBDABmJOsDOJh3AJiJrA/gJE4AmIGsD+BkBgCjyfoABnAFwCiyPoCBnABwNlkfwAQMAM4i6wOYiAHAGWR9AJPxDgBHkvUBTMoJAEeQ9QFMzgBgb7I+gARcAbAXWR9AIk4A2ErWB5CQAcBasj6AxAwA1pD1ASTnHQCWkPUBFOEEgHvI+gCKMQC4RdYHUJArAK6R9QEU5gSAl2R9AA0YADyS9QE0YgAQIesDaMc7AL3J+gCacgLQk6wPoDkDoB9ZHwCuABqR9QHwIScA9cn6AHiLAVCXrA+AqwyAmmR9ALzKOwC1yPoAuIsTgBpkfQAsYgDkJ+sDYDFXAHnJ+gBYzQlAPrI+ADYzAPKQ9QGwGwMgB1kfALvyDsDcZH0AHMIJwJxkfQAcygCYj6wPgMO5ApiHrA+A0zgBGE/WB8DpDIBxZH0ADGMAjCHrA2Ao7wCcS9YHwBScAJxD1gfAVAyA48n6AJiOK4DjyPoAmJYTgP3J+gCYngGwH1kfAGkYAPuQ9QGQincAtvl7yPoASMgJwDqyPgBSMwCWk/UBkJ4rgPvJ+gAowwnAbbI+AMoxAK6T9QFQlgFwmawPgNK8A/CcrA+AFpwAPJD1AdCKASDrA6ChzlcAsj4A2up4AiDrA6C9TgNA1gcAb3QZALI+AHii+jsAsj4AuKDqCYCsDwBeUXEAyPoA4IZKVwCyPgC4U4UTAFkfACyUeQDI+gBgpawDQNYHABtkewdA1gcARb0bD8f7T7/+GxHvRcQ7A58LAMrIcAUg6wOABh5PAP4aEd8Y/CwAwEm+HRHfj4hPDX4OACjr/+F/mKZgNNwOAAAAAElFTkSuQmCC"},757:function(e,t,c){"use strict";c.d(t,"a",(function(){return O}));var i=c(9),a=c(184),n=c(718),s=c(719),l=c(766),r=c(767),o=c(666),d=c(12),j=c(703),b=c(28);const u=Object(a.a)(n.a),m=Object(a.a)(s.a);function O({wallet:e,spec:t,afterDepositAndWithdraw:c,position:a,onClose:n,lang:s}){const[O,A]=Object(i.useState)([]),p=parseInt((document.body.offsetHeight-140)/54),[x,g]=Object(i.useState)(Array.from({length:p})),[f,h]=Object(i.useState)(!1),[v,N]=Object(i.useState)(!1),[w,y]=Object(i.useState)(""),[k,S]=Object(i.useState)(""),[C,D]=Object(i.useState)(""),[I,B]=Object(i.useState)("");Object(j.a)();const M=async()=>{if(e.detail.account&&t){const c=await Object(d.F)(e.detail.chainId,t.pool,e.detail.account,t.symbolId);A(c),c.length<p&&g(Array.from({length:p-c.length}))}};return Object(i.useEffect)((()=>(M(),window.scrollTo(0,0),()=>{})),[e.detail.account,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"modal fade",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:s["balance-in-contract-uppercase"]}),Object(b.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{c(),n()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"balance-list",children:[Object(b.jsxs)("div",{className:"row header",children:[Object(b.jsx)("span",{className:"btoken pc",children:s["base-token"]}),Object(b.jsx)("span",{className:"btoken mobile",children:s["base-token"]}),Object(b.jsx)("span",{className:"w-balance pc",children:s["wallet-balance"]}),Object(b.jsx)("span",{className:"w-balance mobile",children:s["wallet-balance"]}),Object(b.jsx)("span",{className:"avail-balance pc",children:s["available-balance"]}),Object(b.jsx)("span",{className:"avail-balance mobile",children:s["available-balance"]})]}),O.map(((e,t)=>Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(b.jsx)("span",{className:"w-balance",children:Object(b.jsx)(o.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsx)("span",{className:"avail-balance",children:Object(b.jsx)(o.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(b.jsxs)("span",{className:"action",children:[Object(b.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:()=>((e,t,c)=>{y(e),D(t),B(c),h(!0)})(e.walletBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:l.a,alt:s["add-margin"]})," ",s.add]}),Object(b.jsxs)("span",{className:"remove-margin",onClick:()=>((e,t,c)=>{S(e),D(t),B(c),N(!0)})(e.availableBalance,e.bTokenId,e.bTokenSymbol),children:[Object(b.jsx)("img",{src:r.a,alt:s["remove-margin"]})," ",s.remove]})]})]},t))),x.map(((e,t)=>Object(b.jsx)("div",{className:"row"},t)))]})})]})})}),Object(b.jsx)(u,{wallet:e,onClose:()=>h(!1),balance:w,spec:{...t,bTokenId:C,bTokenSymbol:I},position:a,modalIsOpen:f,afterDeposit:()=>{h(!1),M()},className:"trading-dialog",nested:!0,lang:s}),Object(b.jsx)(m,{wallet:e,onClose:()=>N(!1),spec:{...t,bTokenId:C,bTokenSymbol:I},position:a,modalIsOpen:v,afterWithdraw:()=>{N(!1),M()},availableBalance:k,className:"trading-dialog",nested:!0,lang:s})]})}},766:function(e,t,c){"use strict";t.a=c.p+"static/media/remove-margin.1ccb58c4.svg"},767:function(e,t,c){"use strict";t.a=c.p+"static/media/add-margin.8b496dd1.svg"},806:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},807:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},808:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMtJREFUKFNjZACCR35JUoxM/1L//2cMY2Rk0AKJYQP//zNcY2T8v+r/P6bZcpvmPWMEaWRg/LcKqGkPy3/GVZIb51/Dpfm5f6LWH8b/YUBDXBj+M4UxPg5IqAcqZpTdsKABlyZ0cZgexkf+iVdZGRhC8dmIrhnkgt8MDKuBNif+l90wn5FYW2HqQPoGkWaQc3B5Adl7WJ0NDEkH3JoXHBgkfqYwnilJYYi0vRuYtlcTkbZDgWnbFZy2kXJVGjBXhRKRq1YDc9UsUK4CANLUkGF0vLC1AAAAAElFTkSuQmCC"},809:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMNJREFUKFNjZAAC6yOGUsy/2VP///8fxsjIqAUSwwaA8teA8qv+sv6cfdTm/DNGkEamX+yrGBkZ9vxn/r/qsN3Ja7g02x4y12L8yxj2/z+Dyz+2n2GMdvst6oGKGQ85nmjApQldHKaH0Xaf+VUGFoZQfDaiawa5gOEPw2qQzf+BtjJis5WQ3CDSDHIqroBD9h5I3SByNrKTCYY2pfFMfgpDStu7gWl7NRFpOxSYtl3BaRspV6UBc00oEblqNTBXzQLlKgA5rqOIANC/1gAAAABJRU5ErkJggg=="},810:function(e,t,c){"use strict";var i=c(9),a=(c(845),c(664)),n=c.n(a),s=c(70),l=c(28);t.a=Object(s.b)("version","wallet","type")(Object(s.c)((function({lang:e,version:t,wallet:c,type:a}){const[s,r]=Object(i.useState)("main"),o=n()("area-picker-wrapper",s),[d,j]=Object(i.useState)({}),b=e=>{r(e),"innovation"===e?t.setCurrent("v2_lite"):"main"===e?t.setCurrent("v2"):"open"===e&&t.setCurrent("v2_lite_open")};return Object(i.useEffect)((()=>(t.isV2Lite?b("innovation"):t.isV2?b("main"):t.isOpen&&c.supportOpen&&b("open"),c.supportOpen?j({width:100/3+"%"}):j({width:"50%"}),()=>{})),[c.detail,t.current]),(t.isV2||t.isV2Lite||t.isOpen)&&c.supportInnovation&&!a.isOption?Object(l.jsx)("div",{className:"area-picker",children:Object(l.jsxs)("div",{className:o,children:[Object(l.jsx)("span",{className:"left",style:d,onClick:()=>b("main"),children:e["main-zone"]}),Object(l.jsx)("span",{className:"middle",style:d,onClick:()=>b("innovation"),children:e["innovation-zone"]}),c.supportOpen&&Object(l.jsx)("span",{className:"right",style:d,onClick:()=>b("open"),children:e["open-zone"]})]})}):null})))},835:function(e,t,c){"use strict";var i=c(7),a=c(9),n=c(120),s=c(1),l=c.n(s),r=c(3),o=c(12),d=c(664),j=c.n(d),b=c(184),u=c(718),m=c(719),O=c(666),A=c(29),p=c(70),x=c(757),g=c(767),f=c(766),h=c(806),v=c(807),N=c.p+"static/media/close-position-icon.6e2b1ee2.svg",w=c(672),y=c(28),k=Object(b.a)(u.a),S=Object(b.a)(m.a),C=Object(b.a)(x.a);function D(e){var t=e.trading,c=e.wallet,n=e.lang,s=Object(a.useState)(Object(y.jsx)("span",{})),l=Object(i.a)(s,2),r=l[0],o=l[1];return Object(a.useEffect)((function(){var e="";c.isConnected()&&t.position.liquidationPrice&&(t.position.liquidationPrice.numPositions>1?t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})]}):t.position.liquidationPrice.price1||t.position.liquidationPrice.price2?!t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-three"],children:" ? "})}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})," "]})]}):t.position.liquidationPrice.price1&&!t.position.liquidationPrice.price2&&(e=Object(y.jsxs)("span",{children:[Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1})," "]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-three"],children:" ? "})})]})):e=Object(y.jsxs)("span",{children:[Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-three"],children:" ? "})}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-three"],children:" ? "})})]}):t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})]}):t.position.liquidationPrice.price1||t.position.liquidationPrice.price2?!t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-two"],children:" -- "})]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})," "]})]}):t.position.liquidationPrice.price1&&!t.position.liquidationPrice.price2&&(e=Object(y.jsxs)("span",{children:[Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1})," "]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-two"],children:" -- "})]})]})):e=Object(y.jsxs)("span",{children:[Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-two"],children:" -- "})]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:n["liq-price-hover-two"],children:" -- "})]})]}),o(e))}),[t.position,c.detail]),Object(y.jsx)("span",{children:r})}var I=Object(p.b)("wallet","trading","version","type")(Object(p.c)((function(e){var t=e.wallet,c=e.trading,s=e.version,d=e.lang,b=e.type,u=Object(a.useState)(!1),m=Object(i.a)(u,2),p=m[0],x=m[1],I=Object(a.useState)(""),B=Object(i.a)(I,2),M=B[0],Q=B[1],E=Object(a.useState)(""),F=Object(i.a)(E,2),T=F[0],R=F[1],P=Object(a.useState)(""),Y=Object(i.a)(P,2),J=Y[0],G=Y[1],H=Object(a.useState)(!1),L=Object(i.a)(H,2),q=L[0],Z=L[1],V=Object(a.useState)(!1),z=Object(i.a)(V,2),U=z[0],W=z[1],K=Object(a.useState)(!1),X=Object(i.a)(K,2),$=X[0],_=X[1],ee=Object(a.useState)(""),te=Object(i.a)(ee,2),ce=te[0],ie=te[1],ae=function(){var e=Object(r.a)(l.a.mark((function e(){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!c.config){e.next=5;break}return e.next=3,Object(o.cb)(t.detail.chainId,c.config.pool,t.detail.account,c.config.bTokenId).catch((function(e){return console.error("load balance error,maybe network is wrong")}));case 3:(i=e.sent)&&ie(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(r.a)(l.a.mark((function e(){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Object(o.i)(t.detail.chainId,c.config.pool,t.detail.account,c.config.symbolId).finally((function(){return x(!1)}));case 3:(i=e.sent).success?se():"string"===typeof i.error?alert(i.error||d["close-position-failed"]):"object"===Object(n.a)(i.error)?alert(i.error.errorMessage||d["close-position-failed"]):alert(d["close-position-failed"]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){c.refresh(),ae()},le=j()("Direction","info-num",{LONG:+c.position.volume>0,SHORT:+c.position.volume<0});return Object(a.useEffect)((function(){return ae(),function(){}}),[t.detail.account,c.config]),Object(a.useEffect)((function(){if(c.position){var e=c.position,t=+e.volume>0?d.long:Object(A.e)(e.volume,0)||!e.volume?"--":d.short;Q(t),R(Object(o.g)(e.margin).plus(e.unrealizedPnl).toString()),G(Object(o.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[c.position.volume,c.position.margin,c.position.unrealizedPnl]),Object(y.jsxs)("div",{className:"position-info",children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:d.position}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:c.position.volume,thousandSeparator:!0,allowZero:!0})})]}),Object(y.jsx)("div",{className:"info-right",children:Object(y.jsxs)("div",{className:"close-position",id:"close-p",onClick:ne,children:[Object(y.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:p?"block":"none"}}),Object(y.jsx)("img",{src:N})," ",d.close]})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:d["average-entry-price"]}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:c.position.averageEntryPrice,decimalScale:2})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text balance-con",children:s.isV1||s.isV2Lite||b.isOption?Object(y.jsxs)(y.Fragment,{children:[d["balance-in-contract"],Object(y.jsx)("br",{})," (",d["dynamic-balance"],")"]}):d["dynamic-effective-balance"]}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{decimalScale:2,allowZero:!0,value:T})})]}),Object(y.jsx)("div",{className:"info-right action ".concat(s.current),children:s.isV1||s.isV2Lite||b.isOption||s.isOpen?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:function(){return W(!0)},children:[Object(y.jsx)("img",{src:f.a,alt:"add margin"})," ",d.add]}),Object(y.jsxs)("div",{className:"remove-margin",onClick:function(){return _(!0)},children:[Object(y.jsx)("img",{src:g.a,alt:"add margin"})," ",d.remove]})]}):Object(y.jsxs)("div",{onClick:function(){return Z(!0)},children:[Object(y.jsx)("img",{src:h.a,alt:"Remove margin"})," ",d.detail]})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:d.direction}),Object(y.jsx)("div",{className:le,children:M})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:d.margin}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:c.position.marginHeld,decimalScale:2})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:d["unrealized-pnl"]}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsxs)("span",{className:"pnl-list",children:[Object(y.jsx)(O.a,{value:c.position.unrealizedPnl,decimalScale:8}),(c.position.unrealizedPnlList?(s.isV2||s.isV2Lite||s.isOption)&&c.position.unrealizedPnlList.length:s.isV2||s.isV2Lite)&&Object(y.jsx)("img",{src:v.a,alt:"unrealizePnl"}),(s.isV2||s.isV2Lite||s.isOption)&&Object(y.jsx)("div",{className:"pnl-box",children:c.position.unrealizedPnlList&&c.position.unrealizedPnlList.map((function(e,t){return Object(y.jsxs)("div",{className:"unrealizePnl-item",children:[Object(y.jsx)("span",{children:e[0]}),Object(y.jsx)("span",{children:Object(y.jsx)(O.a,{value:e[1],decimalScale:8})})]},t)}))})]})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[b.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)(w.a,{children:Object(y.jsx)("div",{className:"title-text  funding-fee",tip:d["funding-fee-tip"],children:d["funding-fee"]})}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:-c.position.fundingFee,decimalScale:8})})]}),Object(y.jsx)("div",{className:"info-right"})]}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)(w.a,{children:Object(y.jsx)("div",{className:"title-text  funding-fee",tip:d["funding-fee-tip"],children:d["funding-fee"]})}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:-c.position.premiumFundingAccrued,decimalScale:8})})]}),Object(y.jsx)("div",{className:"info-right"})]})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsxs)("div",{className:"title-text",children:[Object(y.jsx)("span",{}),b.isOption?Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:d["liq-price-hover-one"],children:d["liquidation-price"]})}):Object(y.jsx)("span",{children:d["liquidation-price"]})]}),Object(y.jsx)("div",{className:"info-num",children:b.isOption?Object(y.jsx)(D,{trading:c,wallet:t,lang:d}):Object(y.jsx)(O.a,{decimalScale:4,value:c.position.liquidationPrice})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsx)(k,{wallet:t,modalIsOpen:U,onClose:function(){W(!1)},spec:c.config,afterDeposit:function(){W(!1),se()},balance:ce,className:"trading-dialog",lang:d}),Object(y.jsx)(S,{wallet:t,modalIsOpen:$,onClose:function(){_(!1)},spec:c.config,afterWithdraw:function(){_(!1),se()},position:c.position,availableBalance:J,className:"trading-dialog",lang:d}),Object(y.jsx)(C,{wallet:t,modalIsOpen:q,onClose:function(){Z(!1)},spec:c.config,afterDepositAndWithdraw:function(){se()},position:c.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:d})]})}))),B=c(699),M=c.n(B),Q=c(671);var E=c(84),F=c(720),T=E[o.a.get()].chainInfo;function R(e){var t=e.wallet,c=e.his,n=Object(a.useState)(!1),s=Object(i.a)(n,2),l=s[0],r=s[1],o=function(){r(!0)},d=function(){r(!1)},b=j()("view",{hover:l});return Object(y.jsxs)("span",{className:b,onMouseOut:d,children:[Object(y.jsx)("span",{className:"view-space",onMouseOver:o,children:Object(y.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(T[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:["View at ",T[t.detail.chainId].viewUrl]})}),Object(y.jsx)("span",{className:"right-arrow",onMouseOver:o,children:Object(y.jsx)("img",{alt:"",src:F.a})}),Object(y.jsx)("span",{className:"view-arrow",onMouseOver:o,onMouseOut:d,children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(T[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:Object(y.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var P=Object(p.b)("wallet","trading","type")(Object(p.c)((function(e){var t=e.wallet,c=e.trading,n=e.lang,s=e.type,o=Object(a.useState)([]),d=Object(i.a)(o,2),j=d[0],b=d[1];function u(){return(u=Object(r.a)(l.a.mark((function e(){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&c.configs&&c.config&&c.contract&&(i=c.history,a=i.map((function(e){e.directionText=n["long-buy"],"SHORT"===e.direction?e.directionText=n["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=n.liquidation);var t=c.config;return t&&(e.symbol=e.symbol?e.symbol:t.symbol,e.baseTokenText=e.baseToken?" ".concat(e.symbol," / ").concat(e.baseToken):e.symbol),e})),b(a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){u.apply(this,arguments)}(),function(){}}),[t.detail,c.configs,c.config,c.history]),Object(y.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[j.map((function(e,c){return Object(y.jsxs)("div",{className:"history-box",children:[Object(y.jsxs)("div",{className:"direction-bToken-price",children:[Object(y.jsxs)("span",{className:"direction",children:[Object(y.jsxs)("span",{className:"".concat(e.direction),children:[" ",e.directionText]}),Object(y.jsx)("span",{className:"basetoken",children:e.baseTokenText}),Object(y.jsx)(R,{wallet:t,his:e})]}),Object(y.jsx)("span",{className:"history-text time",children:M.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))})]}),Object(y.jsxs)("div",{className:"time-price-volume",children:[Object(y.jsxs)("div",{className:"history-price",children:[Object(y.jsxs)("div",{className:"history-title",children:[" ",s.isOption?n["volume-notional-price"]:n["volume-price"]]}),Object(y.jsxs)("div",{className:"history-text",children:[Object(y.jsx)(O.a,{value:e.volume,thousandSeparator:!0,allowZero:!0})," @ ",Object(y.jsx)(O.a,{value:e.price,decimalScale:4,displayType:"text"})]})]}),Object(y.jsxs)("div",{className:"notional",children:[Object(y.jsxs)("div",{className:"history-title",children:[" ",s.isOption?n["contract-value"]:n.notional]}),Object(y.jsx)("div",{className:"history-text",children:Object(y.jsx)(O.a,{value:e.notional,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"history-fee",children:[Object(y.jsx)("div",{className:"history-title pc",children:n["transaction-fee"]}),Object(y.jsx)("div",{className:"history-title mobile",children:n["transaction-fee"]}),Object(y.jsx)("div",{className:"history-text",children:Object(y.jsx)(O.a,{value:e.transactionFee,decimalScale:4})})]})]})]},c)})),0===+j.length?Object(y.jsx)("div",{className:"no-data",children:n["no-data"]}):""]})}))),Y=c(39);var J=Object(p.b)("wallet","trading","type")(Object(p.c)((function({wallet:e,trading:t,lang:c,type:i}){return Object(y.jsxs)("div",{className:"contract-box",children:[Object(y.jsx)("div",{className:"contract-header"}),Object(y.jsxs)("div",{className:"contract-info",children:[Object(y.jsx)("div",{className:"conntract-header",children:c["contract-info"]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["base-token"]}),Object(y.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map(((e,a)=>Y.a.isV2&&i.isFuture?Object(y.jsx)(w.a,{children:Object(y.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(y.jsxs)("span",{className:"multiplier",tip:c["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[a],"x"]}),")"]})},a):Object(y.jsx)("span",{className:"btoken-symbol",children:e},a)))})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[i.isOption&&c["symbol-option"],i.isFuture&&c.symbol]}),Object(y.jsx)("div",{className:"text",children:t.contract.symbol})]}),i.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[" ",Object(y.jsxs)("span",{children:[c["min-trade-volume"]," ( ",c.notional," )"]})," "]}),Object(y.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),(Y.a.isOpen||Y.a.isV1)&&Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["funding-rate-coefficient"]}),Object(y.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),!Y.a.isOpen&&Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["funding-rate-coefficient"]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{tip:t.fundingCoefficientTip,className:"margin-per",children:t.contract.fundingRateCoefficient?(a=+t.contract.fundingRateCoefficient,(a=+a.toFixed(11)).toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/)[0]):""})})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["min-initial-margin-ratio"]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["min-maintenance-margin-ratio"]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),i.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c.underlier}),Object(y.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c.strike}),Object(y.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["option-type"]}),Object(y.jsx)("div",{className:"text",children:"C"===t.contract.optionType?`${c.call}`:`${c.put}`})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[" ",Object(y.jsxs)("span",{children:[c["min-trade-volume"]," ( ",c.notional," )"]})," "]}),Object(y.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{tip:t.initialMarginRatioTip,className:"margin-per",children:c["initial-margin-ratio"]})})}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[" ",Object(y.jsx)(w.a,{block:!1,children:Object(y.jsxs)("span",{tip:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",c["maintenance-margin-ratio"]]})})," "]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(y.jsxs)("div",{className:"info",children:[i.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"title",children:c["transaction-fee"]})}),i.isOption&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"title",children:Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"margin-per",tip:t.TransactionFeeTip,children:c["transaction-fee"]})})})}),Object(y.jsxs)("div",{className:"text",children:[i.isOption&&Object(y.jsxs)(y.Fragment,{children:["C"===t.contract.optionType&&Object(y.jsxs)(y.Fragment,{children:[t.contract.strike>=t.index&&Object(y.jsxs)(y.Fragment,{children:[c["eo-mark-price"]," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike<t.index&&Object(y.jsxs)(y.Fragment,{children:[t.contract.underlier," ",c.price," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==t.contract.optionType&&Object(y.jsxs)(y.Fragment,{children:[t.contract.strike<t.index&&Object(y.jsxs)(y.Fragment,{children:[c["eo-mark-price"]," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike>=t.index&&Object(y.jsxs)(y.Fragment,{children:[t.contract.underlier," ",c.price," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),i.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),t.contract.indexConstituents&&t.contract.indexConstituents.tokens.length>0&&Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["index-constituent"]}),Object(y.jsx)("div",{className:"text",children:t.contract.indexConstituents.tokens.join(" | ")})]})]})]});var a}))),G=c(1064);c(983),c(842);const{Handle:H}=G.b;function L(e){const{value:t,dragging:c,index:i,...a}=e;return Object(y.jsx)(G.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(y.jsx)(H,{value:t,...a})},i)}function q({max:e="--",start:t,onValueChange:c,freeze:i,currentSymbolMarginHeld:n,originMarginHeld:s,setStopCalculate:l}){const[r,d]=Object(a.useState)(0),[b,u]=Object(a.useState)(0),[m,O]=Object(a.useState)(!1),[A,p]=Object(a.useState)({}),[x,g]=Object(a.useState)(!1),[f,h]=Object(a.useState)(!1);Object(a.useEffect)((()=>(O(i),0===Math.abs(e)&&O(!0),()=>{})),[i,e]),Object(a.useEffect)((()=>{const t=e;return 0!==Math.abs(e)&&"--"!==e||(e=100),isNaN(t)&&d(""),e&&p((e=>{const t={},c=+e/10;for(let i=0;i<=10;i++)if(0===i||10===i){const e={top:"-16px",position:"relative"};10===i&&(e.width=100,e.left="-10px",e.paddingRight="10px"),t[i*c]=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{style:e,children:10===i?(i*c).toFixed(2):i*c}),Object(y.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[i*c]="l";return t})(e)),d(+e),"--"!==t&&g(!0),0!==Math.abs(e)&&0!==Math.abs(t)||g(!1),()=>{}}),[e]),Object(a.useEffect)((()=>(f||(isNaN(t)?u(0):u(t)),()=>{})),[t]);const v=j()("deri-slider",{controlled:x});return Object(y.jsx)(G.b,{handle:L,className:v,start:t,min:0,max:r,value:b,onChange:e=>{h(!0),l(!0),u(e),c(e,!1)},onAfterChange:e=>{if(n){const t=Object(o.g)(s).minus(n);Object(o.g)(e).lt(t)&&(u(t),c(t))}h(!1),l(!1)},disabled:m,overlay:b,step:.01,marks:A})}var Z=c(665),V=c(35);var z=c.p+"static/media/arrow-down.5e5e4213.svg",U=c.p+"static/media/arrow-up.d36fae6d.svg";function W({symbol:e,trading:t,onSelect:c,index:i,version:n,type:s}){const[l,r]=Object(a.useState)(0),o=j()("sub-menu",{show:i===l});return Object(y.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(y.jsxs)("div",{className:"catalog",onClick:()=>(e=>{r(l===e?-1:e)})(i),children:[e,Object(y.jsx)("span",{className:"sub-memu-icon",children:l===i?Object(y.jsx)("img",{src:U,alt:""}):Object(y.jsx)("img",{src:z,alt:""})})]}),Object(y.jsx)("div",{className:o,children:Array.isArray(t.optionsConfigs[e])&&t.optionsConfigs[e].map(((e,t)=>Object(y.jsx)("div",{className:"dropdown-item",onClick:()=>c(e),children:Object(y.jsx)(K,{spec:e,version:n,type:s})},t)))},i)]},i)}function K({version:e,spec:t,type:c}){return c.isOption?`${t&&t.symbol||"BTCUSD-70000-C"}`:e.isV1||e.isV2Lite||e.isOpen?`${t&&t.symbol||"BTCUSD"} / ${t&&t.bTokenSymbol||"BUSD"} (10X)`:`${t&&t.symbol||"BTCUSD"} (10X)`}var X=Object(p.b)("trading","version","loading","type")(Object(p.c)((function({trading:e,version:t,loading:c,type:i}){const[n,s]=Object(a.useState)(!1),l=j()("dropdown-menu",{show:n}),r=t=>{t&&(c.loading(),e.pause(),e.onSymbolChange(t,(()=>c.loaded()),i.isOption),s(!1))};return Object(a.useEffect)((()=>{const e=e=>{document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&s(!1)};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[]),Object(y.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(y.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),s(!n)},className:"btn chec",children:[Object(y.jsx)(K,{spec:e.config,version:t,type:i}),Object(y.jsx)("span",{className:"check-base-down",children:n?Object(y.jsx)("img",{src:U,alt:""}):Object(y.jsx)("img",{src:z,alt:""})})]}),Object(y.jsx)("div",{className:l,children:i.isFuture?e.configs.map(((e,c)=>Object(y.jsx)("div",{className:"dropdown-item",onClick:t=>r(e),children:Object(y.jsx)(K,{spec:e,version:t,type:i})},c))):Object.keys(e.optionsConfigs).map(((c,a)=>Object(y.jsx)(W,{index:a,symbol:c,trading:e,onSelect:r,version:t,type:i},a)))})]})}))),$=c(808),_=c(809),ee=(c(984),Object(b.a)((function(e){var t=e.wallet,c=e.spec,n=e.onClose,s=e.direction,d=e.volume,j=e.position,b=void 0===j?0:j,u=e.indexPrice,m=e.leverage,A=e.afterLeverage,p=e.transFee,x=e.afterTrade,g=e.lang,f=e.markPriceAfter,h=e.trading,v=e.liquidationPrice,N=Object(a.useState)(!1),w=Object(i.a)(N,2),k=w[0],S=w[1],C=function(){var e=Object(r.a)(l.a.mark((function e(){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),d=Object(o.g)(d).div(Object(o.g)(h.contract.multiplier)).toString(),d="long"===s?d:-+d,e.next=5,Object(o.xb)(t.detail.chainId,c.pool,t.detail.account,d,c.symbolId);case 5:(i=e.sent).success?(x(),n()):(a="string"===typeof i.error?i.error:i.error.errorMessage||i.error.message,alert(a)),S(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){k||n()},I="long"===s?Object(o.g)(d).plus(Object(o.g)(b)).toString():Object(o.g)(b).minus(Object(o.g)(d)).toString();return Object(y.jsx)("div",{className:"modal-dialog",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("div",{className:"title",children:g.confirm}),Object(y.jsx)("div",{className:"close","data-dismiss":"modal",onClick:D,children:Object(y.jsx)("span",{children:"\xd7"})})]}),Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsxs)("div",{className:"contract-box-info",children:[Object(y.jsxs)("div",{className:"top",children:[Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["of-contracts"]}),Object(y.jsxs)("div",{className:"text-num",children:["long"===s?Object(y.jsx)(O.a,{value:d,thousandSeparator:!0,allowZero:!0}):Object(y.jsx)(O.a,{value:-d,thousandSeparator:!0,allowZero:!0})," ",h.config.unit]})]}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["position-after-execution"]}),Object(y.jsxs)("div",{className:"text-num",children:[Object(y.jsx)(O.a,{value:I,thousandSeparator:!0,allowZero:!0})," "]})]}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g.direction}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)("span",{className:s,children:g[s.toLowerCase()]})})]}),V.a.isFuture&&Object(y.jsxs)(y.Fragment,{children:[(Y.a.isOpen||Y.a.isV1)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text",children:[Object(y.jsxs)("div",{className:"text-title",children:[" ",g["trade-price-estimated"]]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:u,decimalScale:2,displayType:"text"})})]})}),!Y.a.isOpen&&!Y.a.isV1&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["confirm-trade-price"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:f,decimalScale:2,displayType:"text"})})]})})]}),V.a.isOption&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["confirm-trade-price"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:f,decimalScale:2,displayType:"text"})})]})}),V.a.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["cur-pos-leverage"]}),Object(y.jsxs)("div",{className:"text-num",children:[m,"X"]})]}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["leverage-after-execution"]}),Object(y.jsxs)("div",{className:"text-num",children:[A,"X"]})]})]}),V.a.isFuture&&Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["liquidation-price"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:v,decimalScale:2,displayType:"text"})})]}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:g["transaction-fee"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:p,decimalScale:2,suffix:" ".concat(c.bTokenSymbol),displayType:"text"})})]})]}),Object(y.jsx)("div",{className:"modal-footer",children:Object(y.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(y.jsx)("button",{className:"cancel",onClick:D,children:g.cancel}),Object(y.jsx)(Z.a,{className:"confirm",btnText:g.ok,click:C,lang:g})]})})]})})]})})}))),te=Object(b.a)(u.a),ce=Object(b.a)(m.a),ie=Object(b.a)(x.a);function ae(e){var t=e.hasConnectWallet,c=e.wallet,n=e.spec,s=e.volume,d=e.available,j=e.baseToken,b=e.leverage,u=e.indexPrice,m=e.position,O=e.transFee,A=e.afterTrade,p=e.direction,x=e.trading,g=e.version,f=e.lang,h=e.type,v=e.markPriceAfter,N=e.afterLeverage,w=e.liquidationPrice,k=Object(a.useState)(!0),S=Object(i.a)(k,2),C=S[0],D=S[1],I=Object(a.useState)(!0),B=Object(i.a)(I,2),M=B[0],Q=B[1],E=Object(a.useState)(!1),F=Object(i.a)(E,2),T=F[0],R=F[1],P=Object(a.useState)(!1),Y=Object(i.a)(P,2),J=Y[0],G=Y[1],H=Object(a.useState)(""),L=Object(i.a)(H,2),q=L[0],V=L[1],z=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.approve(n.pool,n.bTokenId);case 2:e.sent.success?(D(!0),K()):(D(!1),alert(f["approve-failed"]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.refresh(),G(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){x.refresh(),G(!1)},K=function(){var e=Object(r.a)(l.a.mark((function e(){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!n){e.next=5;break}return e.next=3,c.isApproved(n.pool,n.bTokenId);case 3:i=e.sent,D(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!n){e.next=5;break}return e.next=3,Object(o.cb)(c.detail.chainId,n.pool,c.detail.account,n.bTokenId).catch((function(e){return console.error("getWalletBalance was error,maybe network is Wrong")}));case 3:(t=e.sent)&&V(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return t()&&n&&X(),function(){}}),[c.detail.account,n,d]),Object(a.useEffect)((function(){return Q(!s),function(){}}),[s]),Object(a.useEffect)((function(){return n&&K(),function(){}}),[c.detail.isApproved,n]);var $=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ee,{wallet:c,className:"trading-dialog",spec:n,modalIsOpen:T,onClose:function(){return R(!1)},leverage:b,baseToken:j,volume:s,position:m.volume,indexPrice:u,transFee:O,afterTrade:A,direction:p,lang:f,markPriceAfter:v,afterLeverage:N,liquidationPrice:w,trading:x}),Object(y.jsx)("button",{className:"short-submit",onClick:function(){return R(!0)},children:f.trade})]});return t()?C?!d||+d<=0?$=Object(y.jsxs)(y.Fragment,{children:[g.isV2&&!h.isOption?Object(y.jsx)(ie,{wallet:c,modalIsOpen:J,onClose:W,spec:n,afterDepositAndWithdraw:W,position:x.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:f}):Object(y.jsx)(te,{wallet:c,modalIsOpen:J,onClose:function(){return G(!1)},spec:n,balance:q,afterDeposit:U,className:"trading-dialog",lang:f}),Object(y.jsx)("div",{className:"noMargin-text",children:0!==+x.position.margin&&x.position.margin?f["not-enough-margin-tip"]:f["no-margin-tip"]}),Object(y.jsx)("button",{className:"short-submit",onClick:function(){return G(!0)},children:f.deposit})]}):M&&($=Object(y.jsx)("button",{className:"btn btn-danger short-submit",children:f["enter-volume"]})):$=Object(y.jsx)(Z.a,{className:"approve",btnText:f.approve,click:z,lang:f}):$=Object(y.jsx)(Z.a,{className:"btn btn-danger connect",btnText:f["connect-wallet"],click:function(){c.connect()},lang:f}),Object(y.jsx)("div",{className:"submit-btn",children:$})}var ne=Object(p.b)("wallet","trading","version","type")(Object(p.c)((function(e){var t=e.wallet,c=void 0===t?{}:t,n=e.trading,s=e.version,d=e.lang,b=e.type,u=Object(a.useState)("long"),m=Object(i.a)(u,2),A=m[0],p=m[1],x=Object(a.useState)(),g=Object(i.a)(x,2),f=g[0],h=g[1],v=Object(a.useState)({}),N=Object(i.a)(v,2),k=(N[0],N[1]),S=Object(a.useState)(""),C=Object(i.a)(S,2),D=C[0],I=C[1],B=Object(a.useState)(""),M=Object(i.a)(B,2),Q=M[0],E=M[1],F=Object(a.useState)(""),T=Object(i.a)(F,2),R=T[0],P=T[1],Y=Object(a.useState)(""),J=Object(i.a)(Y,2),G=J[0],H=J[1],L=Object(a.useState)({}),Z=Object(i.a)(L,2),V=Z[0],z=Z[1],U=Object(a.useState)("rise"),W=Object(i.a)(U,2),K=W[0],ee=W[1],ne=Object(a.useState)("rise"),se=Object(i.a)(ne,2),le=se[0],re=se[1],oe=Object(a.useState)("0.000"),de=Object(i.a)(oe,2),je=de[0],be=de[1],ue=Object(a.useState)(""),me=Object(i.a)(ue,2),Oe=me[0],Ae=me[1],pe=Object(a.useState)(!0),xe=Object(i.a)(pe,2),ge=xe[0],fe=xe[1],he=Object(a.useState)(!1),ve=Object(i.a)(he,2),Ne=ve[0],we=ve[1],ye=Object(a.useState)(""),ke=Object(i.a)(ye,2),Se=ke[0],Ce=ke[1],De=Object(a.useState)(!1),Ie=Object(i.a)(De,2),Be=Ie[0],Me=Ie[1],Qe=Object(a.useState)(!1),Ee=Object(i.a)(Qe,2),Fe=Ee[0],Te=Ee[1],Re=Object(a.useState)(!1),Pe=Object(i.a)(Re,2),Ye=Pe[0],Je=Pe[1],Ge=Object(a.useState)(!1),He=Object(i.a)(Ge,2),Le=He[0],qe=He[1],Ze=Object(a.useState)(!1),Ve=Object(i.a)(Ze,2),ze=Ve[0],Ue=Ve[1],We=Object(a.useState)(""),Ke=Object(i.a)(We,2),Xe=Ke[0],$e=Ke[1],_e=Object(a.useRef)(),et=Object(a.useRef)(),tt=j()("checked-long","check-long-short"," long-short",{"checked-short":"short"===A}),ct=j()("contrant-input",{inputFamliy:""!==n.volume}),it=function(){at()},at=function(){nt(),n.refresh()},nt=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!n.config){e.next=5;break}return e.next=3,Object(o.cb)(c.detail.chainId,n.config.pool,c.detail.account,n.config.bTokenId).catch((function(e){return console.log(e)}));case 3:(t=e.sent)&&Ae(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=it,lt=function(){return c&&c.detail&&c.detail.account},rt=function(e){n.setVolume(""),p(e)},ot=function(){var e=Object(r.a)(l.a.mark((function e(){var t,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(lt()&&n.config&&n.volumeDisplay)){e.next=6;break}return t=dt(n.volumeDisplay),e.next=4,Object(o.s)(c.detail.chainId,n.config.pool,Math.abs(t),n.config.symbolId);case 4:i=e.sent,isNaN(i)||H((+i).toFixed(2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(e){return Object(o.g)(e).div(Object(o.g)(n.contract.multiplier)).toString()},jt=function(){var e=Object(r.a)(l.a.mark((function e(){var t,i,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(lt()&&n.config&&n.volumeDisplay&&b.isFuture)){e.next=10;break}return t=c.detail,i="long"===A?n.volumeDisplay:-n.volumeDisplay,e.next=5,Object(o.z)(t.chainId,n.config.pool,n.config.symbolId);case 5:return a=e.sent,e.next=8,Object(o.v)(t.chainId,n.config.pool,i,n.config.symbolId);case 8:s=e.sent,a&&s&&z({curLiqUsed:a.liquidityUsed0,afterLiqUsed:s.liquidityUsed1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(r.a)(l.a.mark((function e(){var t,i,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(lt()&&n.config&&n.volumeDisplay)){e.next=7;break}return t=dt(n.volumeDisplay),i="long"===A?t:-t,e.next=5,Object(o.t)(c.detail.chainId,n.config.pool,i,n.config.symbolId);case 5:(a=e.sent)&&(s=b.isOption?a.deltaFunding1:a.fundingRate1,I(s));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(r.a)(l.a.mark((function e(){var t,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(lt()&&n.config&&n.volumeDisplay)){e.next=7;break}return t=dt(n.volumeDisplay),i="long"===A?t:-t,e.next=5,Object(o.w)(c.detail.chainId,n.config.pool,i,n.config.symbolId);case 5:(a=e.sent)&&E(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(r.a)(l.a.mark((function e(){var t,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(lt()&&n.config&&n.volumeDisplay)){e.next=7;break}return t=dt(n.volumeDisplay),i="long"===A?t:-t,e.next=5,Object(o.u)(c.detail.chainId,n.config.pool,c.detail.account,i,n.config.symbolId);case 5:(a=e.sent)&&P(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e;return n.position&&n.position.volume&&(e=+n.position.volume,p(e>=0?"long":"short")),function(){}}),[n.position.volume]),Object(a.useEffect)((function(){return Fe||""===n.volumeDisplay?c.detail.account&&n.resume():(n.pause(),bt(),ut(),jt(),ot(),mt()),function(){}}),[n.volumeDisplay,Fe]),Object(a.useEffect)((function(){return nt(),function(){}}),[c.detail.account,n.config,n.amount.dynBalance]),Object(a.useEffect)((function(){_e.current>n.index?ee("fall"):ee("rise"),_e.current=n.index}),[n.index,n.config]),Object(a.useEffect)((function(){if(n.position){var e=n.position;$e(Object(o.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[n.position.volume,n.position.margin,n.position.unrealizedPnl]),Object(a.useEffect)((function(){var e=n.markPrice||(n.position?n.position.markPrice:"");if(et.current>e?re("fall"):re("rise"),et.current=e,h(e),e){var t=(+e).toFixed(n.priceDecimals),c=n.config&&n.config.symbol.split("-")[0];document.querySelector("head title").innerText="$".concat(t," ").concat(c,"-MARK.deri")}return function(){document.querySelector("head title").innerText="deri"}}),[n.index,n.position,n.markPrice,n.config,n.priceDecimals]),Object(a.useEffect)((function(){return n.config&&k(n.config),function(){}}),[n.config]),Object(a.useEffect)((function(){return n.margin&&n.direction&&p(n.direction),function(){}}),[n.margin]),Object(a.useEffect)((function(){var e="0.000";n.contract.multiplier<=1?e=n.contract.multiplier.replace(/1/gi,"0"):e=n.contract.multiplier;be(e)}),[n.contract]),Object(a.useEffect)((function(){return n.index&&c.isConnected()&&c.supportChain&&fe(!1),function(){}}),[c.detail.account,n.index]),Object(a.useEffect)((function(){return Ne||(n.position.volume>0?n.volume<0?p("short"):p("long"):n.position.volume<0&&(n.volume>0?p("short"):p("long"))),function(){}}),[n.volume,Ne]),Object(a.useEffect)((function(){if(n.fundingRate.funding0&&f){var e=Object(o.g)(n.fundingRate.funding0).div(Object(o.g)(f)).times(Object(o.g)(100)).toString();Ce(e)}}),[n.fundingRate,f]),Object(a.useEffect)((function(){return n.setUserSelectedDirection(A),function(){}}),[A]),Object(y.jsx)("div",{className:"trade-info",children:Object(y.jsxs)("div",{className:"trade-peration",children:[Object(y.jsxs)("div",{className:"check-baseToken",children:[Object(y.jsx)(X,{setSpec:k,spec:n.config,isOption:b.isOption}),Object(y.jsxs)("div",{className:b.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[b.isFuture&&!s.isOpen&&!s.isV1&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"mark-price",children:[d["mark-price"]," : ",Object(y.jsxs)("span",{className:le,children:["\xa0 ",Object(y.jsx)(O.a,{value:f,decimalScale:n.priceDecimals})]})]})}),b.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"index-prcie",children:[d["index-price"],": ",Object(y.jsxs)("span",{className:K,children:["\xa0 ",Object(y.jsx)(O.a,{value:n.index,decimalScale:n.priceDecimals})]})]})}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"mark-price",children:[d["eo-mark-price"]," : ",Object(y.jsxs)("span",{className:le,children:["\xa0 ",Object(y.jsx)(O.a,{value:f,decimalScale:4})]})]}),Object(y.jsxs)("div",{className:"index-prcie",children:[n.config&&b.isOption?n.config.symbol.split("-")[0]:""," : ",Object(y.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{value:n.index,decimalScale:2})]}),Object(y.jsx)("span",{className:"vol",children:" | "}),d.vol," : ",Object(y.jsx)(O.a,{value:n.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(y.jsxs)("div",{className:"funding-rate",children:[b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:n.optionFundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:n.optionFundingRateTip||"",children:Object(y.jsx)(O.a,{value:n.fundingRate.premiumFunding0,decimalScale:4})})})]}),b.isFuture&&(s.isOpen||s.isV1)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[d["funding-rate-annual"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:n.fundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:n.fundingRateTip||"",children:Object(y.jsx)(O.a,{value:n.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),b.isFuture&&!s.isOpen&&!s.isV1&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:n.dpmmFundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:n.dpmmFundingRateTip||"",children:Object(y.jsx)(O.a,{value:n.fundingRate.funding0,decimalScale:4})})}),Object(y.jsxs)(w.a,{block:!1,tip:n.rateTip,children:["\xa0  ",Object(y.jsxs)("span",{className:"funding-per",tip:n.rateTip||"",children:["(",Object(y.jsx)(O.a,{value:Se,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(y.jsxs)("div",{className:b.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[b.isFuture&&!s.isOpen&&!s.isV1&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"index-prcie",children:[d["mark-price"],": ",Object(y.jsxs)("span",{className:le,children:["\xa0 ",Object(y.jsx)(O.a,{value:f,decimalScale:n.priceDecimals})]})]})}),b.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"index-prcie",children:[d.index,": ",Object(y.jsxs)("span",{className:K,children:["\xa0 ",Object(y.jsx)(O.a,{value:n.index,decimalScale:n.priceDecimals})]})]})}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"mark-price",children:[d["eo-mark-price"]," : ",Object(y.jsxs)("span",{className:le,children:["\xa0 ",Object(y.jsx)(O.a,{value:f,decimalScale:2})]})]}),Object(y.jsxs)("div",{className:"index-prcie",children:[n.config&&b.isOption?n.config.symbol.split("-")[0]:"",": ",Object(y.jsxs)("span",{className:K,children:["\xa0 ",Object(y.jsx)(O.a,{value:n.index,decimalScale:2})]})]}),Object(y.jsxs)("div",{className:"index-prcie",children:[d.vol,": ",Object(y.jsx)(O.a,{value:n.volatility,decimalScale:2})]})]}),Object(y.jsxs)("div",{className:"funding-rate",children:[b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-per",tip:n.optionFundingRateTip||"",children:Object(y.jsx)(O.a,{value:n.fundingRate.premiumFunding0,decimalScale:4})})})]}),b.isFuture&&(s.isOpen||s.isV1)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[d["funding-rate-annual"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:n.fundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:n.fundingRateTip||"",children:Object(y.jsx)(O.a,{value:n.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),b.isFuture&&!s.isOpen&&!s.isV1&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:n.dpmmFundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:n.dpmmFundingRateTip||"",children:Object(y.jsx)(O.a,{value:n.fundingRate.funding0,decimalScale:4})})})]})]}),b.isFuture&&!s.isOpen&&!s.isV1&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"rate",children:Object(y.jsx)(w.a,{block:!1,tip:n.rateTip,children:Object(y.jsxs)("span",{className:"funding-per",tip:n.rateTip||"",children:["(",Object(y.jsx)(O.a,{value:Se,decimalScale:4,suffix:"%"}),")"]})})})})]})]}),Object(y.jsxs)("div",{className:tt,children:[Object(y.jsx)("div",{className:"check-long",onClick:function(){return rt("long")},children:d["long-buy"]}),Object(y.jsx)("div",{className:"check-short",onClick:function(){return rt("short")},children:d["short-sell"]})]}),Object(y.jsxs)("div",{className:"the-input",children:[Object(y.jsxs)("div",{className:"left",children:[Object(y.jsxs)("div",{className:"current-position",children:[Object(y.jsx)("span",{children:d["current-position"]}),Object(y.jsx)("span",{className:"position-text",children:Object(y.jsx)(O.a,{value:n.position.volume,allowZero:!0,thousandSeparator:!0})})]}),Object(y.jsx)("div",{className:"contrant option-input",children:Object(y.jsxs)("div",{className:"bg-input",children:[Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"number",step:n.contract.multiplier,onFocus:function(e){e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:function(e){var t=e.target,c=t.value,i=n.contract.multiplier;if(i<=1){var a=i.indexOf("."),s=i.slice(a).length;-1!==t.value.indexOf(".")&&(c="0"===(c=t.value.substring(0,t.value.indexOf(".")+s))?"":c,n.setVolume(c))}else{var l=i.length-1,r=c.slice(-l);c=c.slice(0,-l),c+=r=r.replace(/\d/gi,"0"),n.setVolume(c)}""!==c&&Me(c<i),""===t.value&&t.setAttribute("class","contrant-input")},onKeyPress:function(e){46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},disabled:!n.index||0===Math.abs(n.position.margin),onChange:function(e){return function(e){var t=e.target.value;n.setVolume(t),we(!0)}(e)},value:n.volumeDisplay,className:ct,placeholder:je})}),Object(y.jsx)("div",{className:"option-unit",children:n.config&&n.config.unit})]})}),Be&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"min-quantity",children:[d["option-input-min-quantity"],"\xa0 ",n.contract.multiplier," \xa0",n.config&&n.config.unit]})})]}),Object(y.jsx)("div",{className:"right-info",children:Object(y.jsxs)("div",{className:"contrant-info ".concat(s.current),children:[Object(y.jsxs)("div",{className:"balance-contract",children:[s.isV1&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:"balance-contract-text pc v1",children:[d["balance-in-contract"],Object(y.jsx)("br",{}),"(",d["dynamic-balance"],")"]}),Object(y.jsxs)("span",{className:"balance-contract-text mobile v1",children:[d["balance-in-contract"],Object(y.jsx)("br",{}),"(",d["dynamic-balance"],")"]})]}),(s.isV2||s.isV2Lite||b.isOption||s.isOpen)&&Object(y.jsxs)(w.a,{block:!1,children:[Object(y.jsx)("span",{className:"balance-contract-text pc",tip:d["dynamic-effective-balance-title"],children:d["dynamic-effective-balance"]}),Object(y.jsx)("span",{className:"balance-contract-text mobile",tip:d["dynamic-effective-balance-title"],children:d["dynamic-effective-balance"]})]}),Object(y.jsxs)("span",{className:"balance-contract-num ".concat(s.current),children:[s.isV1||s.isV2Lite||b.isOption||s.isOpen?Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:function(){return qe(!0)},tip:d["remove-margin"],children:Object(y.jsx)("img",{src:$.a,alt:"add margin"})})}):Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"open-add",id:"openAddMargin",tip:d["remove-margin"],onClick:function(){return Ue(!0)},children:Object(y.jsx)("img",{src:$.a,alt:"add margin"})})}),Object(y.jsx)(O.a,{value:n.amount.dynBalance,allowZero:!0,decimalScale:2}),s.isV1||s.isV2Lite||b.isOption||s.isOpen?Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"open-remove",onClick:function(){return Je(!0)},tip:d["add-margin"],children:Object(y.jsx)("img",{src:_.a,alt:"add margin"})})}):Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"open-remove",onClick:function(){return Ue(!0)},tip:d["add-margin"],children:Object(y.jsx)("img",{src:_.a,alt:"add margin"})})})]})]}),s.isV1&&Object(y.jsxs)("div",{className:"box-margin",children:[Object(y.jsx)("span",{children:d.margin}),Object(y.jsx)("span",{className:"margin",children:Object(y.jsx)(O.a,{value:n.amount.margin,allowZero:!0,decimalScale:2})})]}),(s.isV2||s.isV2Lite||b.isOption||s.isOpen)&&Object(y.jsxs)(w.a,{block:!1,children:[Object(y.jsx)("div",{className:"box-margin",children:d.margin}),Object(y.jsxs)("div",{className:"box-margin",children:[Object(y.jsxs)("span",{className:"total-held",tip:d["total-held-title"],children:["\xa0- ",d["total-held"]]}),Object(y.jsx)("span",{className:"margin",children:Object(y.jsx)(O.a,{value:n.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(y.jsxs)("div",{className:"margin-held-pos",children:[Object(y.jsxs)("span",{className:"pos-held",tip:d["for-this-pos-title"],children:["\xa0- ",d["for-this-pos"]," "]}),Object(y.jsx)("span",{className:"margin",children:Object(y.jsx)(O.a,{value:n.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(y.jsx)(w.a,{block:!0,children:Object(y.jsxs)("div",{className:"available-balance",children:[Object(y.jsxs)("span",{className:"pc",tip:d["available-balance-title"],children:[" ",d["available-balance"]," "]}),Object(y.jsx)("span",{className:"mobile",tip:d["available-balance-title"],children:d["available-balance"]}),Object(y.jsx)("span",{className:"available-balance-num",children:Object(y.jsx)(O.a,{value:n.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(y.jsx)("div",{className:"slider mt-13",children:Object(y.jsx)(q,{max:n.amount.dynBalance,onValueChange:function(e,t){n.setSlideMargin(e),we(!1),t&&p("long"===A?"short":"long")},start:n.amount.margin,freeze:ge,currentSymbolMarginHeld:n.position.marginHeldBySymbol,originMarginHeld:n.position.marginHeld,setStopCalculate:function(e){return Te(e)}})}),Object(y.jsx)("div",{className:"title-margin",children:d.margin}),Object(y.jsx)("div",{className:"enterInfo",children:!!n.volumeDisplay&&Object(y.jsxs)(y.Fragment,{children:[b.isFuture&&Object(y.jsxs)(y.Fragment,{children:[!s.isOpen&&!s.isV1&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["mark-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:f,decimalScale:n.priceDecimals})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["trade-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:Q,decimalScale:n.priceDecimals})})]})]}),(s.isOpen||s.isV1)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["trade-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:n.index,decimalScale:n.priceDecimals})})]})}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["pool-liquidity"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:n.fundingRate.liquidity,decimalScale:2,suffix:" ".concat(n.config.bTokenSymbol)})})]}),(s.isOpen||s.isV1)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:d["liquidity-used"]}),Object(y.jsxs)("div",{className:"text-enter",children:[Object(y.jsx)(O.a,{value:V.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(y.jsx)(O.a,{value:V.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:d["funding-rate-impact"]}),Object(y.jsxs)("div",{className:"text-enter",children:[Object(y.jsx)(O.a,{value:n.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(y.jsx)(O.a,{value:D,decimalScale:4,suffix:"%"})]})]})]})]}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["mark-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:f,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["trade-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:Q,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:d["pool-liquidity"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:n.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:" ".concat(n.config.bTokenSymbol)})})]})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:d["transaction-fee"]}),Object(y.jsx)("div",{className:"text-enter",children:Object(y.jsx)(O.a,{value:G,allowZero:!0,decimalScale:2,suffix:" ".concat(n.config.bTokenSymbol)})})]}),b.isFuture&&Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:d["liquidation-price"]}),Object(y.jsx)("div",{className:"text-enter",children:R>0?Object(y.jsx)(O.a,{value:R,decimalScale:2}):"--"})]})]})}),Object(y.jsx)(ae,{hasConnectWallet:lt,transFee:G,wallet:c,spec:n.config,indexPrice:n.index,available:n.amount.available,volume:n.volumeDisplay,direction:A,leverage:n.amount.leverage,afterLeverage:n.amount.afterLeverage,afterTrade:function(){n.setVolume(""),n.refresh(),c.refresh()},position:n.position,trading:n,version:s,lang:d,type:b,markPriceAfter:Q,liquidationPrice:R}),Object(y.jsx)(te,{wallet:c,modalIsOpen:Ye,onClose:function(){return Je(!1)},spec:n.config,afterDeposit:st,balance:Oe,className:"trading-dialog",lang:d}),Object(y.jsx)(ce,{wallet:c,modalIsOpen:Le,onClose:function(){return qe(!1)},spec:n.config,afterWithdraw:it,availableBalance:Xe,position:n.position,className:"trading-dialog",lang:d}),Object(y.jsx)(ie,{wallet:c,modalIsOpen:ze,onClose:function(){return Ue(!1)},spec:n.config,afterDepositAndWithdraw:function(){at()},position:n.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:d})]})})})));t.a=Object(p.b)("wallet","trading","loading","version","type")(Object(p.c)((function(e){var t=e.wallet,c=e.trading,n=e.isPro,s=e.lang,l=e.loading,r=e.version,o=(e.type,Object(a.useState)("trade")),d=Object(i.a)(o,2),b=d[0],u=d[1],m=function(e){return u(e)},O=j()("trade-position",b);return Object(a.useEffect)((function(){return l.loading(),c.init(t,(function(){l.loaded()})),function(){c.clean()}}),[t.detail.account,r.current]),Object(y.jsxs)("div",{className:O,children:[Object(y.jsx)("div",{className:"header-top",children:Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("span",{className:"trade",onClick:function(){return m("trade")},children:s.trade}),!n&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"pc position",onClick:function(){return m("position")},children:s["my-position"]}),Object(y.jsx)("span",{className:"mobile position",onClick:function(){return m("position")},children:s["my-position"]}),Object(y.jsx)("span",{className:"history",onClick:function(){return m("history")},children:s.history})]})]})}),Object(y.jsx)(ne,{lang:s}),Object(y.jsx)(I,{lang:s}),Object(y.jsx)(P,{wallet:t,spec:c.config,specs:c.configs,lang:s}),Object(y.jsx)(J,{lang:s})]})})))},842:function(e,t,c){},843:function(e,t){function c(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}c.keys=function(){return[]},c.resolve=c,e.exports=c,c.id=843},844:function(e,t){},845:function(e,t,c){},985:function(e,t){},986:function(e,t){},987:function(e,t){},988:function(e,t){},989:function(e,t){},990:function(e,t){}}]);
//# sourceMappingURL=10.0d1b232f.chunk.js.map